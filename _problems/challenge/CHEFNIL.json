{"category_name":"challenge","status":"success","problem_code":"CHEFNIL","problem_name":"Chef and Intersection Line","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3>Read problems statements in <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/NOV17\/mandarin\/CHEFNIL.pdf\">Mandarin chinese<\/a>, <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/NOV17\/russian\/CHEFNIL.pdf\">Russian<\/a> and <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/NOV17\/vietnamese\/CHEFNIL.pdf\">Vietnamese<\/a> as well.<\/h3>\n\n<p>Chef is playing a game that lasts <b>M<\/b> seconds. She has a matrix <b>A<\/b>[<b>M<\/b>][<b>N<\/b>][<b>N<\/b>] which contains a single integer in each of the <b>M<\/b> * <b>N<\/b> * <b>N<\/b> cells. For each k such that 1 \u2264 k \u2264 <b>M<\/b>, on the k-th second, she chooses some pair (i, j) such that 1 \u2264 i, j \u2264 <b>N<\/b>. This will fetch her <b>A<\/b>[k][i][j] points. She also has a 2-D Cartesian plane which is empty initially. Then for each second k, where k > 1, she will draw a line segment in the plane which joins the coordinates (i, j) and the coordinates chosen in the previous second. She can only select the pair (i, j) if this segment doesn't intersect with any already drawn segment (the touching of the newly drawn segment at the previous second segment point is allowed). So, the segments shouldn't intersect with each other at any point (except two consecutive segments touching at a single point). She is also not allowed to choose a pair (i, j) more than once. If Chef is not able to select a pair, or doesn't wish to play the game any longer, she can exit the game at any point. The aim is to maximize the sum of the points scored.<\/p>\n\n<p>Can you please play the game on behalf of Chef?<\/p>\n\n<h3>Input<\/h3>\n<p>The first line of each test case contains two space-separated integers <b>N<\/b>, <b>M<\/b>.<\/p>\n<p>Next, you will provided matrix <b>A<\/b>[k] for each k from 1 to <b>M<\/b>.<\/p>\n<p>The k-th matrix is given by <b>N<\/b> lines each containing <b>N<\/b> space separated integers.<\/p>\n\n<h3>Output<\/h3>\n<p>You should output at least 1 and at most <b>M<\/b> lines with two integers in each, denoting the r (for row index) and c (for column index) of the cells selected (1-based indexing) or \"-1 -1\" in order to exit the game.<\/p>\n\n<h3>Constraints<\/h3>\n<ul>\n<li><b>N<\/b> = 50<\/li>\n<li>1 \u2264 <b>A<\/b>[k][i][j] \u2264 100<\/li>\n<li>Constraints on <b>M<\/b> given below.<\/li>\n<\/ul>\n\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n3 4\n1 3 2\n3 4 2\n1 1 3\n2 2 5\n1 4 2\n3 3 3 \n2 3 1\n2 3 4\n1 8 1\n1 1 1\n1 1 1\n1 1 1\n\n<b>Output:<\/b>\n2 2\n3 1\n2 3\n1 1\n<\/pre>\n\n<h3>Scoring<\/h3>\n<p>Let <b>P<\/b> denote the total number of points that you receive during the game. Let <b>S<\/b> be the sum of all the <b>M<\/b> * <b>N<\/b> * <b>N<\/b> integers in the matrix <b>A<\/b>[<b>M<\/b>][<b>N<\/b>][<b>N<\/b>]. Then the score obtained will be 1000 * (<b>N<\/b> * <b>N<\/b> * <b>P<\/b>) \/ (sqrt(<b>M<\/b>) * <b>S<\/b>)<\/b>. Your total score will be the sum of your scores over all the test files.<\/p>\n\n<h3>Test Distribution<\/h3>\n<p>There are four kind of test files. <\/p>\n\n<p>First, we describe two probability distributions for generating the value in the cell <b>A<\/b>[k][i][j].<\/p>\n<p>Type 1 distribution is <b>int(100 * e<sup>d - 100<\/sup>)) + 1<\/b>, where the real number <b>d<\/b> is drawn from an uniform real distribution with range from 0 to 100.<\/p>\n<p>Type 2 distribution is minimum  of <b>(100 * 2<sup>-X + d<\/sup>) + 1<\/b> over 10 iterations, where <b>d<\/b>  is drawn from an uniform real distribution with range from 0 to 20, and X denotes the minimum of the Manhattan distances of cell (k, i, j) from the cells (k, 1, 1), (k, 1, <b>N<\/b>), (k, <b>N<\/b>, 1), (k, <b>N<\/b>, <b>N<\/b>), and (k, <b>N<\/b>\/2, <b>N<\/b>\/2). Note that if the value of the element exceeds 100, we keep it to 100.<\/p>\n\n<p>\n<ul>\n<li>Test 1 tests: Type 1 distribution and <b>M<\/b> = 50.<\/li>\n<li>Test 2 tests: Type 1 distribution and <b>M<\/b> = 500.<\/li>\n<li>Test 3 tests: Type 2 distribution and <b>M<\/b> = 50.<\/li>\n<li>Test 4 tests: Type 2 distribution and <b>M<\/b> = 500.<\/li>\n<\/ul>\n<\/p>\n\n<p>There are 3 files of each type of tests. During the contest, your score will be calculated over one-third of the test files, i.e. 1 file from each of these types. However, your submission will be run on all the test files and AC\/Non AC verdict will be given by running across all the test files.<\/p>\n\n<h3>Example Explanation<\/h3>\n<p>First second: Chef chooses the point <b>(2, 2)<\/b>, gets <b>A<\/b>[1][2][2] = 4 points.<\/p>\n<p>Second second: Chef chooses the point <b>(3, 1)<\/b>, gets <b>A<\/b>[2][3][1] = 3 points. A segment is drawn between points (2, 2) and (3, 1).<\/p>\n<p>Third second: Chef chooses the point <b>(2, 3)<\/b>, gets <b>A<\/b>[3][2][3] = 4 points. The newly drawn segment is between (3, 1) and (2, 3) which doesn't intersect with the already drawn segment between (2, 2) and (3, 1) (note that it's allowed to touch at the endpoint).<\/p>\n<p>Fourth second: Chef chooses the point <b>(1, 1)<\/b>, gets <b>A<\/b>[4][1][1] = 1 points. The newly drawn segment is between (2, 3) and (1, 1) which doesn't intersect with the already drawn segments.<\/p>\n\n<p>So total number of points obtained is <b>P<\/b> = 12. The final score obtained will be 683.544.<\/p>\n\n<p>For the given input, one could have also had the following output.\n\n<pre>\n1 1\n3 1\n2 1\n-1 -1\n\n<\/pre>\n\nBut this will give a WA, because the segment (1, 1) -> (3, 1) has many common points with (3, 1) -> (2, 1). <\/p>","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.5, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, SCALA, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, PERL6, TEXT, CLOJ, FS","max_timelimit":"2.5","source_sizelimit":"50000","problem_author":"berezin","problem_author_html_handle":"berezin","problem_tester":null,"problem_tester_html_handle":"","date_added":"8-09-2014","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/berezin'>berezin<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/challenge'>challenge<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/nov17'>nov17<\/a>","time":{"view_start_date":1510579800,"submit_start_date":1510579800,"visible_start_date":1510579800,"end_date":1735669800,"current":1525199506},"user":{"username":""},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}
---
{"category_name":"challenge","problem_code":"EFFPAINT","problem_name":"Efficient Painting","languages_supported":{"0":"C","1":"CPP14","2":"JAVA","3":"PYTH","4":"PYTH 3.5","5":"CS2","6":"PAS fpc","7":"PAS gpc","8":"RUBY","9":"PHP","10":"GO","11":"NODEJS","12":"HASK","13":"SCALA","14":"D","15":"PERL","16":"FORT","17":"WSPC","18":"ADA","19":"CAML","20":"ICK","21":"BF","22":"ASM","23":"CLPS","24":"PRLG","25":"ICON","26":"SCM qobi","27":"PIKE","28":"ST","29":"NICE","30":"LUA","31":"BASH","32":"NEM","33":"LISP sbcl","34":"LISP clisp","35":"SCM guile","36":"JS","37":"ERL","38":"TCL","39":"PERL6","40":"TEXT","41":"CLOJ","42":"FS"},"max_timelimit":1,"source_sizelimit":50000,"problem_author":"pieguy","problem_tester":"laycurse","date_added":"7-01-2013","tags":{"0":"ad","1":"challenge","2":"feb13","3":"pieguy"},"editorial_url":"http://discuss.codechef.com/problems/EFFPAINT","time":{"view_start_date":1360582602,"submit_start_date":1360582602,"visible_start_date":1360582602,"end_date":1735669800},"is_direct_submittable":false,"layout":"problem"}
---
<span class="solution-visible-txt">All submissions for this problem are available.</span><p>Chef recently took up painting. He likes painting pictures, but is always thinking of ways to make painting more efficient. Chef begins with a square canvas, initially painted completely white. He paints one rectangle at a time, where every edge must have integer length, and 2 edges of the rectangle must be parallel to the horizontal axis. When Chef paints a rectangle, he paints it in one of the following ways:
<ul>
<li>White - paint the entire rectangle white</li>
<li>Black - paint the entire rectangle black</li>
<li>Flip - All white paint inside the rectangle becomes black, and all black paint becomes white</li>
</ul>
</p>
<p>Chef wants your help in order to paint as few rectangles as possible. You will be given the final picture that Chef intends to paint.  You must come up with a plan to paint the picture. Chef knows this is a difficult problem, so he isn't requiring optimal solutions, but the fewer rectangles you use the more points you will score.</p>
<h3>Input</h3>
<p>Input will begin with an integer <b>N</b>, the size of the painting. <b>N</b> lines follow with <b>N</b> characters each, describing the picture chef wishes to paint. The top-left corner is <b>(0, 0)</b>, the top-right corner is <b>(0, N−1)</b>, the bottom-left corner is <b>(N−1, 0)</b>, and the bottom-right corner is <b>(N−1, N-1)</b>. A 'W' character indicates the corresponding cell of the painting is white, and a 'B' character indicates the cell is black.</p>
<h3>Output</h3>
<p>First output an integer <b>L</b>, the number of rectangles in your solution. This number must not exceed <b>N</b><sup>2</sup>. Then output <b>L</b> lines. Each line should consist of 2 pairs of integers followed by a 'W', 'B', or 'F' character. The first pair of integers is the <b>(row, column)</b> coordinates of the upper-left corner of the rectangle, and the second pair is the <b>(row, column)</b> coordinates of the bottom-right corner. The final character indicates the operation to perform on the rectangle, 'W' for white, 'B' for black, and 'F' for flip.</p>
<h3>Constraints</h3>
<p><b>10 ≤ N ≤ 50</b> (excepting Sample Input)<br />All official inputs are generated by the method described in Test Generation.</p>
<h3>Scoring</h3>
<p>Your score for each test file is <b>10*L/N<sup>2</sup></b>. Your overall score is the average of your scores on the individual test files. The goal is to minimize your score.</p>
<h3>Sample Input</h3>
<pre><code>5
BWBBB
BBBWW
BBWWB
BBWWB
WBBBW
</code></pre><h3>Sample Output</h3>
<pre>5
0 0 3 4 B
2 2 4 3 F
4 1 4 1 B
0 1 0 1 W
1 3 1 4 W
</pre><h3>Explanation</h3>
<p>The painting of the grid proceeds as follows:</p>
<pre><code>WWWWW
WWWWW
WWWWW
WWWWW
WWWWW

<b>BBBBB</b>
<b>BBBBB</b>
<b>BBBBB</b>
<b>BBBBB</b>
WWWWW

BBBBB
BBBBB
BB<b>WW</b>B
BB<b>WW</b>B
WW<b>BB</b>W

BBBBB
BBBBB
BBWWB
BBWWB
W<b>B</b>BBW

B<b>W</b>BBB
BBBBB
BBWWB
BBWWB
WBBBW

BWBBB
BBB<b>WW</b>
BBWWB
BBWWB
WBBBW
</code></pre><p>This sample output would score <b>10*5/5<sup>2</sup> = 2</b>.</p>
<h3>Test Generation</h3>
<p>We have <b>50</b> official test cases, each of them is created as follows:</p>
<p>An integer <b>N</b> is chosen from <b>[10, 50]</b> uniformly at random. An real value <b>p</b> is chosen from <b>[0.4, 0.6]</b> uniformly at random. Then each cell is independently chosen as 'B' with probability <b>p</b>, 'W' with probability <b>1 − p</b>.</p>

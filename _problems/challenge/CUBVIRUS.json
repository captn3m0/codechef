{"category_name":"challenge","status":"success","problem_code":"CUBVIRUS","problem_name":"(Challenge) Cubical Virus","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/DEC19\/hindi\/CUBVIRUS.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/DEC19\/bengali\/CUBVIRUS.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/DEC19\/mandarin\/CUBVIRUS.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/DEC19\/russian\/CUBVIRUS.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/DEC19\/vietnamese\/CUBVIRUS.pdf) as well.\r\n\r\nChef is working on a small project \u2015 he is building a cyberorganism. In his current design, the cyberorganism is an $N \\times N \\times N$ cube consisting of $N^3$ cells. Let's denote the cells by $(x, y, z)$, where $1 \\le x, y, z \\le N$.\r\n\r\nChef is currently working on the cyberorganism's self-defense mechanism against viruses. So far, he has figured out that viruses behave in the following way:\r\n- When the cyberorganism is infected by a virus, some of its cells immediately become infected, while the remaining ones stay healthy (so far).\r\n- Afterwards, the virus spreads itself. Whenever there is an infected cell $(x, y, z)$, the cells $(x + 1, y, z)$, $(x, y + 1, z)$ and $(x, y, z + 1)$ become infected as well (if they exist, i.e. the infection does not propagate outside the cyberorganism).\r\n- The virus continues spreading itself until there are no more cells that can be infected this way.\r\n\r\nChef noticed that it is possible for the cyberorganism to reorganise itself right after the initial infection (before the virus starts spreading). The cyberorganism can use this opportunity to make itself less vulnerable to the virus (i.e. minimise the number of infected cells after the virus finishes spreading).\r\n\r\nThe cyberorganism can reorganise itself by changing the order of the rows, columns and layers of its cells. In other words, it can choose three permutations $P, Q, R$ of the integers $1$ through $N$ (each permutation can be chosen independently from the other two) and reorganise itself in such a way that for each valid $x, y, z$, the cell $(P_x, Q_y, R_z)$ before the reorganisation becomes the cell $(x, y, z)$ afterwards. If this cell was infected before the reorganisation, then it remains infected afterwards, and if it was healthy, it remains healthy afterwards \u2015 only the coordinates of the infected and healthy cells change.\r\n\r\nChef has struggled for some time with an efficient self-defense mechanism and now, he has decided to ask for your help. You are given the coordinates of the cells that are infected initially. Determine how to reorganise the cyberorganism in order to minimise the number of cells that are infected after the virus finishes spreading.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $N$.\r\n- $N^2$ lines follow, where each block of $N$ lines describes a layer of the cube. Each of these lines contains a string with length $N$. For each valid $x, y, z$, the $x$-th character on the $(z-1)N+y$-th line is '1' if the cell $(x, y, z)$ is initially infected or '0' if this cell is initially healthy.\r\n\r\n### Output\r\nPrint three lines.\r\n- The first line should contain $N$ space-separated integers $P_1, P_2, \\ldots, P_N$.\r\n- The second line should contain $N$ space-separated integers $Q_1, Q_2, \\ldots, Q_N$.\r\n- Finally, the third line should contain $N$ space-separated integers $R_1, R_2, \\ldots, R_N$.\r\n\r\n### Constraints\r\n- $3 \\le N \\le 100$\r\n- all strings on the input contain only characters '0' and '1'\r\n- initially, there is at least one healthy cell\r\n\r\n### Scoring\r\nIn each test case (and therefore each test file), let $C$ be the number of initially infected cells and $K$ be the number of healthy cells after the virus stops spreading. If $K = 0$, your submission will receive the Wrong Answer verdict. Otherwise, your score for this test case is equal to $K \\cdot \\left(\\frac{C}{N^3}\\right)^{1.5}$. The score of a submission is equal to the sum of its scores over all test cases. The goal is to maximise the score of your submission.\r\n\r\nThere are 20 test files. During the contest, the displayed score will account for exactly four test files (numbered 2, 7, 12 and 17, see the Test Generation section), i.e. your score reflects your submission's performance on 20% (4 \/ 20) of the test files. However, if your program gets a non-AC verdict on any test file, your submission's verdict will be non-AC. In other words, an AC verdict denotes that your program runs successfully on all the test files. After the end of the contest, your score will be changed to include the sum of your program's scores over the other 16 test files.\r\n\r\n### Example Input\r\n```\r\n3\r\n011\r\n100\r\n010\r\n011\r\n010\r\n100\r\n000\r\n000\r\n010\r\n```\r\n\r\n### Example Output\r\n```\r\n1 3 2\r\n1 2 3\r\n3 2 1\r\n```\r\n\r\n### Explanation\r\nAfter reorganising, the state of the cyberorganism is (using the same format as on the input, with an extra line between each two blocks of $N$ lines)\r\n```\r\n000\r\n000\r\n001\r\n\r\n011\r\n001\r\n100\r\n\r\n011\r\n100\r\n001\r\n```\r\n \r\n\r\nAfter the virus spreads, the state of the cyberorganism becomes\r\n```\r\n000\r\n000\r\n001\r\n\r\n011\r\n011\r\n111\r\n\r\n011\r\n111\r\n111\r\n```\r\n\r\nThere are $9$ infected cells in the initial state and $11$ healthy cells in the final state, so the score of this output is $11 \\cdot \\left(\\frac{9}{3^3}\\right)^{1.5} \\approx 2.117$.\r\n\r\n### Test generation\r\n- $N = 100$ in all test cases (except for the example).\r\n- There are 20 test cases (numbered $0$ through $19$). In all test cases, the strings describing the initial state are generated independently and randomly.\r\n- For each valid $k$, each cell in the $k$-th test case is initially infected with probability $P$ or healthy with probability $1-P$, where $P = 0.8^{k + 3}$ is fixed.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/DEC19\/hindi\/CUBVIRUS.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/DEC19\/bengali\/CUBVIRUS.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/DEC19\/mandarin\/CUBVIRUS.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/DEC19\/russian\/CUBVIRUS.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/DEC19\/vietnamese\/CUBVIRUS.pdf) as well.\r\n\r\nChef is working on a small project \u2015 he is building a cyberorganism. In his current design, the cyberorganism is an $N \\times N \\times N$ cube consisting of $N^3$ cells. Let's denote the cells by $(x, y, z)$, where $1 \\le x, y, z \\le N$.\r\n\r\nChef is currently working on the cyberorganism's self-defense mechanism against viruses. So far, he has figured out that viruses behave in the following way:\r\n- When the cyberorganism is infected by a virus, some of its cells immediately become infected, while the remaining ones stay healthy (so far).\r\n- Afterwards, the virus spreads itself. Whenever there is an infected cell $(x, y, z)$, the cells $(x + 1, y, z)$, $(x, y + 1, z)$ and $(x, y, z + 1)$ become infected as well (if they exist, i.e. the infection does not propagate outside the cyberorganism).\r\n- The virus continues spreading itself until there are no more cells that can be infected this way.\r\n\r\nChef noticed that it is possible for the cyberorganism to reorganise itself right after the initial infection (before the virus starts spreading). The cyberorganism can use this opportunity to make itself less vulnerable to the virus (i.e. minimise the number of infected cells after the virus finishes spreading).\r\n\r\nThe cyberorganism can reorganise itself by changing the order of the rows, columns and layers of its cells. In other words, it can choose three permutations $P, Q, R$ of the integers $1$ through $N$ (each permutation can be chosen independently from the other two) and reorganise itself in such a way that for each valid $x, y, z$, the cell $(P_x, Q_y, R_z)$ before the reorganisation becomes the cell $(x, y, z)$ afterwards. If this cell was infected before the reorganisation, then it remains infected afterwards, and if it was healthy, it remains healthy afterwards \u2015 only the coordinates of the infected and healthy cells change.\r\n\r\nChef has struggled for some time with an efficient self-defense mechanism and now, he has decided to ask for your help. You are given the coordinates of the cells that are infected initially. Determine how to reorganise the cyberorganism in order to minimise the number of cells that are infected after the virus finishes spreading.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $N$.\r\n- $N^2$ lines follow, where each block of $N$ lines describes a layer of the cube. Each of these lines contains a string with length $N$. For each valid $x, y, z$, the $x$-th character on the $(z-1)N+y$-th line is '1' if the cell $(x, y, z)$ is initially infected or '0' if this cell is initially healthy.\r\n\r\n### Output\r\nPrint three lines.\r\n- The first line should contain $N$ space-separated integers $P_1, P_2, \\ldots, P_N$.\r\n- The second line should contain $N$ space-separated integers $Q_1, Q_2, \\ldots, Q_N$.\r\n- Finally, the third line should contain $N$ space-separated integers $R_1, R_2, \\ldots, R_N$.\r\n\r\n### Constraints\r\n- $3 \\le N \\le 100$\r\n- all strings on the input contain only characters '0' and '1'\r\n- initially, there is at least one healthy cell\r\n\r\n### Scoring\r\nIn each test case (and therefore each test file), let $C$ be the number of initially infected cells and $K$ be the number of healthy cells after the virus stops spreading. If $K = 0$, your submission will receive the Wrong Answer verdict. Otherwise, your score for this test case is equal to $K \\cdot \\left(\\frac{C}{N^3}\\right)^{1.5}$. The score of a submission is equal to the sum of its scores over all test cases. The goal is to maximise the score of your submission.\r\n\r\nThere are 20 test files. During the contest, the displayed score will account for exactly four test files (numbered 2, 7, 12 and 17, see the Test Generation section), i.e. your score reflects your submission's performance on 20% (4 \/ 20) of the test files. However, if your program gets a non-AC verdict on any test file, your submission's verdict will be non-AC. In other words, an AC verdict denotes that your program runs successfully on all the test files. After the end of the contest, your score will be changed to include the sum of your program's scores over the other 16 test files.\r\n\r\n### Example Input\r\n```\r\n3\r\n011\r\n100\r\n010\r\n011\r\n010\r\n100\r\n000\r\n000\r\n010\r\n```\r\n\r\n### Example Output\r\n```\r\n1 3 2\r\n1 2 3\r\n3 2 1\r\n```\r\n\r\n### Explanation\r\nAfter reorganising, the state of the cyberorganism is (using the same format as on the input, with an extra line between each two blocks of $N$ lines)\r\n```\r\n000\r\n000\r\n001\r\n\r\n011\r\n001\r\n100\r\n\r\n011\r\n100\r\n001\r\n```\r\n \r\n\r\nAfter the virus spreads, the state of the cyberorganism becomes\r\n```\r\n000\r\n000\r\n001\r\n\r\n011\r\n011\r\n111\r\n\r\n011\r\n111\r\n111\r\n```\r\n\r\nThere are $9$ infected cells in the initial state and $11$ healthy cells in the final state, so the score of this output is $11 \\cdot \\left(\\frac{9}{3^3}\\right)^{1.5} \\approx 2.117$.\r\n\r\n### Test generation\r\n- $N = 100$ in all test cases (except for the example).\r\n- There are 20 test cases (numbered $0$ through $19$). In all test cases, the strings describing the initial state are generated independently and randomly.\r\n- For each valid $k$, each cell in the $k$-th test case is initially infected with probability $P$ or healthy with probability $1-P$, where $P = 0.8^{k + 3}$ is fixed.\r\n","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"3","source_sizelimit":"50000","problem_author":"alex_2oo8","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span class='m-username--link'>alex_2oo8<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"24-11-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/alex_2oo8'>alex_2oo8<\/a>","problem_difficulty_level":"Unavailable","user_zen_mode":false,"best_tag":"","editorial_url":"","time":{"view_start_date":1576488720,"submit_start_date":1576488720,"visible_start_date":1576488720,"end_date":1735669800,"current":1643798005},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=CUBVIRUS","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
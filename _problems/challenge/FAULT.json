{"category_name":"challenge","status":"success","problem_code":"FAULT","problem_name":"Fault Tolerance","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><p>Chef has a set of very large set of very important data he doesn't want to lose. Chef has a number of servers on which he stores the data. To store the data, Chef begins by splitting his data into chunks. Then he assigns a set of chunks to each server. For the sake of redundancy, the same chunk may be assigned to multiple servers. If multiple chunks are assigned to the same server, there will not be enough space to store all of the chunks individually, so instead the chunks are combined together. When multiple chunks are combined together it is no longer possible to retrieve the data from the original chunks. However, by combining data from multiple servers it may be possible to retrieve the original data.<\/p>\n<p>Denote <b>A \u2295 B<\/b> as the result of combining chunks <b>A<\/b> and <b>B<\/b>. The following properties hold:<\/p>\n<ul>\n<li><b>A \u2295 B = B \u2295 A<\/b><\/li>\n<li><b>(A \u2295 B) \u2295 C = A \u2295 (B \u2295 C)<\/b><\/li>\n<li><b>(A \u2295 A) \u2295 B = B<\/b><\/li>\n<\/ul>\n<p>Note that the first two properties imply that when combining more than two chunks, the order in which they are combined does not matter.<\/p>\n<p>Let's consider an example (this example will coincide with the sample input below). There are <b>4<\/b> chunks of data, and <b>6<\/b> servers. Denote <b>C<sub>i<\/sub> (0 \u2264 i &lt; 4)<\/b> as the original chunks of data, and <b>S<sub>j<\/sub> (0 \u2264 j &lt; 6)<\/b> as the data stored on the servers. Chef combines chunks as follows:<\/p>\n<ul>\n<li><b>S<sub>0<\/sub> = C<sub>2<\/sub><\/b><\/li>\n<li><b>S<sub>1<\/sub> = C<sub>0<\/sub> \u2295 C<sub>3<\/sub><\/b><\/li>\n<li><b>S<sub>2<\/sub> = C<sub>0<\/sub> \u2295 C<sub>2<\/sub><\/b><\/li>\n<li><b>S<sub>3<\/sub> = C<sub>1<\/sub> \u2295 C<sub>3<\/sub><\/b><\/li>\n<li><b>S<sub>4<\/sub> = C<sub>0<\/sub> \u2295 C<sub>1<\/sub> \u2295 C<sub>2<\/sub><\/b><\/li>\n<li><b>S<sub>5<\/sub> = C<sub>0<\/sub> \u2295 C<sub>1<\/sub><\/b><\/li>\n<\/ul>\n<p>One way Chef may recover the original data is as follows:<\/p>\n<ul>\n<li><b>C<sub>0<\/sub> = S<sub>0<\/sub> \u2295 S<sub>2<\/sub><\/b><\/li>\n<li><b>C<sub>1<\/sub> = S<sub>2<\/sub> \u2295 S<sub>4<\/sub><\/b><\/li>\n<li><b>C<sub>2<\/sub> = S<sub>0<\/sub><\/b><\/li>\n<li><b>C<sub>3<\/sub> = S<sub>2<\/sub> \u2295 S<sub>3<\/sub> \u2295 S<sub>4<\/sub><\/b><\/li>\n<\/ul>\n<p>\nChef is now interested in how safe his data is. If the data from some servers is lost it may be impossible to recover the original data. Chef would like you to find a set of servers such that simultaneous failure would make some part of his data irrecoverable. Chef prefers that you find a small set of servers, but does not require minimality. Smaller sets will score more points.<\/p>\n<h3>Input<\/h3>\n<p>Each test file contains only one test case.<\/p>\n<p>The first line of input contains <b>2<\/b> space-separated integers <b>N<\/b> and <b>S<\/b>, denoting the number of chunks and number of servers, respectively. Then <b>S<\/b> lines follow, each with a description of the chunks stored on one server. A server description consists of an integer <b>C<\/b> denoting the number of chunks assigned to this server, followed by <b>C<\/b> integers denoting the ids of the chunks assigned to this server. Chunks are numbered from <b>0<\/b> to <b>N\u22121<\/b> and servers numbered <b>0<\/b> to <b>S\u22121<\/b>.<\/p>\n<h3>Output<\/h3>\n<p>First output an integer <b>K<\/b>, the number of failing servers in your solution. Then output the distinct ids of the failing servers.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>50 \u2264 N \u2264 200<\/b><\/li>\n<li><b>2*N \u2264 S \u2264 1000<\/b><\/li>\n<li><b>1 \u2264 C \u2264 N<\/b><\/li>\n<li>Each server stores distinct chunks.<\/li>\n<li>Chef can recover the original data if no servers are lost.<\/li>\n<li>All official test files are generated by the method written in Test Case Generation.<\/li>\n<\/ul>\n<p>Note that the following Sample Input does not satisfy the constraints.<\/p>\n<h3>Scoring<\/h3>\n<p>Your score for each test file is <b>10*K\/(S\u2212N+1)<\/b>. The total score is the average of scores over all test files. The goal is to minimize your score.<\/p>\n<h3>Example<\/h3>\n<pre>\n<b>Input:<\/b>\n4 6\n1 2\n2 0 3\n2 0 2\n2 1 3\n3 0 1 2\n2 0 1\n\n<b>Output:<\/b>\n1\n2\n<\/pre><h3>Explanation<\/h3>\n<p>This sample output would score <b>10*1\/(6\u22124+1) = 3.333...<\/b>. If server <b>2<\/b> is lost, there is no way to recover data chunks <b>0<\/b>, <b>1<\/b>, or <b>3<\/b>.<\/p>\n<h3>Test Case Generation<\/h3>\n<p>The judge has <b>40<\/b> official test files.<\/p>\n<p>An integer <b>N<\/b> is chosen randomly and uniformly between <b>50<\/b> and <b>200<\/b>, inclusive. Then an integer <b>S<\/b> is chosen randomly and uniformly between <b>2*N<\/b> and <b>1000<\/b>, inclusive. A real number <b>P<\/b> is chosen randomly and uniformly between <b>0.3<\/b> and <b>0.8<\/b>, inclusive, and each chunk is assigned to each server with probability <b>P<\/b>. The order of the chunks assigned to each server is shuffled.<\/p>\n<p>If a generated test does not satisfy the constraints, then the test is discarded.<\/p>\n","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.5, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, SCALA, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, PERL6, TEXT, CLOJ, FS","max_timelimit":"1","source_sizelimit":"50000","problem_author":"pieguy","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>pieguy<\/span>","problem_tester":"laycurse","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>laycurse<\/span>","date_added":"7-02-2013","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/april13'>april13<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/bitwise'>bitwise<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/challenge'>challenge<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/gauss-elim'>gauss-elim<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/pieguy'>pieguy<\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/FAULT","time":{"view_start_date":1366018200,"submit_start_date":1366018200,"visible_start_date":1366018200,"end_date":1735669800,"current":1525199663},"user":{"username":""},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}
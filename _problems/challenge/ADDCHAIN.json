{"category_name":"challenge","status":"success","problem_code":"ADDCHAIN","problem_name":"Addition chains","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><p>\nAn <i>addition chain<\/i> for a positive integer <b>N<\/b> is a sequence of positive integers <b>C = (A<sub>0<\/sub>, A<sub>1<\/sub>, ..., A<sub>L<\/sub>)<\/b> such that\n\n<ul>\n<li><b>1 = A<sub>0<\/sub> &lt; A<sub>1<\/sub> &lt; ... &lt; A<sub>L \u2013 1<\/sub> &lt; A<sub>L<\/sub> = N<\/b>,<\/li>\n<li>for each <b>i<\/b> such that <b>1 \u2264 i \u2264 L<\/b> there exist integers <b>j<\/b> and <b>k<\/b> such that <b>0 \u2264 j, k &lt; i<\/b> and <b>A<sub>i<\/sub> = A<sub>j<\/sub> + A<sub>k<\/sub><\/b>.<\/li>\n<\/ul>\n<\/p>\n\n<p>\nThe integer <b>L<\/b> is called the <i>length<\/i> of the chain <b>C<\/b>.\n<\/p>\n\n<p>\nFor example, <b>C = (1, 2, 3, 6, 12, 15)<\/b> is an addition chain of length <b>5<\/b> for <b>N = 15<\/b>. Indeed,\n<\/p>\n<p>\n<b>A<sub>0<\/sub> = 1<\/b>,<br \/>\n<b>A<sub>1<\/sub> = 2 = 1 + 1 = A<sub>0<\/sub> + A<sub>0<\/sub><\/b>,<br \/>\n<b>A<sub>2<\/sub> = 3 = 2 + 1 = A<sub>1<\/sub> + A<sub>0<\/sub><\/b>,<br \/>\n<b>A<sub>3<\/sub> = 6 = 3 + 3 = A<sub>2<\/sub> + A<sub>2<\/sub><\/b>,<br \/>\n<b>A<sub>4<\/sub> = 12 = 6 + 6 = A<sub>3<\/sub> + A<sub>3<\/sub><\/b>,<br \/>\n<b>A<sub>5<\/sub> = 15 = 3 + 12 = A<sub>2<\/sub> + A<sub>4<\/sub><\/b>.<br \/>\n<\/p>\n<p>\nIt is, in fact, the shortest addition chain for <b>N = 15<\/b>.\n<\/p>\n\n<p>\nYour task is to find some addition chain for a given positive integer <b>N<\/b>.\n<\/p>\n\n<p>\n<b>The shorter chain you will find the better score you will get.<\/b>\n<\/p>\n\n<h3>Input<\/h3>\n\n<p>\nThe only line of the input file contains an integer <b>N<\/b>, the number for which you need to find an addition chain.\n<\/p>\n\n<h3>Output<\/h3>\n\n<p>\nThe first line of the output file should contain an integer <b>L \u2264 500<\/b>, the length of your addition chain for the value of <b>N<\/b> given in the input file. <b>L<\/b> lines should follow. <b>i<\/b><sup>th<\/sup> line should contain two non-negative integers <b>j[i]<\/b> and <b>k[i]<\/b> both less than <b>i<\/b> separated by exactly one space. Their meaning is that for your addition chain, <b>A<sub>i<\/sub><\/b> is equal to <b>A<sub>j[i]<\/sub> + A<sub>k[i]<\/sub><\/b>. More specifically, your output will be considered as correct if and only if all of the following conditions hold:\n\n<ul>\n<li><b>1 \u2264 L \u2264 500<\/b>;<\/li>\n<li><b>0 \u2264 j[i], k[i] &lt; i<\/b> for all <b>i<\/b> such that <b>1 \u2264 i \u2264 L<\/b>;<\/li>\n<li>for the sequence <b> (A<sub>0<\/sub>, A<sub>1<\/sub>, ..., A<sub>L<\/sub>)<\/b> defined by the rules <b>A<sub>0<\/sub> = 1<\/b> and <b>A<sub>i<\/sub> = A<sub>j[i]<\/sub> + A<sub>k[i]<\/sub><\/b> for <b>i = 1, 2, ..., L<\/b> we have <b>1 = A<sub>0<\/sub> &lt; A<sub>1<\/sub> &lt; ... &lt; A<sub>L \u2013 1<\/sub> &lt; A<sub>L<\/sub> = N<\/b>.<\/li>\n<\/ul>\n<\/p>\n\n<p>\n<b>Your program will get Accepted if and only if it returns correct output for each test case within a given time limit.<\/b>\n<\/p>\n\n<h3>Scoring<\/h3>\n\n<p>\nYour score for a test file is the length of your addition chain, that is, an integer <b>L<\/b>. The total score for a submission is the average score across all test files. Your goal is to minimize the total score.\n<\/p>\n\n<h3>Constraints<\/h3>\n<p><b>1<\/b> &lt; <b>N<\/b> &lt; <b>10<sup>100<\/sup><\/b><\/p>\n\n<h3>Example<\/h3>\n<pre>\n<b>Input:<\/b>\n15\n\n<b>Output:<\/b>\n6\n0 0\n1 0\n2 0\n0 3\n4 4\n4 5\n<\/pre>\n\n<h3>Explanation<\/h3>\n\n<p>\nSample output represents an addition chain <b>(1, 2, 3, 4, 5, 10, 15)<\/b> for <b>N = 15<\/b>. Your score for such output will be <b>6<\/b>. Note that according to the problem statement shorter chain is possible for this value of <b>N<\/b> but you don't need to find the shortest chain since this is a challenge problem. Also note that order in which we write numbers <b>j[i]<\/b> and <b>k[i]<\/b> for the given <b>i<\/b> doesn't matter.\n<\/p>\n\n<h3>Test Generation<\/h3>\n\n<p>\nValues of <b>N<\/b> are generated using different strategies. There are <b>50<\/b> official test files in all. Among them there are <b>8<\/b> files where <b>N &lt; 100000<\/b>, <b>5<\/b> files where <b>N<\/b> is a random decimal string of the length <b>100<\/b> (that is, each digit of <b>N<\/b> is distributed uniformly in the range <b>[0, 9]<\/b> except the first digit which is distributed in the range <b>[1, 9]<\/b>), <b>8<\/b> files where binary representation of <b>N<\/b> is a random string of the random length from <b>300<\/b> to <b>332<\/b> (that is, at first an integer <b>L<\/b> is chosen randomly in the range <b>[300, 332]<\/b> and then <b>L<\/b> digits <b>d<sub>1<\/sub>, d<sub>2<\/sub>, ..., d<sub>L<\/sub><\/b> are chosen so that <b> d<sub>1<\/sub> = 1<\/b> and each <b> d<sub>i<\/sub>, 2 \u2264 i \u2264 L,<\/b> is uniformly distributed in the range <b>[0, 1]<\/b>. After that <b>N<\/b> is set to <b>d<sub>1<\/sub> \u2219 2<sup>L-1<\/sup> + d<sub>2<\/sub> \u2219 2<sup>L-2<\/sup> + ... + d<sub>L-1<\/sub> \u2219 2 + d<sub>L<\/sub><\/b>, that is, <b>d<sub>1<\/sub>d<sub>2<\/sub>...d<sub>L<\/sub><\/b> is the binary representation of <b>N<\/b>). Other <b>29<\/b> files generated using some special strategies which we prefer to keep in secret.\n<\/p>","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.5, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, SCALA, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, PERL6, TEXT, CLOJ, FS","max_timelimit":"0.19467","source_sizelimit":"50000","problem_author":"anton_lunyov","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>anton_lunyov<\/span>","problem_tester":"laycurse","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>laycurse<\/span>","date_added":"11-06-2012","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/anton_lunyov'>anton_lunyov<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/challenge'>challenge<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/july12'>july12<\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/ADDCHAIN","time":{"view_start_date":1342000293,"submit_start_date":1342000293,"visible_start_date":1341999849,"end_date":1735669800,"current":1525454414},"user":{"username":""},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}
{"category_name":"challenge","status":"success","problem_code":"NONCONVX","problem_name":"Not a Convex Hull (Challenge)","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3>Read problems statements in <a href=\"http:\/\/www.codechef.com\/download\/translated\/MAY18\/mandarin\/NONCONVX.pdf\" target=\"_blank\">Mandarin chinese<\/a>, <a href=\"http:\/\/www.codechef.com\/download\/translated\/MAY18\/russian\/NONCONVX.pdf\" target=\"_blank\">Russian<\/a> and <a href=\"http:\/\/www.codechef.com\/download\/translated\/MAY18\/vietnamese\/NONCONVX.pdf\" target=\"_blank\">Vietnamese<\/a> as well.<\/h3>\n\n### Be careful!!! You are not allowed to submit this problem more than 99 times!\n\nChef has $N$ randomly generated points with integer coordinates $(x_1, y_1), (x_2, y_2), \\dots, (x_N, y_N)$. He asks you to perform the following operation:\n- choose up to $K$ of these points, i.e. a subsequence $\\left\\lbrace(x_{k_i}, y_{k_i})\\right\\rbrace_{i=1}^L$, where $0 \\le L \\le K$\n- for each $1 \\le i \\le L$, choose a vector $(dx_i, dy_i)$ with integer coordinates such that $dx_i^2+dy_i^2 \\le R^2$\n- add $(dx_i, dy_i)$ to $(x_{k_i}, y_{k_i})$, i.e. change $(x_{k_i}, y_{k_i})$ to $(x_{k_i} + dx_i, y_{k_i} + dy_i)$, for each valid $i$\n\nThe resulting $N$ points must be pairwise distinct.\n\nAfterwards, you must find a hull containing all $N$ points. The hull must be a simple polygon and no three consecutive points on it may lie on the same line, but it does not have to be convex. You should minimise the area of this hull.\n\n### Input\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows. \n- The first line of each test case contains three space-separated integers $N$, $K$ and $R$.\n- For each $i$ ($1 \\le i \\le N$), the $i$-th of the following $N$ lines contains two space-separated integers $x_i$ and $y_i$. \n\n### Output\nFor each test case, print $N+2$ lines.\n\nThe first line should contain a single integer $M$ \u2014 the number of points on the hull. The second line should contain $M$ space-separated integers $b_1, b_2, \\dots, b_M$ \u2014 the indices of points on the hull in the order in which they appear on its perimeter (in either direction). The following $N$ lines should describe the final coordinates of all points; for each valid $i$, the $i$-th of these lines should contain two space-separated integers \u2014 the coordinates of the $i$-th point.\n\nYour answer must satisfy the following conditions:\n- $3 \\le M \\le N$\n- the indices $b_1, b_2, \\dots, b_M$ are pairwise distinct\n- $1 \\le b_i \\le N$ for each valid $i$\n- no three consecutive points on the hull lie on the same line\n- there are no more than $K$ points whose positions on the output are different from their initial positions\n- for each valid pair $i, j$ ($i \\neq j$), $x_i \\neq x_j$ or $y_i \\neq y_j$ \u2014 all points on the output are pairwise distinct\n- all $N$ points are inside or on the perimeter of the hull\n- the hull is a simple polygon \u2014 no two non-consecutive edges intersect or touch\n\n### Constraints\n- $T = 100$\n- $N \\in [50, 100, 200]$\n- $1 \\le K \\le 10$\n- $1 \\le R \\le 10,000$\n- $|x_i|, |y_i| \\le 10^5$ for each valid $i$\n- all points on the input are pairwise distinct\n\n### Example Input\n```\n2\n6 1 4\n0 0\n2 0\n2 2\n0 2\n1 0\n1 1\n6 1 4\n0 0\n2 0\n2 2\n0 2\n1 0\n1 1\n```\n\n### Example Output\n```\n6\n4 1 5 6 2 3\n0 1\n2 0\n2 2\n0 2\n1 0\n1 1\n4\n1 2 3 4\n0 0\n2 0\n2 2\n0 2\n1 0\n1 1\n```\n\n### Explanation\nNote that $T \\neq 100$ in the example for clarity; in all real test files, $T = 100$.\n\n**Example case 1:** We have $N=6$ points $(0, 0), (0, 2), (1, 1), (1, 0), (2, 0), (2, 2)$. We can only perform the operation described in the statement with $K=1$ point. If we had $R \\ge 5$, we could change the point $(2, 2)$ to $(2 - 2, 2 - 1) = (0, 1)$ and obtain a set of distinct points $(0, 0), (0, 1), (0, 2), (1, 1), (1, 0), (2, 0)$; this set has a hull on $M=3$ points $(0, 0), (0, 2), (2, 0)$. However, for $R=4$, we can't move $(2, 2)$ to $(2 - 1, 2 - 1)$, since there is a point $(1, 1)$, so the points would not be distinct.\n\nTherefore, we move $(0, 0)$ to $(0 + 0, 0 + 1) = (0, 1)$. Afterwards, we can build a hull on all six points in the order $(0, 2), (0, 1), (1, 0), (1, 1), (2, 0), (2, 2)$.\n\nThe area of this hull and the score for this output is $3$.\n\n**Example case 2:** The same input, a different output with score $4$.\n\n### Scoring\nYour score for each test case is the area of the resulting hull. Your score for each test file is the sum of scores for all test cases. (For the above example, the score you would obtain is $3$+$4$=$7$.)\n\n### Test Generation Process\nThere are twenty test files. All test files are generated in the same way. During the contest, the displayed score will account for exactly two test files, i.e. your score reflects your submission's performance on 10% (1\/10) of the test files. However, if your program gets a non-AC verdict on any test file, your submission's verdict will be non-AC. In other words, an AC verdict denotes that your program runs successfully on all the test files. After the end of the contest, your score will be changed to the sum of your program's scores over all test files.\n\nThe pseudocode used for generating the tests is given below. Assume that the function `rnd.next(l, r)` generates a random number uniformly in the range $l$ through $r$ (both inclusive) and `rnd.shuffle(p)` randomly shuffles all elements in $p$.\n\n```\nT := 100\nNs := []\nfor i := 1 to 60:\n\tNs.append(50)\nfor i := 1 to 30:\n\tNs.append(100)\nfor i := 1 to 10:\n\tNs.append(200)\nrnd.shuffle(Ns)\nfor i := 1 to 100:\n\tN := Ns[i - 1]\n\tK := rnd.next(1, 10)\n\tR := rnd.next(1, 10000)\n\tPoints := []\n\twhile size(Points) is less than N:\n\t\tX := rnd.next(-100000, 100000)\n\t\tY := rnd.next(-100000, 100000)\n\t\tif (X, Y) not in Points:\n\t\t\tPoints.append((X, Y))\n```\n","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.5, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, CLOJ, COB, FS","max_timelimit":"5","source_sizelimit":"50000","problem_author":"mgch","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>mgch<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"23-04-2018","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/mgch'>mgch<\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/NONCONVX","time":{"view_start_date":1526290200,"submit_start_date":1526290200,"visible_start_date":1526290200,"end_date":1735669800,"current":1528987030},"user":{"username":""},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}
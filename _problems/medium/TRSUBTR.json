{"category_name":"medium","status":"success","problem_code":"TRSUBTR","problem_name":"Trees and Subtrees","body":"<h3> Read problems statements in Russian <a target=\"_blank\" href=\"https:\/\/www.codechef.com\/download\/translated\/COOK40\/russian\/TRSUBTR.pdf\">here<\/a><\/h3>\n<p>The Head Chef has a reporting hierarchy for his chefs which is basically a binary tree i.e. Each chef reports to exactly one chef and every chef can take reporting of atmost two chefs . In case two chefs report to the same chef they must report at different times . The time of reporting can have only two values : Morning or Evening ( denoted by M and E , respectively ) .The Head Chef himself is not part of the reporting structure . The Head Chef has found that a new restaurant in Byteland is opening and it is hiring a group of chefs from some existing restaurant . The new restaurant will basically make an offer to one of the chefs and all the chefs directly or indirectly reporting to the chef . The Head Chef is worried that the new restaurant may be taking away some of his chefs . The Head Chef knows that the new restaurant will not change the reporting structure of the chefs . The Head Chef also has access to the reporting structure of the new restaurant in terms of ages of Chefs  . The Head Chef wants to know whether there is a need to worry or not . He needs to worry if the new restaurant can possibly be targetting his chefs . <\/p>\n<p>\nIn short given a tree <b> T<\/b> and another tree <b>O<\/b> you need to tell whether <b> O <\/b> is a subtree of <b> T <\/b> or not . The node values of <b> T <\/b> or <b> O <\/b> need not be distinct as they represent the age of the Chef . Also , a subtree of a rooted tree includes a particular node and the entire tree structure below it . <\/p>\n<p> Two trees A and B are considered same if age(A->root ) = age(B->root) and subtree rooted at A->left is same as subtree rooted at B->left and subtree rooted at A->right is same as subtree rooted B->right .\n<\/p>\n<h3>Input<\/h3>\n<ul>\n<li>The first line of the input contains an integer <b>N<\/b> denoting the number of chefs in Head Chef's restaurant. The Chefs are denoted by number <b>1<\/b> to <b>N <\/b>.\n<\/li><li> The next <b> N <\/b> lines contain ages of the chefs with the <b>i<\/b> th line containing the age of chef <b>i <\/b>. <\/li>\n<li> The next <b> N - 1<\/b> lines contain two integers <b> A <\/b> and <b> B <\/b> and a character <b> C <\/b> which is either <b>'M'<\/b> or <b>'E'<\/b> where <b>A <\/b> denotes the senior chef and <b>B <\/b> denotes the reporting chef , and the character <b>C <\/b>  denotes the time of reporting . <\/li>\n<li>The next line of the input contains an integer <b>Q<\/b> denoting the number of queries\/possible structures of chefs of new restaurant . This is followed by description of <b>Q<\/b> queries . <\/li>\n<li>The first line of each query contains an integer <b>M<\/b> denoting the number of chefs in new restaurant. The Chefs are denoted by numbers <b>1 <\/b> to <b>M<\/b>. <\/li>\n<li> The next <b> M <\/b> lines contain the ages of the chefs with the <b>i<\/b> th line denoting the age of chef <b> i <\/b>.<\/li>\n<li> The next <b> M - 1<\/b> lines contain two integers <b> A <\/b> and <b> B <\/b> and a character <b> C <\/b> which is either <b>'M' <\/b> or <b>'E'<\/b> where <b>B <\/b> denotes the reporting chef and <b>A <\/b> denotes the chef who takes the reporting , and the character <b>C <\/b>  denotes the time of reporting . <\/li>\n<\/ul>\n<h3>Output<\/h3>\n<ul>\nFor each test case answer \"YES\" or \"NO\" as applicable .\n<\/ul>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>2<\/b> \u2264 <b>N<\/b> \u2264 <b>100000<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>M<\/b> \u2264 <b>1000<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>Q<\/b> \u2264 <b>200<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>Age of Chef<\/b> \u2264 <b>100<\/b><\/li>\n<\/ul>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n5\n1\n2\n1\n2\n1\n1 2 M\n1 3 E\n2 4 E\n3 5 M\n2\n2\n1\n2\n1 2 M\n2\n1\n1\n1 2 M\n<b>Output:<\/b>\nNO\nYES\n<\/pre><p>\u00a0<\/p>\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"<h3> Read problems statements in Russian <a target=\"_blank\" href=\"https:\/\/www.codechef.com\/download\/translated\/COOK40\/russian\/TRSUBTR.pdf\">here<\/a><\/h3>\n<p>The Head Chef has a reporting hierarchy for his chefs which is basically a binary tree i.e. Each chef reports to exactly one chef and every chef can take reporting of atmost two chefs . In case two chefs report to the same chef they must report at different times . The time of reporting can have only two values : Morning or Evening ( denoted by M and E , respectively ) .The Head Chef himself is not part of the reporting structure . The Head Chef has found that a new restaurant in Byteland is opening and it is hiring a group of chefs from some existing restaurant . The new restaurant will basically make an offer to one of the chefs and all the chefs directly or indirectly reporting to the chef . The Head Chef is worried that the new restaurant may be taking away some of his chefs . The Head Chef knows that the new restaurant will not change the reporting structure of the chefs . The Head Chef also has access to the reporting structure of the new restaurant in terms of ages of Chefs  . The Head Chef wants to know whether there is a need to worry or not . He needs to worry if the new restaurant can possibly be targetting his chefs . <\/p>\n<p>\nIn short given a tree <b> T<\/b> and another tree <b>O<\/b> you need to tell whether <b> O <\/b> is a subtree of <b> T <\/b> or not . The node values of <b> T <\/b> or <b> O <\/b> need not be distinct as they represent the age of the Chef . Also , a subtree of a rooted tree includes a particular node and the entire tree structure below it . <\/p>\n<p> Two trees A and B are considered same if age(A->root ) = age(B->root) and subtree rooted at A->left is same as subtree rooted at B->left and subtree rooted at A->right is same as subtree rooted B->right .\n<\/p>\n<h3>Input<\/h3>\n<ul>\n<li>The first line of the input contains an integer <b>N<\/b> denoting the number of chefs in Head Chef's restaurant. The Chefs are denoted by number <b>1<\/b> to <b>N <\/b>.\n<\/li><li> The next <b> N <\/b> lines contain ages of the chefs with the <b>i<\/b> th line containing the age of chef <b>i <\/b>. <\/li>\n<li> The next <b> N - 1<\/b> lines contain two integers <b> A <\/b> and <b> B <\/b> and a character <b> C <\/b> which is either <b>'M'<\/b> or <b>'E'<\/b> where <b>A <\/b> denotes the senior chef and <b>B <\/b> denotes the reporting chef , and the character <b>C <\/b>  denotes the time of reporting . <\/li>\n<li>The next line of the input contains an integer <b>Q<\/b> denoting the number of queries\/possible structures of chefs of new restaurant . This is followed by description of <b>Q<\/b> queries . <\/li>\n<li>The first line of each query contains an integer <b>M<\/b> denoting the number of chefs in new restaurant. The Chefs are denoted by numbers <b>1 <\/b> to <b>M<\/b>. <\/li>\n<li> The next <b> M <\/b> lines contain the ages of the chefs with the <b>i<\/b> th line denoting the age of chef <b> i <\/b>.<\/li>\n<li> The next <b> M - 1<\/b> lines contain two integers <b> A <\/b> and <b> B <\/b> and a character <b> C <\/b> which is either <b>'M' <\/b> or <b>'E'<\/b> where <b>B <\/b> denotes the reporting chef and <b>A <\/b> denotes the chef who takes the reporting , and the character <b>C <\/b>  denotes the time of reporting . <\/li>\n<\/ul>\n<h3>Output<\/h3>\n<ul>\nFor each test case answer \"YES\" or \"NO\" as applicable .\n<\/ul>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>2<\/b> \u2264 <b>N<\/b> \u2264 <b>100000<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>M<\/b> \u2264 <b>1000<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>Q<\/b> \u2264 <b>200<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>Age of Chef<\/b> \u2264 <b>100<\/b><\/li>\n<\/ul>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n5\n1\n2\n1\n2\n1\n1 2 M\n1 3 E\n2 4 E\n3 5 M\n2\n2\n1\n2\n1 2 M\n2\n1\n1\n1 2 M\n<b>Output:<\/b>\nNO\nYES\n<\/pre><p>\u00a0<\/p>\n","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, BASH, JS, LISP sbcl, PAS gpc, BF, CLOJ, D, CAML, FORT, ASM, FS, WSPC, LISP clisp, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, PIKE, SCM qobi, ST, NEM","max_timelimit":"2","source_sizelimit":"50000","problem_author":"vineet_adm","problem_author_html_handle":"vineet_adm","problem_tester":"rubanenko","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span class='m-username--link'>rubanenko<\/span>","date_added":"28-10-2013","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cook40'>cook40<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/hashing'>hashing<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/knuth-morris-pratt-algorithm'>knuth-morris-pratt-algorithm<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium'>medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/vineet_adm'>vineet_adm<\/a>","problem_difficulty_level":"Medium","user_zen_mode":false,"best_tag":"Knuth Morris Pratt Algorithm","editorial_url":"https:\/\/discuss.codechef.com\/problems\/TRSUBTR","time":{"view_start_date":1384713000,"submit_start_date":1384713000,"visible_start_date":1384713000,"end_date":1735669800,"current":1643797986},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=TRSUBTR","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"medium","status":"success","problem_code":"SEGSM","problem_name":"Subsegment Sum","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><p>Given an array A  = <b>A<sub>1<\/sub><\/b>, <b>A<sub>2<\/sub><\/b>, ..., <b>A<sub>L<\/sub><\/b> and queries of 2 types:<\/p>\n<ul>\n<li><b>Type 1<\/b> - represented as 1 <b>i<\/b> <b>v<\/b> meaning that you have to change <b>A<sub>i<\/sub><\/b> = <b>v<\/b> (change is carried on for further queries too)<\/li>\n<li><b>Type 2<\/b> - represented as 2 and explained below<\/li>\n<\/ul>\n\n<p><\/p>\n\n<p>A subsegment <b>A<sub>l<\/sub><\/b>, <b>A<sub>l+1<\/sub><\/b>, ..., <b>A<sub>r<\/sub><\/b>, is called <i>interesting<\/i>, if for all i, such that l < i \u2264 r, <b>A<sub>i<\/sub><\/b> is either equal to <b>A<sub>i-1<\/sub><\/b>, or it is equal to <b>A<sub>i-1<\/sub><\/b> + 1. A subsegment of length 1 is also considered to be interesting.<\/p>\n\n<p>Consider another new array B, which has the elements of A, but in sorted, increasing order. Partition the array B into minimum number of interesting subsegments. You can prove that there is an unique way to do so. In each of those interesting subsegments, find the minimum frequency of an existing element, and add this minimum frequency over all the interesting subsegments in the partition. Output this sum as the answer to the query of Type 2.<\/p>\n\n\n<p>Note: Since the input is large, it is recommended to use Fast I\/O techniques.<\/p>\n\n<h3>Input<\/h3>\n<ul>\n<li>The first line contains a single integer, <b>L<\/b>, which is the length of the array<\/li>\n<li>The second line contains <b>L<\/b> space separated integers: <b>A<sub>1<\/sub><\/b>, <b>A<sub>2<\/sub><\/b>, ..., <b>A<sub>L<\/sub><\/b>, which are the original values in the array.<\/li>\n<li>The third line contains a single integer, <b>Q<\/b>, which is the number of queries.<\/li>\n<li>The next <b>Q<\/b> lines denote queries as described above<\/li>\n<\/ul>\n\n<h3>Output<\/h3>\n<ul>\n<li>For each query of type 2 print the answer in a new line.<\/li>\n<\/ul>\n\n<h3>Constraints<\/h3>\n<ul>\n<li>1 \u2264 <b>L<\/b> \u2264 10<sup>5<\/sup><\/li>\n<li>0 \u2264 <b>A<sub>i<\/sub><\/b> \u2264 10<sup>9<\/sup><\/li>\n<li>1 \u2264 <b>Q<\/b> \u2264 5*10<sup>5<\/sup><\/li>\n<li>1 \u2264 <b>i<\/b> \u2264 <b>L<\/b><\/li>\n<li>1 \u2264 <b>v<\/b> \u2264 10<sup>9<\/sup><\/li>\n<li>1 \u2264 Number of queries of type 2 \u2264 3*10<sup>5<\/sup><\/li>\n<\/ul>\n\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n7\n2 7 2 7 1 2 3\n4\n1 5 2\n2\n1 7 2\n2\n\n<b>Output:<\/b>\n3 \n7\n<\/pre>\n\n<h3>Explanation<\/h3>\n<ul>\n<li>Initially, array A = {2,7,2,7,1,2,3}.<\/li>\n<li>After the first query array A = {2,7,2,7,2,2,3}.<\/li>\n\n<li>For the second query, B = {2, 2, 2, 2, 3, 7, 7}. The way to break it into minimum number of interesting subsegments is to partition it into {2,2,2,2,3} and {7,7}. The minimum frequency in the first subsegment is 1 (because 3 appears once), and in the second subsegment, there is only one frequency, which is 2. Therefore, the answer for the second query is 1 + 2 = 3.<\/li>\n\n<li>After third query array A ={2,7,2,7,2,2,2}.<\/li>\n\n<li>For the second query, B = {2, 2, 2, 2, 2, 7, 7}. The way to break it into minimum number of interesting subsegments is to partition it into {2,2,2,2,2} and {7,7}. The minimum frequency in the first subsegment is 5 (it is the only frequency), and in the second subsegment, there is only one frequency, which is 2. Therefore, the answer for the second query is 5 + 2 = 7.<\/li>\n<\/ul>","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.5, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, CLOJ, COB, FS","max_timelimit":"1.5","source_sizelimit":"50000","problem_author":"kr_abhinav","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>kr_abhinav<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"26-03-2018","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/kr_abhinav'>kr_abhinav<\/a>","time":{"view_start_date":1522873800,"submit_start_date":1522873800,"visible_start_date":1522873800,"end_date":1735669800,"current":1525198960},"user":{"username":""},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}
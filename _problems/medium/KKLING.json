{"category_name":"medium","status":"success","problem_code":"KKLING","problem_name":"King Killing","body":"### Read problem statements in [Bengali](https:\/\/www.codechef.com\/download\/translated\/MAY21\/bengali\/KKLING.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/MAY21\/mandarin\/KKLING.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/MAY21\/russian\/KKLING.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/MAY21\/vietnamese\/KKLING.pdf) as well.\r\n\r\nIn a faraway kingdom there are $N$ cities numbered $1$ to $N$ connected to each other in the form of a tree. The city numbered $1$ is the kingdom where the king resides. A city is called a leaf if it is not the kingdom and it has exactly one adjacent city. Each leaf city has an assassin.\r\n\r\nThe enemies of the king have announced a huge reward for the assassination of the king. Each assassin starts moving from his current city following the shortest path to the kingdom. It takes exactly $1$ day for an assassin to move to an adjacent city..\r\n\r\nThe assassins don\u2019t want to split the reward, so if an assassin $A$ encounters any other assassin $B$ ahead of him on the same path that $A$ is supposed to follow (no matter how far ahead), then $A$ uses his magical power to attack $B$.\r\n\r\nAfter all the magical powers were used, every assassin who was attacked dies. Suppose $A$ is a living assassin who attacked somebody. Now, $A$ will move directly to the position of the assassin closest to the kingdom that $A$ attacked, with the cost of $1$ day. If there are multiple assassins in the same city simultaneously, they form a pact not to kill each other and start moving together. **Once an assassin reaches the kingdom, he cannot be killed anymore**, since he can kill the king, take the reward, and leave.\r\n\r\nYour task is to find which assassin will reach the kingdom first and in how many days. If more than one assassin reaches the kingdom simultaneously, output all of them in sorted order. Each assassin is represented by the number of the city where they started from.\r\n\r\n###Input\r\n\r\n- The first line contains an integer $T$, the number of test cases\r\n- The first line of every test case contains a single integer $N$, the number of cities.\r\n- Each of the next $N-1$ lines contains two integers $u$ and $v$ denoting that city $u$ is connected to city $v$.\r\n\r\n###Output\r\n\r\n- For every test case, the first line should contain $K$ and $T$, the number of assassins who are first to reach and the number of days required.\r\n- In the next line print $K$ space-separated integers denoting the assassins who are first to reach the kingdom in sorted order.\r\n\r\n###Constraints \r\n\r\n- $1\\leq T\\leq10^5$\r\n- $3\\leq N\\leq2\\cdot 10^5$ \r\n- $1\\leq u, v\\leq N$\r\n- The sum of $N$ over all test cases does not exceed $10^6$\r\n- The connections form a tree structure.\r\n\r\n###Subtasks\r\n**Subtask #1 (30 points):** \r\n- $T \\leq 10^3$\r\n- $N \\leq 2\\cdot 10^3$\r\n- The sum of $N$ over all test cases does not exceed $10^4$\r\n- Time limit: $1$ sec\r\n\r\n**Subtask #2 (70 points):** \r\n- Original Constraints\r\n- Time limit: $2$ sec\r\n\r\n###Sample Input \r\n```\r\n2\r\n10    \r\n1 2\r\n1 3\r\n2 4\r\n2 5\r\n3 6\r\n3 7\r\n5 8\r\n6 9   \r\n6 10\r\n7\r\n1 2\r\n2 3\r\n2 4\r\n4 5\r\n4 6\r\n5 7\r\n```  \r\n\r\n###Sample Output\r\n```\r\n3 3\r\n8 9 10\r\n1 3\r\n7\r\n```      \r\n\r\n\r\n###Explanation\r\n **Test Case 1 :** \r\n\r\nThe assassins are initially present at nodes $4$, $7$, $8$, $9$, and $10$ (consider it day $0$). On day $1$, their positions become:\r\n- Assassin $4$ => Node $2$\r\n- Assassin $7$ => Node $3$\r\n- Assassin $8$ => Node $5$\r\n- Assassin $9$ => Node $6$\r\n- Assassin $10$ => Node $6$\r\n\r\nNow, since assassin $4$ is in the same path as assassin $8$, and assassin $7$ is in the same path as assassin $9$ and assassin $10$, they both will be assassinated and assassin $8$ will get to reach node $2$ at cost of $1$ day (no benefit) and assassin $9$ and $10$ will also reach node $3$ in one day (which is Day $2$). Now assassin $8$ is on node $2$ and assassin $9$ and $10$ are at node $3$, all three of them reach node $1$ simultaneously so all three of assassin $8$, assassin $9$ and assassin $10$ win (With a total cost of $3$ days).\r\n\r\n **Test Case 2 :** \r\n\r\nThe assassins are initially present at nodes $3$, $6$, and $7$  on day $0$.\r\nOn day $1$, their positions become:\r\n- Assassin $3$ => Node $2$\r\n- Assassin $6$ => Node $4$\r\n- Assassin $7$ => Node $5$\r\n\r\nNow since assassin $3$ and assassin $6$ are on the path of assassin $7$, the assassin $7$ will kill both of them and will advance to the position of assassin $3$, that is node $2$ (nearest position to the kingdom), and this will cost him $1$ day. On the next day (day $3$), he will reach the kingdom and take the reward.\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Bengali](https:\/\/www.codechef.com\/download\/translated\/MAY21\/bengali\/KKLING.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/MAY21\/mandarin\/KKLING.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/MAY21\/russian\/KKLING.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/MAY21\/vietnamese\/KKLING.pdf) as well.\r\n\r\nIn a faraway kingdom there are $N$ cities numbered $1$ to $N$ connected to each other in the form of a tree. The city numbered $1$ is the kingdom where the king resides. A city is called a leaf if it is not the kingdom and it has exactly one adjacent city. Each leaf city has an assassin.\r\n\r\nThe enemies of the king have announced a huge reward for the assassination of the king. Each assassin starts moving from his current city following the shortest path to the kingdom. It takes exactly $1$ day for an assassin to move to an adjacent city..\r\n\r\nThe assassins don\u2019t want to split the reward, so if an assassin $A$ encounters any other assassin $B$ ahead of him on the same path that $A$ is supposed to follow (no matter how far ahead), then $A$ uses his magical power to attack $B$.\r\n\r\nAfter all the magical powers were used, every assassin who was attacked dies. Suppose $A$ is a living assassin who attacked somebody. Now, $A$ will move directly to the position of the assassin closest to the kingdom that $A$ attacked, with the cost of $1$ day. If there are multiple assassins in the same city simultaneously, they form a pact not to kill each other and start moving together. **Once an assassin reaches the kingdom, he cannot be killed anymore**, since he can kill the king, take the reward, and leave.\r\n\r\nYour task is to find which assassin will reach the kingdom first and in how many days. If more than one assassin reaches the kingdom simultaneously, output all of them in sorted order. Each assassin is represented by the number of the city where they started from.\r\n\r\n###Input\r\n\r\n- The first line contains an integer $T$, the number of test cases\r\n- The first line of every test case contains a single integer $N$, the number of cities.\r\n- Each of the next $N-1$ lines contains two integers $u$ and $v$ denoting that city $u$ is connected to city $v$.\r\n\r\n###Output\r\n\r\n- For every test case, the first line should contain $K$ and $T$, the number of assassins who are first to reach and the number of days required.\r\n- In the next line print $K$ space-separated integers denoting the assassins who are first to reach the kingdom in sorted order.\r\n\r\n###Constraints \r\n\r\n- $1\\leq T\\leq10^5$\r\n- $3\\leq N\\leq2\\cdot 10^5$ \r\n- $1\\leq u, v\\leq N$\r\n- The sum of $N$ over all test cases does not exceed $10^6$\r\n- The connections form a tree structure.\r\n\r\n###Subtasks\r\n**Subtask #1 (30 points):** \r\n- $T \\leq 10^3$\r\n- $N \\leq 2\\cdot 10^3$\r\n- The sum of $N$ over all test cases does not exceed $10^4$\r\n- Time limit: $1$ sec\r\n\r\n**Subtask #2 (70 points):** \r\n- Original Constraints\r\n- Time limit: $2$ sec","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"2\r\n10    \r\n1 2\r\n1 3\r\n2 4\r\n2 5\r\n3 6\r\n3 7\r\n5 8\r\n6 9   \r\n6 10\r\n7\r\n1 2\r\n2 3\r\n2 4\r\n4 5\r\n4 6\r\n5 7","output":"3 3\r\n8 9 10\r\n1 3\r\n7","explanation":"**Test Case 1 :** \r\n\r\nThe assassins are initially present at nodes $4$, $7$, $8$, $9$, and $10$ (consider it day $0$). On day $1$, their positions become:\r\n- Assassin $4$ => Node $2$\r\n- Assassin $7$ => Node $3$\r\n- Assassin $8$ => Node $5$\r\n- Assassin $9$ => Node $6$\r\n- Assassin $10$ => Node $6$\r\n\r\nNow, since assassin $4$ is in the same path as assassin $8$, and assassin $7$ is in the same path as assassin $9$ and assassin $10$, they both will be assassinated and assassin $8$ will get to reach node $2$ at cost of $1$ day (no benefit) and assassin $9$ and $10$ will also reach node $3$ in one day (which is Day $2$). Now assassin $8$ is on node $2$ and assassin $9$ and $10$ are at node $3$, all three of them reach node $1$ simultaneously so all three of assassin $8$, assassin $9$ and assassin $10$ win (With a total cost of $3$ days).\r\n\r\n **Test Case 2 :** \r\n\r\nThe assassins are initially present at nodes $3$, $6$, and $7$  on day $0$.\r\nOn day $1$, their positions become:\r\n- Assassin $3$ => Node $2$\r\n- Assassin $6$ => Node $4$\r\n- Assassin $7$ => Node $5$\r\n\r\nNow since assassin $3$ and assassin $6$ are on the path of assassin $7$, the assassin $7$ will kill both of them and will advance to the position of assassin $3$, that is node $2$ (nearest position to the kingdom), and this will cost him $1$ day. On the next day (day $3$), he will reach the kingdom and take the reward.","isDeleted":false}]},"video_editorial_url":"https:\/\/youtu.be\/xrxma1DTT3E","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1 - 2","source_sizelimit":"50000","problem_author":"zankanotachi","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span class='m-username--link'>zankanotachi<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"18-04-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/implementation'>implementation<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/may21'>may21<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium'>medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/zankanotachi'>zankanotachi<\/a>","problem_difficulty_level":"Medium","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/KKLING","time":{"view_start_date":1621243802,"submit_start_date":1621243802,"visible_start_date":1621243802,"end_date":1735669800,"current":1643797951},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=KKLING","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
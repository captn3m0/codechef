{"category_name":"medium","status":"success","problem_code":"WSCAGAIN","problem_name":"Deja Vu","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME18\/mandarin\/WSCAGAIN.pdf\">Mandarin Chinese <\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME18\/russian\/WSCAGAIN.pdf\">Russian<\/a>.<\/h3>\n<p>The following is an easy game that the setter of this problem played when he was 8:<\/p>\n<p><i>A boatman, a wolf, a sheep, and a cabbage are on the bank of a river. They have a small boat that is capable of carrying the boatman and at most one other animal\/item with him. However, if left alone by the boatman, the wolf can eat the sheep, and the sheep can eat the cabbage. How can all four be moved safely to the opposite bank of the river?<\/i><\/p>\n<p><a href=\"http:\/\/coolmath-games.com\/Logic-wolfsheepcabbage\/index.html\">Here<\/a> is a nice visualization of the whole process in the original game. Disclaimer: writers, testers and CodeChef are not related to this link.<\/p>\n<p>This leads to a more general problem. If there are other groups of animals\/items with the boatman, <b>and if the boat is big enough to seat at most <b>K<\/b> animals\/items other than the boatman<\/b>, how quickly can all of them be moved to the opposite bank of the river in such a way that nobody\/nothing gets eaten?<\/p>\n<p>We will give you the number of animals\/items (not including the boatman). We will also give you the new capacity of the boat. Moreover, we will give you all a list of pairs of the form \"<b>X Y<\/b>\" where the <b>X<\/b>-th animal\/item will be eaten by the <b>Y<\/b>-th one if they are both on the opposite bank to the boatman.<\/p>\n<p>Assuming a valid solution exists, you are to determine the <b>minimum number of boat trips<\/b> across the river to achieve the task.<\/p>\n<h3>Input<\/h3>\n<p>The first line of the input contains an integer <b>T<\/b> denoting the number of test cases. The description of <b>T<\/b> test cases follows.<\/p>\n<p>The first line of each test contains three space separated integers <b>N<\/b>, <b>M<\/b> and <b>K<\/b> - the number of animals\/items not including the boatman, the number of relations of the form \"<b>X<\/b> will be eaten by <b>Y<\/b>\", and the capacity of the boat (not including the boatman), respectively.<\/p>\n<p>The following <b>M<\/b> lines contain pairs of the form <b>X Y<\/b> with the meaning that the <b>X<\/b>-th animal\/item will be eaten by the <b>Y<\/b>-th one if they are both on the opposite bank to the boatman.<\/p>\n<h3>Output<\/h3>\n<p>For each test case, output a single line containing a single integer - the minimum number of boat trips across the river necessary. In the test cases it is always possible to accomplish this goal.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1<\/b> \u2264 <b>T<\/b> \u2264 <b>20<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>K<\/b> \u2264 <b>N<\/b><\/li>\n<li>Subtask 1: <b>1<\/b> \u2264 <b>N<\/b> \u2264 <b>3<\/b>,  <b>0<\/b> \u2264 <b>M<\/b> \u2264 <b>3<\/b> - 22 points.<\/li>\n<li>Subtask 2: <b>1<\/b> \u2264 <b>N<\/b> \u2264 <b>6<\/b>,  <b>0<\/b> \u2264 <b>M<\/b> \u2264 <b>15<\/b> - 34 points.<\/li>\n<li>Subtask 3: <b>1<\/b> \u2264 <b>N<\/b> \u2264 <b>13<\/b>,  <b>0<\/b> \u2264 <b>M<\/b> \u2264 <b>78<\/b> - 44 points.<\/li>\n<\/ul>\n\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n2\n3 2 1\n1 2\n2 3\n3 3 2\n1 2\n1 3\n2 3\n\n<b>Output:<\/b>\n7\n3\n<\/pre>\n<h3>Explanation<\/h3>\n<p>The first example is the original version of the problem.<\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"xcwgf666","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>xcwgf666<\/span>","problem_tester":"white_king","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>white_king<\/span>","date_added":"14-08-2014","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/bfs'>\n                    bfs\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/easy'>\n                    easy\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/ltime18'>\n                    ltime18\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/xcwgf666'>\n                    xcwgf666\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/WSCAGAIN","user":{"username":null},"time":{"view_start_date":1417336200,"submit_start_date":1417336200,"visible_start_date":1417336200,"end_date":1735669800,"current":1493557955},"todo":false,"problem_status":"unattempted"}
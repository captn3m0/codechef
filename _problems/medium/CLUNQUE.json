{"category_name":"medium","status":"success","problem_code":"CLUNQUE","problem_name":"Unique Substring","body":"Well, before Chef could counter attack, Dr Doof showed his innocent face which moved Chef. Moreover, on hearing his complete story, Chef took pity on him and decided to befriend him. He even decided to play a game with him. The game goes as follows:\r\n\r\nChef gives Dr Doof a string $S$ of length $N$ consisting only of lowercase Latin letters and asks him to study the string carefully.\r\n\r\nA substring of a string is a contiguous subsequence of that string. We denote the substring of string $S$ starting from the $l^{\\text{th}}$ character and ending with the $r^{\\text{th}}$ character as $S[l, r]$. So, strings *chef* and *odech* are substrings of string *codechef*, but string *codee* is not. \r\n\r\nChef defines a substring to be **unique** if it occurs in the whole string $S$ exactly once.\r\n\r\nAfter Dr Doof studies the string, Chef asks him $Q$ queries of the form - $L$ $R$ $K$.\r\n\r\nFor each query, you have to find the lexicographically smallest **unique** substring of length atleast $K$ in $[L, R]$, or say that there is no **unique** substring in this range. Formally, the answer to each query is two integers $l$ and $r$ such that:\r\n1. $L \\leq l \\leq r \\leq R$\r\n2. $r - l + 1 \\geq K$\r\n3. $S[l, r]$ is the lexicographically smallest **unique** substring satisfying conditions $1$ and $2$.\r\n\r\nString $p$ is lexicographically smaller than string $q$, if $p$ is a prefix of $q$ not equal to $q$ or there exists an index $i$, such that $p_{i}$\u2009<\u2009$q_{i}$ and for all $j\u2009<\u2009i, p_{j}\u2009=\u2009q_{j}$. For example, *abc* is lexicographically smaller than *abcd* , *abd* is lexicographically smaller than *abec*.\r\n\r\nThis time, you have to help the poor Dr Doof answer the queries as he doesn't want to lose his new friend. If there is no **unique** substring $S[l, r]$ satisfying the above conditions, print two space separated integers: $-1$ $-1$.\r\n\r\n###Input:\r\n\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains a single integer $N$.\r\n- The second line contains a single string $S$.\r\n- The third line contains a single integer $Q$.\r\n- $Q$ lines follow. Each of these lines contains three space-separated integers $L$ $R$ $K$ describing a query.\r\n\r\n###Output:\r\nFor each query, print a single line containing two space separated integers $l$ and $r$ \u2015 the answer to the query.\r\n\r\n###Constraints \r\n- $1 \\leq T \\leq 10^5$\r\n- $2 \\leq N \\leq 5\\times10^5$\r\n- $1 \\leq Q \\leq 5 \\times 10^5$\r\n- $1 \\leq L \\leq R \\leq N$\r\n- $1 \\leq K \\leq R - L + 1$\r\n- The sum of $N$ over all test cases does not exceed $5\\times10^5$\r\n- The sum of $Q$ over all test cases does not exceed $5\\times10^5$\r\n\r\n\r\n###Sample Input:\r\n    1\r\n    5\r\n    abcab\r\n    4\r\n    1 3 2\r\n    2 5 3\r\n    3 4 1\r\n    4 5 1\r\n\r\n###Sample Output:\r\n    1 3\r\n    2 4\r\n    3 3\r\n    -1 -1\r\n    \r\n###Explanation:\r\n\r\nQuery $1$: The unique substrings in $[1, 3]$ are *c*, *abc* and *bc*. *abc* is the lexicographically smallest unique substring of length atleast 2.\r\n\r\nQuery $2$: The unique substrings in $[2, 5]$ are *bc*, *bca*, *bcab*, *c*, *ca* and *cab*. *bca* is the lexicographically smallest unique substring of length atleast 3.\r\n\r\nQuery $3$: The unique substrings in $[3, 4]$ are *c* and *ca*. *c* is the lexicographically smallest unique substring of length atleast 1.\r\n\r\nQuery $4$: None of the substrings in $[4,5]$ are unique.\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"Well, before Chef could counter attack, Dr Doof showed his innocent face which moved Chef. Moreover, on hearing his complete story, Chef took pity on him and decided to befriend him. He even decided to play a game with him. The game goes as follows:\r\n\r\nChef gives Dr Doof a string $S$ of length $N$ consisting only of lowercase Latin letters and asks him to study the string carefully.\r\n\r\nA substring of a string is a contiguous subsequence of that string. We denote the substring of string $S$ starting from the $l^{\\text{th}}$ character and ending with the $r^{\\text{th}}$ character as $S[l, r]$. So, strings *chef* and *odech* are substrings of string *codechef*, but string *codee* is not. \r\n\r\nChef defines a substring to be **unique** if it occurs in the whole string $S$ exactly once.\r\n\r\nAfter Dr Doof studies the string, Chef asks him $Q$ queries of the form - $L$ $R$ $K$.\r\n\r\nFor each query, you have to find the lexicographically smallest **unique** substring of length atleast $K$ in $[L, R]$, or say that there is no **unique** substring in this range. Formally, the answer to each query is two integers $l$ and $r$ such that:\r\n1. $L \\leq l \\leq r \\leq R$\r\n2. $r - l + 1 \\geq K$\r\n3. $S[l, r]$ is the lexicographically smallest **unique** substring satisfying conditions $1$ and $2$.\r\n\r\nString $p$ is lexicographically smaller than string $q$, if $p$ is a prefix of $q$ not equal to $q$ or there exists an index $i$, such that $p_{i}$\u2009<\u2009$q_{i}$ and for all $j\u2009<\u2009i, p_{j}\u2009=\u2009q_{j}$. For example, *abc* is lexicographically smaller than *abcd* , *abd* is lexicographically smaller than *abec*.\r\n\r\nThis time, you have to help the poor Dr Doof answer the queries as he doesn't want to lose his new friend. If there is no **unique** substring $S[l, r]$ satisfying the above conditions, print two space separated integers: $-1$ $-1$.\r\n\r\n###Input:\r\n\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains a single integer $N$.\r\n- The second line contains a single string $S$.\r\n- The third line contains a single integer $Q$.\r\n- $Q$ lines follow. Each of these lines contains three space-separated integers $L$ $R$ $K$ describing a query.\r\n\r\n###Output:\r\nFor each query, print a single line containing two space separated integers $l$ and $r$ \u2015 the answer to the query.\r\n\r\n###Constraints \r\n- $1 \\leq T \\leq 10^5$\r\n- $2 \\leq N \\leq 5\\times10^5$\r\n- $1 \\leq Q \\leq 5 \\times 10^5$\r\n- $1 \\leq L \\leq R \\leq N$\r\n- $1 \\leq K \\leq R - L + 1$\r\n- The sum of $N$ over all test cases does not exceed $5\\times10^5$\r\n- The sum of $Q$ over all test cases does not exceed $5\\times10^5$\r\n\r\n\r\n###Sample Input:\r\n    1\r\n    5\r\n    abcab\r\n    4\r\n    1 3 2\r\n    2 5 3\r\n    3 4 1\r\n    4 5 1\r\n\r\n###Sample Output:\r\n    1 3\r\n    2 4\r\n    3 3\r\n    -1 -1\r\n    \r\n###Explanation:\r\n\r\nQuery $1$: The unique substrings in $[1, 3]$ are *c*, *abc* and *bc*. *abc* is the lexicographically smallest unique substring of length atleast 2.\r\n\r\nQuery $2$: The unique substrings in $[2, 5]$ are *bc*, *bca*, *bcab*, *c*, *ca* and *cab*. *bca* is the lexicographically smallest unique substring of length atleast 3.\r\n\r\nQuery $3$: The unique substrings in $[3, 4]$ are *c* and *ca*. *c* is the lexicographically smallest unique substring of length atleast 1.\r\n\r\nQuery $4$: None of the substrings in $[4,5]$ are unique.","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"2","source_sizelimit":"50000","problem_author":"aman_robotics","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span class='m-username--link'>aman_robotics<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"10-07-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/aman_robotics'>aman_robotics<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cole2020'>cole2020<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/longest-common-prefix'>longest-common-prefix<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium'>medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/segment-tree'>segment-tree<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/suffix-array'>suffix-array<\/a>","problem_difficulty_level":"Medium","user_zen_mode":false,"best_tag":"Segment Tree","editorial_url":"https:\/\/discuss.codechef.com\/problems\/CLUNQUE","time":{"view_start_date":1594838700,"submit_start_date":1594838700,"visible_start_date":1594838700,"end_date":1735669800,"current":1643797932},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=CLUNQUE","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
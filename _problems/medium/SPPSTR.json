{"category_name":"medium","status":"success","problem_code":"SPPSTR","problem_name":"Special power strings","body":"You are given two strings $A$ and $B$. The string $A$ consists of lowercase English alphabets and the string $B$ can consist of lowercase English alphabets as well as **special power** characters. There are three types of special power characters: **#**, **?** and **!**. Each of these special power characters are associated with a few lowercase English alphabets. You can either just remove the special power character from any position, or the special power character can be replaced with any string of your choice, but with the condition that the string must not include any character which is not among the characters associated with that special power character.\r\n\r\nYou have to tell the minimum number of distinct special power characters used to convert $B$ to $A$. If not possible print -1.\r\n\r\nFor eg. if the string $B$ is ab?f#z?d and ? is associated with asev and # is associated with abr. Then you can transform $B$ into ab**svva**f**rrr**z**e**d by replacing the **?** at position 3 by *svva*, replacing **#** at position 5 by *rrr* and replacing **?** at position 7 by *e*. Similarly, the string **B** can be transformed into abf**bbbaaba**z**eeeee**d by removing the **?** at position 3, replacing **#** at position 5 with *bbbaaba* and replacing **?** at position 7 by *eeeee*. The string **B** can also be converted into *abfzd* by removing all the three special power characters. There are infinite possible tranformation of the string **B**. Now, if $A$ is *abfbbazd*, then $B$ can be transfomed into $A$ by removing the **?** at position 3, replacing **#** with *bba* and removing the **?** at position 7. Therefore, we used only one distinct special power character i.e. **#**. You cannot tranform the string $B$ to $A$ using 0 distinct special power character, therefore the answer is 1.\r\n\r\n###Input:\r\n- The first line contains the $T$, the number of test cases.\r\n- The first line of each testcase contains the string $A$.\r\n- The second line of each testcase contains the string $B$.\r\n- The next three lines of each testcase contain three strings, the associated lowercase English alphabets for **#**, **?** and **!** respectively.\r\n\r\n###Output:\r\n- Print in a single line the minimum  number of distinct special power characters used to convert $B$ to $A$. If not possible print -1.\r\n\r\n###Constraints:\r\n- $1 \\le T \\le 5$\r\n- $1 \\le$ length of $A, B \\le 600$\r\n- The associated characters with each **#**, **?** and **!** are distinct lowercase English alphabets.\r\ni.e. $1 \\le$ length of associated characters with **#**, **?** and **!** $\\le 26$.\r\n\r\n###Sample Input 1:\r\n```\r\n2\r\nabfbbazd\r\nab?f#z?d\r\nabr\r\nasev\r\nyhsc\r\nbgghdffgzzz\r\nb#!hd?#g!#z?\r\nagezfh\r\nflk\r\nizogt\r\n```\r\n\r\n###Sample Output:\r\n```\r\n1\r\n1\r\n```\r\n\t\r\n###Explanations:\r\n\r\n**Testcase 1:** Already explained in the problem statement.\r\n\r\n**Testcase 2:** There are more than one ways to convert the string $B$ to $A$. But to minimize the distinct number of special power characters used, we can replace the first **#** with *gg*, the second **#** with *ff* and the last **#** with *zz*, and remove all the **?** and **!**. Therefore, we used only one distinct special power character i.e. **#**.\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"You are given two strings $A$ and $B$. The string $A$ consists of lowercase English alphabets and the string $B$ can consist of lowercase English alphabets as well as **special power** characters. There are three types of special power characters: **#**, **?** and **!**. Each of these special power characters are associated with a few lowercase English alphabets. You can either just remove the special power character from any position, or the special power character can be replaced with any string of your choice, but with the condition that the string must not include any character which is not among the characters associated with that special power character.\r\n\r\nYou have to tell the minimum number of distinct special power characters used to convert $B$ to $A$. If not possible print -1.\r\n\r\nFor eg. if the string $B$ is ab?f#z?d and ? is associated with asev and # is associated with abr. Then you can transform $B$ into ab**svva**f**rrr**z**e**d by replacing the **?** at position 3 by *svva*, replacing **#** at position 5 by *rrr* and replacing **?** at position 7 by *e*. Similarly, the string **B** can be transformed into abf**bbbaaba**z**eeeee**d by removing the **?** at position 3, replacing **#** at position 5 with *bbbaaba* and replacing **?** at position 7 by *eeeee*. The string **B** can also be converted into *abfzd* by removing all the three special power characters. There are infinite possible tranformation of the string **B**. Now, if $A$ is *abfbbazd*, then $B$ can be transfomed into $A$ by removing the **?** at position 3, replacing **#** with *bba* and removing the **?** at position 7. Therefore, we used only one distinct special power character i.e. **#**. You cannot tranform the string $B$ to $A$ using 0 distinct special power character, therefore the answer is 1.\r\n\r\n###Input:\r\n- The first line contains the $T$, the number of test cases.\r\n- The first line of each testcase contains the string $A$.\r\n- The second line of each testcase contains the string $B$.\r\n- The next three lines of each testcase contain three strings, the associated lowercase English alphabets for **#**, **?** and **!** respectively.\r\n\r\n###Output:\r\n- Print in a single line the minimum  number of distinct special power characters used to convert $B$ to $A$. If not possible print -1.\r\n\r\n###Constraints:\r\n- $1 \\le T \\le 5$\r\n- $1 \\le$ length of $A, B \\le 600$\r\n- The associated characters with each **#**, **?** and **!** are distinct lowercase English alphabets.\r\ni.e. $1 \\le$ length of associated characters with **#**, **?** and **!** $\\le 26$.\r\n\r\n###Sample Input 1:\r\n```\r\n2\r\nabfbbazd\r\nab?f#z?d\r\nabr\r\nasev\r\nyhsc\r\nbgghdffgzzz\r\nb#!hd?#g!#z?\r\nagezfh\r\nflk\r\nizogt\r\n```\r\n\r\n###Sample Output:\r\n```\r\n1\r\n1\r\n```\r\n\t\r\n###Explanations:\r\n\r\n**Testcase 1:** Already explained in the problem statement.\r\n\r\n**Testcase 2:** There are more than one ways to convert the string $B$ to $A$. But to minimize the distinct number of special power characters used, we can replace the first **#** with *gg*, the second **#** with *ff* and the last **#** with *zz*, and remove all the **?** and **!**. Therefore, we used only one distinct special power character i.e. **#**.","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"dj_r_1","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span class='m-username--link'>dj_r_1<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"16-07-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/dem2020'>dem2020<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/dementia'>dementia<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/dj_r_1'>dj_r_1<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/dynamic-programming'>dynamic-programming<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/strings'>strings<\/a>","problem_difficulty_level":"Easy-Medium","user_zen_mode":false,"best_tag":"Dynamic Programming","editorial_url":"https:\/\/discuss.codechef.com\/problems\/SPPSTR","time":{"view_start_date":1597339800,"submit_start_date":1597339800,"visible_start_date":1597339800,"end_date":1735669800,"current":1643797979},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=SPPSTR","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"medium","status":"success","problem_code":"A1016054","problem_name":"Tsetso Subarrays","body":"Tsetso likes to play with arrays. \r\n\r\nAn Array $A[1,2,\\ldots,N]$ is said to be a Tsetso array if $A[1] \\cdot A[N] = max(A_1,A_2,\\ldots,A_{N-1},A_N)$.\r\n\r\nBedo, his teammate, likes to solve problems so much, so Tsetso gave him an array $A$ of $N$ $\\bf{distinct}$ integers $A_1, A_2, \\ldots, A_N$ and $Q$ queries of the form $[L, R]$ and asked him to count the number of Tsetso subarrays in the given range.\r\n\r\nA subarray$[L,R]$ is to be a Tsetso subarray if $A[L] \\cdot A[R] = max(A_L,A_{L+1},....,A_{R-1},A_R)$.\r\n\r\nBedo spent a lot of time trying to solve it, but he couldn't, can you?\r\n\r\n$\\bf{Note}$: A sequence $a$ is a subarray of a sequence $b$ if $a$ can be obtained from $b$ by deletion of several (possibly, zero or all) elements from the beginning and several (possibly, zero or all) elements from the end. \n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"- $1 \\leq T \\leq 10$\n- $2 \\leq N \\leq 10^5$\n- $1 \\leq A_i \\leq 10^{18} $\n- $1 \\leq Q \\leq 5 \\cdot 10^5$\n- $1 \\le L \\le R \\le N$\n- Sum of $N$ over all testcases is atmost $10^5$.\n- Sum of $Q$ over all testcases is atmost $5 \\cdot 10^5$.","constraintsState":true,"subtasks":"","subtasksState":false,"statement":"Tsetso likes to play with arrays. \n\nAn Array $A[1,2,\\ldots,N]$ is said to be a Tsetso array if $A[1] \\cdot A[N] = max(A_1,A_2,\\ldots,A_{N-1},A_N)$.\n\nBedo, his teammate, likes to solve problems so much, so Tsetso gave him an array $A$ of $N$ $\\bf{distinct}$ integers $A_1, A_2, \\ldots, A_N$ and $Q$ queries of the form $[L, R]$ and asked him to count the number of Tsetso subarrays in the given range.\n\nA subarray$[L,R]$ is to be a Tsetso subarray if $A[L] \\cdot A[R] = max(A_L,A_{L+1},....,A_{R-1},A_R)$.\n\nBedo spent a lot of time trying to solve it, but he couldn't, can you?\n\n$\\bf{Note}$: A sequence $a$ is a subarray of a sequence $b$ if $a$ can be obtained from $b$ by deletion of several (possibly, zero or all) elements from the beginning and several (possibly, zero or all) elements from the end. ","inputFormat":"- First-line will contain $T$, the number of test cases. Then the test cases follow.\n- The first line of input contains two space-separated integers $N$ and $Q$, the number of elements in the array, and the number of queries.\n- The second line contains $N$ $\\bf{distinct}$ space-separated integers $A_1, A_2, \\ldots, A_N$.\n- Then $Q$ lines follow each line containing two space-separated integers $L, R$. ","inputFormatState":true,"outputFormat":"For each query, output in a single line the number of Tsetso subarrays in the given range $[L, R]$.\n","outputFormatState":true,"sampleTestCases":[{"id":"1","input":"1\n7 3\n3 6 24 4 1 8 2\n1 7\n2 5\n4 7","output":"7\n4\n4","explanation":"- All the valid subarrays are $[1,6],[2,4],[3,5],[4,5],[5,5],[5,6],[4,7]$.\n- One of the invalid subarrays is $[1,3] , 3 \\cdot 24 \\neq max(3,6,24) $","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"zezomostafa11","problem_author_html_handle":"zezomostafa11","problem_tester":"","problem_tester_html_handle":"","date_added":"12-09-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/implementation'>implementation<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium'>medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/start11'>start11<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/zezomostafa11'>zezomostafa11<\/a>","problem_difficulty_level":"Unavailable","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/A1016054","time":{"view_start_date":1631727002,"submit_start_date":1631727002,"visible_start_date":1631727002,"end_date":1735669800,"current":1643797915},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=A1016054","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
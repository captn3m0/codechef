{"category_name":"medium","status":"success","problem_code":"CLAMPWAY","problem_name":"Clamp Paths on Tree","body":"### Read problems statements in [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK130\/mandarin\/CLAMPWAY.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK130\/russian\/CLAMPWAY.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK130\/vietnamese\/CLAMPWAY.pdf) and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK130\/bengali\/CLAMPWAY.pdf) as well.\n\nYou are given a tree with $N$ vertices (numbered $1$ through $N$).\n\nA simple path between two different vertices $a$ and $b$ ($a \\lt b$) is called a *clamp path* if it does not contain any vertices with numbers smaller then $a$ or greater than $b$.\n\nCalculate the number of clamp paths in the given tree.\n\n### Input\n- The first line of the input contains a single integer $N$.\n- The second line contains $N$ space-separated integers $p_1, p_2, \\ldots, p_N$. For each valid $i$, if $p_i \\neq 0$, then there is an edge between vertices $i$ and $p_i$.\n\n### Output\nPrint a single line containing one integer - the number of clamp paths.\n\n### Constraints\n- $2 \\leq N \\leq 2^{20}$\n- $0 \\leq p_i \\leq N$ for each valid $i$\n- there is exactly one vertex $i$ with $p_i = 0$\n- the graph described on the input is a tree\n\n### Example Input\n```\n7\n0 5 5 1 4 1 4\n```\n\n### Example Output\n```\n10\n```\n\n### Explanation\nThe clamp paths are 1 - 4, 1 - 5, 1 - 6, 1 - 7, 2 - 5, 2 - 7, 3 - 5, 3 - 7, 4 - 5 and 4 - 7.\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problems statements in [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK130\/mandarin\/CLAMPWAY.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK130\/russian\/CLAMPWAY.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK130\/vietnamese\/CLAMPWAY.pdf) and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK130\/bengali\/CLAMPWAY.pdf) as well.\n\nYou are given a tree with $N$ vertices (numbered $1$ through $N$).\n\nA simple path between two different vertices $a$ and $b$ ($a \\lt b$) is called a *clamp path* if it does not contain any vertices with numbers smaller then $a$ or greater than $b$.\n\nCalculate the number of clamp paths in the given tree.\n\n### Input\n- The first line of the input contains a single integer $N$.\n- The second line contains $N$ space-separated integers $p_1, p_2, \\ldots, p_N$. For each valid $i$, if $p_i \\neq 0$, then there is an edge between vertices $i$ and $p_i$.\n\n### Output\nPrint a single line containing one integer - the number of clamp paths.\n\n### Constraints\n- $2 \\leq N \\leq 2^{20}$\n- $0 \\leq p_i \\leq N$ for each valid $i$\n- there is exactly one vertex $i$ with $p_i = 0$\n- the graph described on the input is a tree\n\n### Example Input\n```\n7\n0 5 5 1 4 1 4\n```\n\n### Example Output\n```\n10\n```\n\n### Explanation\nThe clamp paths are 1 - 4, 1 - 5, 1 - 6, 1 - 7, 2 - 5, 2 - 7, 3 - 5, 3 - 7, 4 - 5 and 4 - 7.","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"3","source_sizelimit":"50000","problem_author":"demidenko","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>demidenko<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"19-06-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cook130'>cook130<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/demidenko'>demidenko<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/eulerian-tour'>eulerian-tour<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/fenwick-tree'>fenwick-tree<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>medium-hard<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/union-find'>union-find<\/a>","problem_difficulty_level":"Medium-Hard","user_zen_mode":false,"best_tag":"Fenwick Tree","editorial_url":"https:\/\/discuss.codechef.com\/problems\/CLAMPWAY","time":{"view_start_date":1624214702,"submit_start_date":1624214702,"visible_start_date":1624214702,"end_date":1735669800,"current":1643797930},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=CLAMPWAY","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"medium","status":"success","problem_code":"SHENQ","problem_name":"Quest for Dragon Balls","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/LTIME87\/hindi\/SHENQ.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME87\/bengali\/SHENQ.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/LTIME87\/mandarin\/SHENQ.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME87\/russian\/SHENQ.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME87\/vietnamese\/SHENQ.pdf) as well.\r\n\r\nThere are seven magical dragon balls in total scattered across the Earth. Upon collecting all seven of them, one can summon the divine dragon Shenron by chanting magical words. The dragon would then grant any one wish of the summoner.\r\n\r\nChef and his two friends Ramzz and Raju embarked on a journey to collect all seven magical dragon balls. After much difficulty, they have collected them all and proceeded to summon Shenron by chanting magical words. Upon arrival, Shenron told the three friends that he would grant their wish only if they solve the following problem.\r\n\r\nYou are given a sequence of integers $A_1, A_2, \\ldots, A_N$, on which you may perform operations of the following two types:\r\n1. Choose two consecutive odd elements and replace them by a single element \u2015 their sum. For example, the sequence $[1, 2, \\underline{3}, \\underline{3}, 4]$ may be changed to $[1, 2, \\underline{6}, 4]$ (the replaced elements are underlined).\r\n2. Choose two consecutive even elements and replace them by a single element \u2015 their sum plus $1$. For example, the sequence $[1, \\underline{2}, \\underline{2}, 3, 4]$ may be changed to $[1, \\underline{5}, 3, 4]$.\r\n\r\nYour goal is to create a sequence whose length is the smallest possible. If there are multiple sequences with this minimum length, find the most beautiful one among them. (A sequence $A_1, A_2, \\ldots, A_M$ is *more beautiful* than a sequence $B_1, B_2, \\ldots, B_M$ if there is a valid index $i$ such that $A_i \\lt B_i$ and for each valid $j \\lt i$, $A_j = B_j$.)\r\n\r\nHelp Chef and his friends Ramzz and Raju solve Shenron's problem.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains a single integer $N$.\r\n- The second line contains $N$ space-separated integers $A_1, A_2, \\ldots, A_N$.\r\n\r\n### Output\r\nFor each test case, print two lines.\r\n- The first of these lines should contain a single integer $K$ \u2015 the smallest possible length of the final sequence.\r\n- The second line should contain $K$ space-separated integers \u2015 the most beautiful final sequence with length $K$.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 100$\r\n- $1 \\le N \\le 10^5$\r\n- $0 \\le A_i \\le 10^6$ for each valid $i$\r\n- the sum of $N$ over all test cases does not exceed $10^6$\r\n\r\n### Subtasks\r\n**Subtask #1 (50 points):** $A_1, A_2, \\ldots, A_N$ are either all odd or all even\r\n\r\n**Subtask #2 (50 points):** original constraints\r\n\r\n### Example Input\r\n```\r\n2\r\n2\r\n2 2\r\n3\r\n1 3 5\r\n```\r\n\r\n### Example Output\r\n```\r\n1\r\n5\r\n2\r\n1 8\r\n```\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/LTIME87\/hindi\/SHENQ.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME87\/bengali\/SHENQ.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/LTIME87\/mandarin\/SHENQ.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME87\/russian\/SHENQ.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME87\/vietnamese\/SHENQ.pdf) as well.\r\n\r\nThere are seven magical dragon balls in total scattered across the Earth. Upon collecting all seven of them, one can summon the divine dragon Shenron by chanting magical words. The dragon would then grant any one wish of the summoner.\r\n\r\nChef and his two friends Ramzz and Raju embarked on a journey to collect all seven magical dragon balls. After much difficulty, they have collected them all and proceeded to summon Shenron by chanting magical words. Upon arrival, Shenron told the three friends that he would grant their wish only if they solve the following problem.\r\n\r\nYou are given a sequence of integers $A_1, A_2, \\ldots, A_N$, on which you may perform operations of the following two types:\r\n1. Choose two consecutive odd elements and replace them by a single element \u2015 their sum. For example, the sequence $[1, 2, \\underline{3}, \\underline{3}, 4]$ may be changed to $[1, 2, \\underline{6}, 4]$ (the replaced elements are underlined).\r\n2. Choose two consecutive even elements and replace them by a single element \u2015 their sum plus $1$. For example, the sequence $[1, \\underline{2}, \\underline{2}, 3, 4]$ may be changed to $[1, \\underline{5}, 3, 4]$.\r\n\r\nYour goal is to create a sequence whose length is the smallest possible. If there are multiple sequences with this minimum length, find the most beautiful one among them. (A sequence $A_1, A_2, \\ldots, A_M$ is *more beautiful* than a sequence $B_1, B_2, \\ldots, B_M$ if there is a valid index $i$ such that $A_i \\lt B_i$ and for each valid $j \\lt i$, $A_j = B_j$.)\r\n\r\nHelp Chef and his friends Ramzz and Raju solve Shenron's problem.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains a single integer $N$.\r\n- The second line contains $N$ space-separated integers $A_1, A_2, \\ldots, A_N$.\r\n\r\n### Output\r\nFor each test case, print two lines.\r\n- The first of these lines should contain a single integer $K$ \u2015 the smallest possible length of the final sequence.\r\n- The second line should contain $K$ space-separated integers \u2015 the most beautiful final sequence with length $K$.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 100$\r\n- $1 \\le N \\le 10^5$\r\n- $0 \\le A_i \\le 10^6$ for each valid $i$\r\n- the sum of $N$ over all test cases does not exceed $10^6$\r\n\r\n### Subtasks\r\n**Subtask #1 (50 points):** $A_1, A_2, \\ldots, A_N$ are either all odd or all even\r\n\r\n**Subtask #2 (50 points):** original constraints","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"2\r\n2\r\n2 2\r\n3\r\n1 3 5","output":"1\r\n5\r\n2\r\n1 8","explanation":"","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"ramzz","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span class='m-username--link'>ramzz<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"8-08-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/construction'>construction<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/ltime87'>ltime87<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/maths'>maths<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium'>medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/psychik'>psychik<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/ramzz'>ramzz<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/ramzz'>ramzz<\/a>","problem_difficulty_level":"Medium","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/SHENQ","time":{"view_start_date":1104528600,"submit_start_date":1104528600,"visible_start_date":1104528600,"end_date":1735669800,"current":1643797977},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=SHENQ","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
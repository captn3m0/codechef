---
{"category_name":"medium","problem_code":"BADLUCK","problem_name":"Bad Luck","problemComponents":{"constraints":"- $1 \\leq T \\leq 10^5$\n- $1 \\leq N \\leq 10^5$\n- $1 \\leq L \\leq U \\leq 10^9$\n- $1 \\leq x_i \\leq 10^9$ for each valid $i$\n- the sum of $N$ over all test cases does not exceed $10^5$\n","constraintsState":true,"subtasks":"**Subtask #1 (5 points):**\n- $T \\leq 5$\n- $N \\leq 3$\n\n**Subtask #2 (15 points):**\n- $T \\leq 5$\n- $N \\leq 11$, and additionally $N \u003E 5$ in at most one test case\n\n**Subtask #3 (30 points):** $N \\leq 200$\n\n**Subtask #4 (50 points):** original constraints\n","subtasksState":true,"inputFormat":"- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\n- The first line of each test case contains three space-separated integers $N$, $L$ and $U$.\n- The second line contains $N$ space-separated integers $x_1,x_2,\\cdots,x_N$.","inputFormatState":true,"outputFormat":"For each test case, print a single line containing two space-separated integers $S_{\\min}$ and $S_{\\max}$.","outputFormatState":true,"sampleTestCases":{"0":{"id":1,"input":"3\n2 2 4\n8 5\n3 1 2\n1 2 3\n5 3 5\n1 9 2 6 6","output":"8 12\n3 6\n13 22","explanation":"**Example case 1:**\n- To minimize $S$, we may set $y_1=0$ and $y_2=2$.\n- To maximize $S$, we may set $y_1=4$ and $y_2=0$.\n\n**Example case 2:**\n- To minimize $S$, we may set $y_1=2$, $y_2=1$ and $y_3=0$.\n- To maximize $S$, we may set $y_1=0$, $y_2=1$ and $y_3=3$.\n\n**Example case 3:**\n- To minimize $S$, we may set $y_1=0$, $y_2=3$, $y_3=12$, $y_4=6$ and $y_5=9$.\n- To maximize $S$, we may set $y_1=0$, $y_2=20$, $y_3=5$, $y_4=10$ and $y_5=15$.\n","isDeleted":false}}},"video_editorial_url":"https://youtu.be/hAUNkyZ-AJc","languages_supported":{"0":"CPP14","1":"C","2":"JAVA","3":"PYTH 3.6","4":"CPP17","5":"PYTH","6":"PYP3","7":"CS2","8":"ADA","9":"PYPY","10":"TEXT","11":"PAS fpc","12":"NODEJS","13":"RUBY","14":"PHP","15":"GO","16":"HASK","17":"TCL","18":"PERL","19":"SCALA","20":"LUA","21":"kotlin","22":"BASH","23":"JS","24":"LISP sbcl","25":"rust","26":"PAS gpc","27":"BF","28":"CLOJ","29":"R","30":"D","31":"CAML","32":"FORT","33":"ASM","34":"swift","35":"FS","36":"WSPC","37":"LISP clisp","38":"SQL","39":"SCM guile","40":"PERL6","41":"ERL","42":"CLPS","43":"ICK","44":"NICE","45":"PRLG","46":"ICON","47":"COB","48":"SCM chicken","49":"PIKE","50":"SCM qobi","51":"ST","52":"SQLQ","53":"NEM"},"max_timelimit":1,"source_sizelimit":50000,"problem_author":"ratingoverflow","problem_tester":"","date_added":"29-07-2021","tags":{"0":"ltime98","1":"medium","2":"ratingoverflow"},"problem_difficulty_level":"Medium","best_tag":"","editorial_url":"https://discuss.codechef.com/problems/BADLUCK","time":{"view_start_date":1627745402,"submit_start_date":1627745402,"visible_start_date":1627745402,"end_date":1735669800},"is_direct_submittable":false,"problemDiscussURL":"https://discuss.codechef.com/search?q=BADLUCK","is_proctored":false,"visitedContests":{},"layout":"problem"}
---
### Read problem statements in [Mandarin](https://www.codechef.com/download/translated/LTIME98/mandarin/BADLUCK.pdf), [Bengali](https://www.codechef.com/download/translated/LTIME98/bengali/BADLUCK.pdf), [Russian](https://www.codechef.com/download/translated/LTIME98/russian/BADLUCK.pdf), and [Vietnamese](https://www.codechef.com/download/translated/LTIME98/vietnamese/BADLUCK.pdf) as well.

Chef has failed miserably in several cooking competitions, which makes him think that he's been out of luck recently. Therefore, he decided to build a magic circle using his $N$ chopsticks (numbered $1$ through $N$), hoping that it would somehow improve his luck.

The magic circle consists of $N$ chopsticks placed on an infinite straight line (so it's not actually a circle). The line is drawn on the ground and chopsticks should be stuck vertically into the ground.

The chopsticks have lengths $x_1,x_2,\cdots,x_N$. For each valid $i$, the $i$-th chopstick can be placed on the line at any integer position $y_i$; then it casts a shadow on the range $[y_i,y_i+x_i]$ on the line. No two chopsticks may be placed at the same position.

The positions of the chopsticks should satisfy an additional condition: for each pair of neighbouring chopsticks $i$ and $j$ (such that there are no other chopsticks between them), the distances between these neighbouring chopsticks $\left| y_i - y_j \right|$ must fall in a given range $[L,U]$.

The magic power of the circle depends on the total shadowed length $S=\left| \bigcup_i [y_i,y_i+x_i] \right|$. While Chef expects the circle to have the maximum effect, he must prepare for the worst-case scenario â€” due to his recent bad luck. Please help Chef find both the minimum and the maximum value of $S$.

<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.</div></aside>
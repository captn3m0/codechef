{"category_name":"medium","status":"success","problem_code":"SHADES","problem_name":"Two Shades Of A Tree","body":"You are given a rooted tree with $N$ nodes, labeled $1$ through $n$, rooted at node $1$. Each node in the tree can be in one of two colors, black or white, at any point in time. Initially, all nodes are colored black. Over this tree, you need to perform $Q$ queries of the following types:\n\n- $1\\ u\\ v$  \u2014 report the number of paths in the tree that passes through the edge connecting the nodes $u$ and $v$, and has both its endpoints colored in black.\n- $2\\ u$  \u2014 flip the color of all the nodes in the subtree of node $u$, i.e., of all nodes that are in the subtree of node $u$, color those nodes white which are currently black, and color those nodes black which are currently white.\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"- $1 \\leq N \\leq 2\\cdot10^5$\n- $1 \\leq Q \\leq 10^5$\n- $1 \\leq t \\leq 2$\n- $1 \\leq u, v \\leq N$","constraintsState":true,"subtasks":"- 30 points : $1 \\leq R \\leq 10000$\n- 70 points : $1 \\leq R \\leq 10^9$\n","subtasksState":false,"statement":"You are given a rooted tree with $N$ nodes, labeled $1$ through $n$, rooted at node $1$. Each node in the tree can be in one of two colors, black or white, at any point in time. Initially, all nodes are colored black. Over this tree, you need to perform $Q$ queries of the following types:\n\n- $1\\ u\\ v$  \u2014 report the number of paths in the tree that passes through the edge connecting the nodes $u$ and $v$, and has both its endpoints colored in black.\n- $2\\ u$  \u2014 flip the color of all the nodes in the subtree of node $u$, i.e., of all nodes that are in the subtree of node $u$, color those nodes white which are currently black, and color those nodes black which are currently white.","inputFormat":"- The first line contains a single integer $N$, the number of nodes in the tree.\n- The next $N - 1$ lines contain two space-separated integers $u$ $v$ describing the edges of the tree.\n- The next line contains a single integer $Q$, the number of queries. Description of the queries follows.\n- Each of the next $Q$ lines describes a query of one of the two given types: the first integer will represent its type $t$, followed by two space-separated integers $u\\ v$ if $t\\ =\\ 1$, or a single integer $u$ if $t\\ =\\ 2$.","inputFormatState":true,"outputFormat":"For each query of type $1$, output a line containing one integer, the answer to that query. ","outputFormatState":true,"sampleTestCases":[{"id":"1","input":"7\n1 3\n2 7\n3 7\n5 6\n6 4\n4 7\n4\n1 5 6\n2 1\n1 5 6\n2 5\n","output":"6\n0\n","explanation":"- In the first query there are a total of $6$ paths passing through the edge between nodes $5$ and $6$. Those paths are: $1$ to $6$, $3$ to $5$, $7$ to $5$, $4$ to $5$, $2$ to $5$, and $6$ to $5$.\n- In the second query, the complete tree is flipped to white as the root node $1$ is passed as an argument. \n- In the third query, since no node is colored black, so no valid paths exist.\n- In the fourth query, node $5$ is colored black once again.","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"hitch_hiker42","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>hitch_hiker42<\/span>","problem_tester":"sedlif","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #3366CC;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>3&#9733;<\/span><span class='m-username--link'>sedlif<\/span>","date_added":"12-08-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cdmn2021'>cdmn2021<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/eulerian-tour'>eulerian-tour<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/hitch_hiker42'>hitch_hiker42<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/segment-tree'>segment-tree<\/a>","problem_difficulty_level":"Easy-Medium","user_zen_mode":false,"best_tag":"Segment Tree","editorial_url":"https:\/\/discuss.codechef.com\/problems\/SHADES","time":{"view_start_date":1630603800,"submit_start_date":1630603800,"visible_start_date":1630603800,"end_date":1735669800,"current":1643797977},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=SHADES","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"medium","status":"success","problem_code":"HIDDENPTS","problem_name":"Hidden Points","body":"### Read problem statements in [Bengali](https:\/\/www.codechef.com\/download\/translated\/OCT21\/bengali\/HIDDENPTS.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/OCT21\/mandarin\/HIDDENPTS.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/OCT21\/russian\/HIDDENPTS.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/OCT21\/vietnamese\/HIDDENPTS.pdf) as well.\n\n**This is an interactive task**\n\nThere is an array $P$ of size $N$ consisting of distinct integer points on a 2D plane. $P$ are initially hidden from you, but you can ask queries to find out information about points in $P$.\n\nTo be specific, you can ask queries in the form: \n\n`? i j`\n\nwhere $1 \\le i \\lt j \\le N$, and you will be provided with the **square** of the Euclidean distance between $P_i$ and $P_j$.\n\n\nMore formally, define $f(i, j) = (P_i.x - P_j.x)^2 + (P_i.y - P_j.y)^2$, then the output of the query `? i j` is the value of $f(i, j)$.\n\nYou can ask at most $3N - 6$ queries. Find the minimum value among **all possible** $f(i, j)$ where $1 \\le i \\lt j \\le N$.\n\n### Interaction\n- Begin the interaction by reading a single integer $T$ denoting the number of test cases. The test cases follow.\n- For each test case, first read a single integer $N$ denoting the number of points in $P$. After this, you can start making queries.\n- To ask a query, output `? i j` ($1 \\le i \\lt j \\le N$), then read a single integer $f(i, j)$. \n- To output the answer, output `! X`, where $X$ is the minimum value among **all possible** $f(i, j)$ (not just the ones you made a query on). This is not considered a query. Suppose the true exact answer is $Y$, then your answer will be considered correct if and only if $\\frac{|X-Y|}{Y} \\le 10^{-6}$.\n- If at any time you make an invalid query or exceed the query limit, the interaction is terminated and you will receive a Wrong Answer verdict.\n- Don't forget to flush the output after printing each line!\n\n### Constraints\n- $1 \\le T \\le 10^4$\n- $3 \\le N \\le 10^5$\n- $-10^9 \\le P_i.x, P_i.y\\le 10^9$\n- No two points are similar, that is $P_i \\neq P_j$ for all $i \\neq j$\n- Sum of $N$ over all test cases does not exceed $10^5$\n\n### Subtasks\n- **Subtask 1 (30 points):** \n    - $1 \\le T \\le 200$\n    - $3 \\le N \\le 1000$\n    - Sum of $N$ over all test cases does not exceed $1000$.\n    - Time limit: $1$ second\n\n- **Subtask 2 (70 points):** \n    - Original constraints\n    - Time limit: $2$ seconds\n\n### Sample Interaction\n```\nGrader                You\n2\n3\n                      ? 1 2\n1\n                      ! 1\n4\n                      ? 1 4\n8000000000000000000          \n                      ? 2 3\n8000000000000000000\n                      ! 4000000000000000000\n```\n\n### Explanation\n- **Test case $1$:** $P$ = $[(0,0), (0, 1), (2,0)]$.\n    - The query `? 1 2`  gives $f(1,2) = (0-0)^2 + (0-1)^2 = 1$\n    - The minimum value of all $f(i,j)  = 1$. So we output `! 1`\n\n- **Test case $2$:** $P$ = $[(-10^9, -10^9), (-10^9, 10^9), (10^9, -10^9), (10^9, 10^9)]$.\n    - The query `? 1 4`  gives $f(1,4) = (-2 \\cdot 10^9)^2 + (-2 \\cdot 10^9)^2 = 8 \\cdot 10^{18}$\n    - The query `? 2 3`  gives $f(2,3) = (-2 \\cdot 10^9)^2 + (2 \\cdot 10^9)^2 = 8 \\cdot 10^{18}$\n    - The minimum of all $f(i,j) = 4 \\cdot 10^{18}$. So we output `! 4000000000000000000`\n    - Since maximum relative error is $10^{-6}$, any integer in the range $[4 \\cdot 10^{18} - 4 \\cdot 10^{12}, 4 \\cdot 10^{18} + 4 \\cdot 10^{12}]$ will be considered correct. \n\n\n**NOTE**: The above queries are just to demonstrate the interaction. They may or may not be sufficient to deduce the final answer. \n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"- $1 \\le T \\le 10^4$\n- $3 \\le N \\le 10^5$\n- $-10^9 \\le P_i.x, P_i.y\\le 10^9$\n- No two points are similar, that is $P_i \\neq P_j$ for all $i \\neq j$\n- Sum of $N$ over all test cases does not exceed $10^5$","constraintsState":false,"subtasks":"- **Subtask 1 (30 points):** \n    - $1 \\le T \\le 200$\n    - $3 \\le N \\le 1000$\n    - Sum of $N$ over all test cases does not exceed $1000$.\n\n- **Subtask 2 (70 points):** Original constraints.\n","subtasksState":false,"statement":"### Read problem statements in [Bengali](https:\/\/www.codechef.com\/download\/translated\/OCT21\/bengali\/HIDDENPTS.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/OCT21\/mandarin\/HIDDENPTS.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/OCT21\/russian\/HIDDENPTS.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/OCT21\/vietnamese\/HIDDENPTS.pdf) as well.\n\n**This is an interactive task**\n\nThere is an array $P$ of size $N$ consisting of distinct integer points on a 2D plane. $P$ are initially hidden from you, but you can ask queries to find out information about points in $P$.\n\nTo be specific, you can ask queries in the form: \n\n`? i j`\n\nwhere $1 \\le i \\lt j \\le N$, and you will be provided with the **square** of the Euclidean distance between $P_i$ and $P_j$.\n\n\nMore formally, define $f(i, j) = (P_i.x - P_j.x)^2 + (P_i.y - P_j.y)^2$, then the output of the query `? i j` is the value of $f(i, j)$.\n\nYou can ask at most $3N - 6$ queries. Find the minimum value among **all possible** $f(i, j)$ where $1 \\le i \\lt j \\le N$.\n\n### Interaction\n- Begin the interaction by reading a single integer $T$ denoting the number of test cases. The test cases follow.\n- For each test case, first read a single integer $N$ denoting the number of points in $P$. After this, you can start making queries.\n- To ask a query, output `? i j` ($1 \\le i \\lt j \\le N$), then read a single integer $f(i, j)$. \n- To output the answer, output `! X`, where $X$ is the minimum value among **all possible** $f(i, j)$ (not just the ones you made a query on). This is not considered a query. Suppose the true exact answer is $Y$, then your answer will be considered correct if and only if $\\frac{|X-Y|}{Y} \\le 10^{-6}$.\n- If at any time you make an invalid query or exceed the query limit, the interaction is terminated and you will receive a Wrong Answer verdict.\n- Don't forget to flush the output after printing each line!\n\n### Constraints\n- $1 \\le T \\le 10^4$\n- $3 \\le N \\le 10^5$\n- $-10^9 \\le P_i.x, P_i.y\\le 10^9$\n- No two points are similar, that is $P_i \\neq P_j$ for all $i \\neq j$\n- Sum of $N$ over all test cases does not exceed $10^5$\n\n### Subtasks\n- **Subtask 1 (30 points):** \n    - $1 \\le T \\le 200$\n    - $3 \\le N \\le 1000$\n    - Sum of $N$ over all test cases does not exceed $1000$.\n    - Time limit: $1$ second\n\n- **Subtask 2 (70 points):** \n    - Original constraints\n    - Time limit: $2$ seconds\n\n### Sample Interaction\n```\nGrader                You\n2\n3\n                      ? 1 2\n1\n                      ! 1\n4\n                      ? 1 4\n8000000000000000000          \n                      ? 2 3\n8000000000000000000\n                      ! 4000000000000000000\n```\n\n### Explanation\n- **Test case $1$:** $P$ = $[(0,0), (0, 1), (2,0)]$.\n    - The query `? 1 2`  gives $f(1,2) = (0-0)^2 + (0-1)^2 = 1$\n    - The minimum value of all $f(i,j)  = 1$. So we output `! 1`\n\n- **Test case $2$:** $P$ = $[(-10^9, -10^9), (-10^9, 10^9), (10^9, -10^9), (10^9, 10^9)]$.\n    - The query `? 1 4`  gives $f(1,4) = (-2 \\cdot 10^9)^2 + (-2 \\cdot 10^9)^2 = 8 \\cdot 10^{18}$\n    - The query `? 2 3`  gives $f(2,3) = (-2 \\cdot 10^9)^2 + (2 \\cdot 10^9)^2 = 8 \\cdot 10^{18}$\n    - The minimum of all $f(i,j) = 4 \\cdot 10^{18}$. So we output `! 4000000000000000000`\n    - Since maximum relative error is $10^{-6}$, any integer in the range $[4 \\cdot 10^{18} - 4 \\cdot 10^{12}, 4 \\cdot 10^{18} + 4 \\cdot 10^{12}]$ will be considered correct. \n\n\n**NOTE**: The above queries are just to demonstrate the interaction. They may or may not be sufficient to deduce the final answer. ","inputFormat":"Refer interaction","inputFormatState":false,"outputFormat":"- For each test case, output a single integer, the maximum $f(i,j)$. \n","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"https:\/\/youtu.be\/iAkKn0sXKiU","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1 - 2","source_sizelimit":"50000","problem_author":"dragonado","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>dragonado<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"30-09-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/dragonado'>dragonado<\/a>","problem_difficulty_level":"Unavailable","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/HIDDENPTS","time":{"view_start_date":1633944600,"submit_start_date":1633944600,"visible_start_date":1633944600,"end_date":1735669800,"current":1643797947},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=HIDDENPTS","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
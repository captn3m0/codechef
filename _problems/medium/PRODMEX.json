{"category_name":"medium","status":"success","problem_code":"PRODMEX","problem_name":"Product Mex Queries","body":"### Read problems statements in [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK129\/mandarin\/PRODMEX.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK129\/russian\/PRODMEX.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK129\/vietnamese\/PRODMEX.pdf) and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK129\/bengali\/PRODMEX.pdf) as well.\r\n\r\nYou are given an array $a$ of length $N$ and $Q$ queries. Each query is described by a pair of integers, $l$ and $r$. Answer each query with the following: if we take every subsequence of the elements with indices between $l$ and $r$ (inclusive) and write down their products, what will be the smallest missing positive integer?\r\n\r\nA subsequence of an array is a sequence you obtain by deleting some (possibly zero or all) elements of the array. The product of the empty subsequence is defined to be $1$.\r\n\r\n###Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $Q$.\r\n- The second line contains $N$ space-separated integers $a_1, a_2, \\ldots, a_N$.\r\n- Each of the next $Q$ lines contains two space-separated integers, $l$ and $r$, denoting the query's range.\r\n\r\n###Output\r\nFor each query, output the smallest missing subsequence product on a new line.\r\n\r\n###Constraints\r\n- $1 \\le T \\le 5$\r\n- $1 \\le N,Q \\le 10^5$\r\n- $1 \\le a_i \\le 10^9$ for each valid $i$\r\n- $1 \\le l \\le r \\le N$\r\n\r\n###Sample Input\r\n```\r\n1\r\n5 3\r\n2 3 2 5 4\r\n2 3\r\n1 4\r\n3 5\r\n```\r\n\r\n###Sample Output\r\n```\r\n4\r\n7\r\n3\r\n```\r\n\r\n###Explanation\r\n\r\nThe array is $[2,3,2,5,4]$.\r\n\r\nThe first query asks about the range $[2, 3]$. The subsequences of this range are $[]$, $[3]$, $[2]$, and $[3, 2]$. They have products $1$, $3$, $2$, and $6$, respectively. The smallest missing positive integer from the list of products is $4$.\r\n\r\nThe second query asks about the range $[1, 4]$.\r\n- $[]$ has product $1$\r\n- $[2]$ has product $2$\r\n- $[3]$ has product $3$\r\n- $[2, 2]$ has product $4$\r\n- $[5]$ has product $5$\r\n- $[2, 3]$ has product $6$\r\n- But $7$ does not appear as a subsequence product in the given range.\r\n\r\nThe third query asks about the range $[3, 5]$.\r\n- $[]$ has product $1$\r\n- $[2]$ has product $2$\r\n- But $3$ does not appear as a subsequence product in the given range.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problems statements in [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK129\/mandarin\/PRODMEX.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK129\/russian\/PRODMEX.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK129\/vietnamese\/PRODMEX.pdf) and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK129\/bengali\/PRODMEX.pdf) as well.\r\n\r\nYou are given an array $a$ of length $N$ and $Q$ queries. Each query is described by a pair of integers, $l$ and $r$. Answer each query with the following: if we take every subsequence of the elements with indices between $l$ and $r$ (inclusive) and write down their products, what will be the smallest missing positive integer?\r\n\r\nA subsequence of an array is a sequence you obtain by deleting some (possibly zero or all) elements of the array. The product of the empty subsequence is defined to be $1$.\r\n\r\n###Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $Q$.\r\n- The second line contains $N$ space-separated integers $a_1, a_2, \\ldots, a_N$.\r\n- Each of the next $Q$ lines contains two space-separated integers, $l$ and $r$, denoting the query's range.\r\n\r\n###Output\r\nFor each query, output the smallest missing subsequence product on a new line.\r\n\r\n###Constraints\r\n- $1 \\le T \\le 5$\r\n- $1 \\le N,Q \\le 10^5$\r\n- $1 \\le a_i \\le 10^9$ for each valid $i$\r\n- $1 \\le l \\le r \\le N$","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"1\r\n5 3\r\n2 3 2 5 4\r\n2 3\r\n1 4\r\n3 5","output":"4\r\n7\r\n3","explanation":"The array is $[2,3,2,5,4]$.\r\n\r\nThe first query asks about the range $[2, 3]$. The subsequences of this range are $[]$, $[3]$, $[2]$, and $[3, 2]$. They have products $1$, $3$, $2$, and $6$, respectively. The smallest missing positive integer from the list of products is $4$.\r\n\r\nThe second query asks about the range $[1, 4]$.\r\n- $[]$ has product $1$\r\n- $[2]$ has product $2$\r\n- $[3]$ has product $3$\r\n- $[2, 2]$ has product $4$\r\n- $[5]$ has product $5$\r\n- $[2, 3]$ has product $6$\r\n- But $7$ does not appear as a subsequence product in the given range.\r\n\r\nThe third query asks about the range $[3, 5]$.\r\n- $[]$ has product $1$\r\n- $[2]$ has product $2$\r\n- But $3$ does not appear as a subsequence product in the given range.","isDeleted":false}]},"video_editorial_url":"https:\/\/youtu.be\/1wNAXys9kQ4","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"2.5","source_sizelimit":"50000","problem_author":"mohammed200218","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>mohammed200218<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"14-05-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cook129'>cook129<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>medium-hard<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/mohammed200218'>mohammed200218<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/number-theory'>number-theory<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/segment-tree'>segment-tree<\/a>","problem_difficulty_level":"Medium-Hard","user_zen_mode":false,"best_tag":"Segment Tree","editorial_url":"https:\/\/discuss.codechef.com\/problems\/PRODMEX","time":{"view_start_date":1621794602,"submit_start_date":1621794602,"visible_start_date":1621794602,"end_date":1735669800,"current":1643797969},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=PRODMEX","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"medium","status":"success","problem_code":"BADLUCK","problem_name":"Bad Luck","body":"### Read problem statements in [Mandarin](https:\/\/www.codechef.com\/download\/translated\/LTIME98\/mandarin\/BADLUCK.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME98\/bengali\/BADLUCK.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME98\/russian\/BADLUCK.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME98\/vietnamese\/BADLUCK.pdf) as well.\n\nChef has failed miserably in several cooking competitions, which makes him think that he's been out of luck recently. Therefore, he decided to build a magic circle using his $N$ chopsticks (numbered $1$ through $N$), hoping that it would somehow improve his luck.\n\nThe magic circle consists of $N$ chopsticks placed on an infinite straight line (so it's not actually a circle). The line is drawn on the ground and chopsticks should be stuck vertically into the ground.\n\nThe chopsticks have lengths $x_1,x_2,\\cdots,x_N$. For each valid $i$, the $i$-th chopstick can be placed on the line at any integer position $y_i$; then it casts a shadow on the range $[y_i,y_i+x_i]$ on the line. No two chopsticks may be placed at the same position.\n\nThe positions of the chopsticks should satisfy an additional condition: for each pair of neighbouring chopsticks $i$ and $j$ (such that there are no other chopsticks between them), the distances between these neighbouring chopsticks $\\left| y_i - y_j \\right|$ must fall in a given range $[L,U]$.\n\nThe magic power of the circle depends on the total shadowed length $S=\\left| \\bigcup_i [y_i,y_i+x_i] \\right|$. While Chef expects the circle to have the maximum effect, he must prepare for the worst-case scenario \u2014 due to his recent bad luck. Please help Chef find both the minimum and the maximum value of $S$.\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"- $1 \\leq T \\leq 10^5$\n- $1 \\leq N \\leq 10^5$\n- $1 \\leq L \\leq U \\leq 10^9$\n- $1 \\leq x_i \\leq 10^9$ for each valid $i$\n- the sum of $N$ over all test cases does not exceed $10^5$\n","constraintsState":true,"subtasks":"**Subtask #1 (5 points):**\n- $T \\leq 5$\n- $N \\leq 3$\n\n**Subtask #2 (15 points):**\n- $T \\leq 5$\n- $N \\leq 11$, and additionally $N > 5$ in at most one test case\n\n**Subtask #3 (30 points):** $N \\leq 200$\n\n**Subtask #4 (50 points):** original constraints\n","subtasksState":true,"statement":"### Read problem statements in [Mandarin](https:\/\/www.codechef.com\/download\/translated\/LTIME98\/mandarin\/BADLUCK.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME98\/bengali\/BADLUCK.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME98\/russian\/BADLUCK.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME98\/vietnamese\/BADLUCK.pdf) as well.\n\nChef has failed miserably in several cooking competitions, which makes him think that he's been out of luck recently. Therefore, he decided to build a magic circle using his $N$ chopsticks (numbered $1$ through $N$), hoping that it would somehow improve his luck.\n\nThe magic circle consists of $N$ chopsticks placed on an infinite straight line (so it's not actually a circle). The line is drawn on the ground and chopsticks should be stuck vertically into the ground.\n\nThe chopsticks have lengths $x_1,x_2,\\cdots,x_N$. For each valid $i$, the $i$-th chopstick can be placed on the line at any integer position $y_i$; then it casts a shadow on the range $[y_i,y_i+x_i]$ on the line. No two chopsticks may be placed at the same position.\n\nThe positions of the chopsticks should satisfy an additional condition: for each pair of neighbouring chopsticks $i$ and $j$ (such that there are no other chopsticks between them), the distances between these neighbouring chopsticks $\\left| y_i - y_j \\right|$ must fall in a given range $[L,U]$.\n\nThe magic power of the circle depends on the total shadowed length $S=\\left| \\bigcup_i [y_i,y_i+x_i] \\right|$. While Chef expects the circle to have the maximum effect, he must prepare for the worst-case scenario \u2014 due to his recent bad luck. Please help Chef find both the minimum and the maximum value of $S$.\n","inputFormat":"- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\n- The first line of each test case contains three space-separated integers $N$, $L$ and $U$.\n- The second line contains $N$ space-separated integers $x_1,x_2,\\cdots,x_N$.","inputFormatState":true,"outputFormat":"For each test case, print a single line containing two space-separated integers $S_{\\min}$ and $S_{\\max}$.","outputFormatState":true,"sampleTestCases":[{"id":"1","input":"3\n2 2 4\n8 5\n3 1 2\n1 2 3\n5 3 5\n1 9 2 6 6","output":"8 12\n3 6\n13 22","explanation":"**Example case 1:**\n- To minimize $S$, we may set $y_1=0$ and $y_2=2$.\n- To maximize $S$, we may set $y_1=4$ and $y_2=0$.\n\n**Example case 2:**\n- To minimize $S$, we may set $y_1=2$, $y_2=1$ and $y_3=0$.\n- To maximize $S$, we may set $y_1=0$, $y_2=1$ and $y_3=3$.\n\n**Example case 3:**\n- To minimize $S$, we may set $y_1=0$, $y_2=3$, $y_3=12$, $y_4=6$ and $y_5=9$.\n- To maximize $S$, we may set $y_1=0$, $y_2=20$, $y_3=5$, $y_4=10$ and $y_5=15$.\n","isDeleted":false}]},"video_editorial_url":"https:\/\/youtu.be\/hAUNkyZ-AJc","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"ratingoverflow","problem_author_html_handle":"ratingoverflow","problem_tester":"","problem_tester_html_handle":"","date_added":"29-07-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/ltime98'>ltime98<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium'>medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/ratingoverflow'>ratingoverflow<\/a>","problem_difficulty_level":"Medium","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/BADLUCK","time":{"view_start_date":1627745402,"submit_start_date":1627745402,"visible_start_date":1627745402,"end_date":1735669800,"current":1643797919},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=BADLUCK","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"medium","status":"success","problem_code":"ONEPILE","problem_name":"One Pile ","body":"### Read problems statements in [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK133\/russian\/ONEPILE.pdf).\n\nUtkarsh is forced to play another game with Ashish.\n\nIn this game there are $N$ piles, $i^{th}$ pile contains $A_i$ stones. **Utkarsh moves first**.\n\nIn his turn a player can choose any pile with non-zero stones and remove exactly one stone from that pile. The game ends when there is exactly one pile containing non-zero stones and the player who made the last move wins the game.\n\nNow you are given an array $B$ of length $N$. Utkarsh wants to know for how many arrays A such that $1 \\leq A_i \\leq B_i$ for every $i$, he will win the game assuming that both players play optimally.\n\nSince the answer can be large output it modulo $998244353$. \n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"- $1 \\leq T \\leq 100$\n- $2 \\leq N \\leq 500$\n- $1 \\leq B_i \\leq 10^9$\n- Sum of $N$ over all test cases does not exceed $500$","constraintsState":true,"subtasks":"- 30 points : $1 \\leq R \\leq 10000$\n- 70 points : $1 \\leq R \\leq 10^9$\n","subtasksState":false,"statement":"### Read problems statements in [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK133\/russian\/ONEPILE.pdf).\n\nUtkarsh is forced to play another game with Ashish.\n\nIn this game there are $N$ piles, $i^{th}$ pile contains $A_i$ stones. **Utkarsh moves first**.\n\nIn his turn a player can choose any pile with non-zero stones and remove exactly one stone from that pile. The game ends when there is exactly one pile containing non-zero stones and the player who made the last move wins the game.\n\nNow you are given an array $B$ of length $N$. Utkarsh wants to know for how many arrays A such that $1 \\leq A_i \\leq B_i$ for every $i$, he will win the game assuming that both players play optimally.\n\nSince the answer can be large output it modulo $998244353$. ","inputFormat":"- First line will contain $T$, number of testcases. Then the testcases follow.\n- First line of each test case consists of an integer $N$.\n- Second line consists of $N$ space separated integers denoting the array $B$.\n","inputFormatState":true,"outputFormat":"For each testcase, output the number of games Utkarsh wins modulo $998244353$.","outputFormatState":true,"sampleTestCases":[{"id":"1","input":"2\n2\n3 3\n3\n2 3 4\n","output":"7\n17\n","explanation":"- For the first test case, Utkarsh wins the game for following arrays:\n\n$[1,1]$, $[1,2]$, $[1,3]$, $[2,1]$, $[3,1]$, $[2,3]$, $[3,2]$.\n\nSo there are total $7$ possibilities.","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"3","source_sizelimit":"50000","problem_author":"utkarsh_25dec","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>utkarsh_25dec<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"17-09-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cook133'>cook133<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>medium-hard<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/utkarsh_25dec'>utkarsh_25dec<\/a>","problem_difficulty_level":"Unavailable","user_zen_mode":false,"best_tag":"Medium Hard","editorial_url":"https:\/\/discuss.codechef.com\/problems\/ONEPILE","time":{"view_start_date":1632078002,"submit_start_date":1632078002,"visible_start_date":1632078002,"end_date":1735669800,"current":1643797964},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=ONEPILE","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
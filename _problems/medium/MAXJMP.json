{"category_name":"medium","status":"success","problem_code":"MAXJMP","problem_name":"Maximum Tree Jumps","body":"### Read problems statements in [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK132\/mandarin\/MAXJMP.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK132\/russian\/MAXJMP.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK132\/bengali\/MAXJMP.pdf) as well.\n\nSome cooking competitions going on to be held in various cities and the Chef wants to participate in them. There are $N$ cities numbered from $1$ to $N$ and they are connected by $N-1$ roads such that every city is connected to every other city. But traveling is a bit different here. Every city $i$ is assigned a travel value, $A_i$. From a city numbered $X$, one can only travel to another city $Y$ such that the simple path from $X$ to $Y$ has exactly $A_X$ roads.\n\nTo participate in a city's competition, the Chef just has to visit it. Help the Chef by finding the maximum number of competitions he can participate in if he can start from any city and visit any city multiple times.\n\nFormally, given a tree in which every node $i$ is assigned a value $A_i$, you have to find the maximum number of distinct nodes that can be visited, if we can start from any node and visit any node multiple times. The only condition is that you can only move from node $i$ to $j$ if the number of edges between $i$ and $j$ is exactly $A_i$.\n\n\n**Note**: Usually, there is no bound on the stack memory, and is equal to the total memory limit of 1.5 GB. But due to a system configuration issue, the stack limit for C++ is temporarily set to 8MB. So, if you believe that your code requires larger stack limit, please include [this](https:\/\/codeforces.com\/blog\/entry\/15866) in your code.\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"- $1 \\le T \\le 10^4$\n- $1 \\leq N \\leq 10^5$\n- $1 \\le u_i,v_i \\le N$ and $u_i \\neq v_i$\n- $1 \\le A_i \\le 10^9$\n- It is guaranteed that the given edges form a tree.\n- It is also guaranteed that the sum of $N$ for all test cases does not exceed $2 \\cdot 10^{5}$.\n","constraintsState":true,"subtasks":"- 30 points : $1 \\leq R \\leq 10000$\n- 70 points : $1 \\leq R \\leq 10^9$\n","subtasksState":false,"statement":"### Read problems statements in [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK132\/mandarin\/MAXJMP.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK132\/russian\/MAXJMP.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK132\/bengali\/MAXJMP.pdf) as well.\n\nSome cooking competitions going on to be held in various cities and the Chef wants to participate in them. There are $N$ cities numbered from $1$ to $N$ and they are connected by $N-1$ roads such that every city is connected to every other city. But traveling is a bit different here. Every city $i$ is assigned a travel value, $A_i$. From a city numbered $X$, one can only travel to another city $Y$ such that the simple path from $X$ to $Y$ has exactly $A_X$ roads.\n\nTo participate in a city's competition, the Chef just has to visit it. Help the Chef by finding the maximum number of competitions he can participate in if he can start from any city and visit any city multiple times.\n\nFormally, given a tree in which every node $i$ is assigned a value $A_i$, you have to find the maximum number of distinct nodes that can be visited, if we can start from any node and visit any node multiple times. The only condition is that you can only move from node $i$ to $j$ if the number of edges between $i$ and $j$ is exactly $A_i$.\n\n\n**Note**: Usually, there is no bound on the stack memory, and is equal to the total memory limit of 1.5 GB. But due to a system configuration issue, the stack limit for C++ is temporarily set to 8MB. So, if you believe that your code requires larger stack limit, please include [this](https:\/\/codeforces.com\/blog\/entry\/15866) in your code.\n","inputFormat":"The first line contains a single integer $T$, the number of test cases. Then the test cases follow.\n\n- The first line of each test case contains a single integer $N$ ($1 \\le N \\le  10^{5}$).\n\n- Next $N-1$ lines contain 2 integers each, $u_i$ and $v_i$, denoting a road between cities $u_i$ and $v_i$.\n\n- Next line contains $N$ space separated integers, $A_1 \\cdot \\cdot \\cdot A_N$.","inputFormatState":true,"outputFormat":"In a single line, output the maximum number of cities that can be visited, starting from any one and visiting any city any number of times.\n","outputFormatState":true,"sampleTestCases":[{"id":"1","input":"3\n5\n1 3\n3 5\n1 4\n4 2\n1 2 3 3 1\n6\n1 2\n1 3\n2 4\n2 5\n3 6\n1 1 1 1 1 1\n8\n1 5\n1 6\n1 7\n1 8\n1 2\n2 3\n3 4\n1 2 3 4 5 6 7 8","output":"5\n6\n4","explanation":"In example case $1$,\n- From city $1$, Chef can move only to cities $3$ or $4$.\n- From city $2$, Chef can move only to city $1$.\n- From city $3$, Chef can move only to city $2$.\n- From city $4$, Chef can move only to city $5$.\n- From city $5$, Chef can move only to city $3$.\n- Chef can follow the path $1 \\rightarrow 3 \\rightarrow 2 \\rightarrow 1 \\rightarrow 4 \\rightarrow 5$, and visit every city.\n\nIn example case $2$,\n- Chef can follow any path to visit all the vertices eventually. since every $A_i$ = $1$. \n\nIn example case $3$,\n- Chef can follow the path $1 \\rightarrow 2 \\rightarrow 4 \\rightarrow 5$.\n- There are other paths as well, but the maximum number would be 4 only.","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"4","source_sizelimit":"50000","problem_author":"shikhar7s","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>shikhar7s<\/span>","problem_tester":"theoneyouwant","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span class='m-username--link'>theoneyouwant<\/span>","date_added":"14-08-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/centroid-decomposition'>centroid-decomposition<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cook132'>cook132<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/dynamic-programming'>dynamic-programming<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>medium-hard<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/shikhar7s'>shikhar7s<\/a>","problem_difficulty_level":"Medium","user_zen_mode":false,"best_tag":"Dynamic Programming","editorial_url":"https:\/\/discuss.codechef.com\/problems\/MAXJMP","time":{"view_start_date":1629658802,"submit_start_date":1629658802,"visible_start_date":1629658802,"end_date":1735669800,"current":1643797957},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=MAXJMP","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"medium","status":"success","problem_code":"INVXOR","problem_name":"Inverse of a Function","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/hindi\/INVXOR.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/bengali\/INVXOR.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/mandarin\/INVXOR.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/russian\/INVXOR.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/vietnamese\/INVXOR.pdf) as well.\r\n\r\nThe *beauty* of a sequence of non-negative integers is computed in the following way: for each of its non-empty (not necessarily contiguous) subsequences, compute the XOR of all elements of this subsequence; then, sum up all the XORs you obtained.\r\n\r\nLet $F(N, B)$ denotes the number of non-negative integer sequences with length $N$ which have beauty $B$. You are given three integers $N$, $X$ and $M$. Find the smallest non-negative integer $B$ such that $F(N, B) \\bmod M = X$, or determine that there is no such $B$. Since even the smallest such $B$ might be very large, compute its remainder modulo $998,244,353$.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first and only line of each test case contains three space-separated integers $N$, $X$ and $M$.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the smallest valid $B$ (modulo $998,244,353$), or $-1$ if there is no valid $B$.\r\n\r\n### Constraints \r\n- $1 \\le T \\le 100$\r\n- $1 \\le N \\le 10^{10,000}$\r\n- $1 \\le M \\le 10^9$\r\n- $0 \\le X \\lt M$\r\n\r\n### Subtasks\r\n**Subtask #1 (45 points):**\r\n- $N \\le 10^9$\r\n- $M \\le 10^5$\r\n\r\n**Subtask #2 (55 points):** original constraints\r\n\r\n### Example Input\r\n```\r\n3\r\n2 2 7\r\n4 3 17\r\n3 5 13\r\n```\r\n\r\n### Example Output\r\n```\r\n6\r\n-1\r\n28\r\n```\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/hindi\/INVXOR.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/bengali\/INVXOR.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/mandarin\/INVXOR.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/russian\/INVXOR.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/vietnamese\/INVXOR.pdf) as well.\r\n\r\nThe *beauty* of a sequence of non-negative integers is computed in the following way: for each of its non-empty (not necessarily contiguous) subsequences, compute the XOR of all elements of this subsequence; then, sum up all the XORs you obtained.\r\n\r\nLet $F(N, B)$ denotes the number of non-negative integer sequences with length $N$ which have beauty $B$. You are given three integers $N$, $X$ and $M$. Find the smallest non-negative integer $B$ such that $F(N, B) \\bmod M = X$, or determine that there is no such $B$. Since even the smallest such $B$ might be very large, compute its remainder modulo $998,244,353$.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first and only line of each test case contains three space-separated integers $N$, $X$ and $M$.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the smallest valid $B$ (modulo $998,244,353$), or $-1$ if there is no valid $B$.\r\n\r\n### Constraints \r\n- $1 \\le T \\le 100$\r\n- $1 \\le N \\le 10^{10,000}$\r\n- $1 \\le M \\le 10^9$\r\n- $0 \\le X \\lt M$\r\n\r\n### Subtasks\r\n**Subtask #1 (45 points):**\r\n- $N \\le 10^9$\r\n- $M \\le 10^5$\r\n\r\n**Subtask #2 (55 points):** original constraints","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"3\r\n2 2 7\r\n4 3 17\r\n3 5 13","output":"6\r\n-1\r\n28","explanation":"","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"sjshohag","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>sjshohag<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"24-01-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/combinatorics'>combinatorics<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/discrete-logarithm'>discrete-logarithm<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/march20'>march20<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>medium-hard<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/sjshohag'>sjshohag<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/tmwilliamlin'>tmwilliamlin<\/a>","problem_difficulty_level":"Medium-Hard","user_zen_mode":false,"best_tag":"Discrete Logarithm","editorial_url":"https:\/\/discuss.codechef.com\/problems\/INVXOR","time":{"view_start_date":1104528600,"submit_start_date":1104528600,"visible_start_date":1104528600,"end_date":1735669800,"current":1643797951},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=INVXOR","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
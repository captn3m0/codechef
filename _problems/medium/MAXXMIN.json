{"category_name":"medium","status":"success","problem_code":"MAXXMIN","problem_name":" XOR maximum-minimum matrices","body":"### Read problems statements in [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK129\/mandarin\/MAXXMIN.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK129\/russian\/MAXXMIN.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK129\/vietnamese\/MAXXMIN.pdf) and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK129\/bengali\/MAXXMIN.pdf) as well.\r\n\r\nChef has an integer matrix $A$ of $N$ rows and $M$ columns, and an integer $X$.\r\n\r\nA **submatrix** is defined as a rectangle of values inside $A$. More formally, given two intervals $[l, r]$ and $[L, R]$, the corresponding submatrix consists of the values $a_{ij}$ such that $l\\le i\\le r$ and $L\\le j\\le R$. Two submatrices are considered different if one of the ranges $[l,r]$ or $[L,R]$ differs.\r\n\r\nChef uses $f(X)$ to denote the total number of submatrices $B$ in which $$\\max(B) \\oplus \\min(B)=X,$$\r\n\r\nwhere $\\oplus$ denotes bitwise XOR, $\\max(B)$ denotes the maximum integer in $B$, and $\\min(B)$ denotes the minimum integer in $B$.\r\n\r\nChef does not know in which order he would like to put the rows. He wishes to know the value of $f(X)$ for every permutation of rows, but since the amount of them can be too large, he wants to know the sum of the answers over all permutations.\r\n\r\n###Input\r\n\r\n- The first line contains three space-separated integers $N$, $M$ and $X$.\r\n- Next $N$ lines contains $M$ integers each: the $j$-th integer of the $i$-th line $A_{ij}$.\r\n\r\n###Output\r\n\r\nOutput the sum of $f(X)$ over all permutations of the rows of $A$.\r\n\r\n###Constraints \r\n- $1 \\leq N \\leq  8$\r\n- $1 \\leq M \\leq 10^5$\r\n- $0 \\leq X, A_{ij} \\leq 10^9$\r\n\r\n###Sample Input\r\n```\r\n3 3 3\r\n1 2 1\r\n0 3 0\r\n2 1 2\r\n```\r\n\r\n###Sample Output\r\n```\r\n120\r\n```\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problems statements in [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK129\/mandarin\/MAXXMIN.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK129\/russian\/MAXXMIN.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK129\/vietnamese\/MAXXMIN.pdf) and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK129\/bengali\/MAXXMIN.pdf) as well.\r\n\r\nChef has an integer matrix $A$ of $N$ rows and $M$ columns, and an integer $X$.\r\n\r\nA **submatrix** is defined as a rectangle of values inside $A$. More formally, given two intervals $[l, r]$ and $[L, R]$, the corresponding submatrix consists of the values $a_{ij}$ such that $l\\le i\\le r$ and $L\\le j\\le R$. Two submatrices are considered different if one of the ranges $[l,r]$ or $[L,R]$ differs.\r\n\r\nChef uses $f(X)$ to denote the total number of submatrices $B$ in which $$\\max(B) \\oplus \\min(B)=X,$$\r\n\r\nwhere $\\oplus$ denotes bitwise XOR, $\\max(B)$ denotes the maximum integer in $B$, and $\\min(B)$ denotes the minimum integer in $B$.\r\n\r\nChef does not know in which order he would like to put the rows. He wishes to know the value of $f(X)$ for every permutation of rows, but since the amount of them can be too large, he wants to know the sum of the answers over all permutations.\r\n\r\n###Input\r\n\r\n- The first line contains three space-separated integers $N$, $M$ and $X$.\r\n- Next $N$ lines contains $M$ integers each: the $j$-th integer of the $i$-th line $A_{ij}$.\r\n\r\n###Output\r\n\r\nOutput the sum of $f(X)$ over all permutations of the rows of $A$.\r\n\r\n###Constraints \r\n- $1 \\leq N \\leq  8$\r\n- $1 \\leq M \\leq 10^5$\r\n- $0 \\leq X, A_{ij} \\leq 10^9$","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"3 3 3\r\n1 2 1\r\n0 3 0\r\n2 1 2","output":"120","explanation":"","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"3","source_sizelimit":"50000","problem_author":"karpovich","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>karpovich<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"20-05-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/combinatorics'>combinatorics<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cook129'>cook129<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/karpovich'>karpovich<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium'>medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/pointers'>pointers<\/a>","problem_difficulty_level":"Medium","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/MAXXMIN","time":{"view_start_date":1104528600,"submit_start_date":1104528600,"visible_start_date":1104528600,"end_date":1735669800,"current":1643797957},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=MAXXMIN","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
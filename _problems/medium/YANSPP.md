---
{"category_name":"medium","problem_code":"YANSPP","problem_name":"Yet Another Shortest Path Problem","problemComponents":{"constraints":"- $1 \\leq T \\leq 5$\n- $2 \\leq P \\leq 10^6$ and $P$ is a prime\n- $2 \\leq K \\leq 10^6$\n- $1 \\leq Q \\leq 10^4$","constraintsState":true,"subtasks":"- 10 points : $1 \\leq P \\leq 1000$\n- 90 points : original constraints\n","subtasksState":true,"inputFormat":"- Each test contains multiple test cases. The first line contains the number of test cases $T$. The description of $T$ testcases as follows.\n- The first line of each test contains $3$ space separated integers $P, K, Q$.\n- Then $Q$ lines follow. Each of the $Q$ lines contains two space separated integers $X$ and $Y$ denoting a query.","inputFormatState":true,"outputFormat":"For each query print a single integer denoting the minimum cost of going from $X$ to $Y$. If a path does not exist print $-1$.","outputFormatState":true,"sampleTestCases":{"0":{"id":1,"input":"2\n73 2 3\n0 55\n3 18\n66 17\n73 73 2\n54 54\n54 55\n","output":"1\n2\n0\n0\n55\n","explanation":"","isDeleted":false}}},"video_editorial_url":"","languages_supported":{"0":"CPP14","1":"C","2":"JAVA","3":"PYTH 3.6","4":"CPP17","5":"PYTH","6":"PYP3","7":"CS2","8":"ADA","9":"PYPY","10":"TEXT","11":"PAS fpc","12":"NODEJS","13":"RUBY","14":"PHP","15":"GO","16":"HASK","17":"TCL","18":"PERL","19":"SCALA","20":"LUA","21":"kotlin","22":"BASH","23":"JS","24":"LISP sbcl","25":"rust","26":"PAS gpc","27":"BF","28":"CLOJ","29":"R","30":"D","31":"CAML","32":"FORT","33":"ASM","34":"swift","35":"FS","36":"WSPC","37":"LISP clisp","38":"SQL","39":"SCM guile","40":"PERL6","41":"ERL","42":"CLPS","43":"ICK","44":"NICE","45":"PRLG","46":"ICON","47":"COB","48":"SCM chicken","49":"PIKE","50":"SCM qobi","51":"ST","52":"SQLQ","53":"NEM"},"max_timelimit":2,"source_sizelimit":50000,"problem_author":"geometrix_123","problem_tester":"","date_added":"23-09-2021","tags":{"0":"apsp","1":"breadth","2":"floyd","3":"geometrix_123","4":"ltime100","5":"medium","6":"modular"},"problem_difficulty_level":"Medium-Hard","best_tag":"Breadth First Search","editorial_url":"https://discuss.codechef.com/problems/YANSPP","time":{"view_start_date":1632585602,"submit_start_date":1632585602,"visible_start_date":1632585602,"end_date":1735669800},"is_direct_submittable":false,"problemDiscussURL":"https://discuss.codechef.com/search?q=YANSPP","is_proctored":false,"visitedContests":{},"layout":"problem"}
---
### Read problem statements in [Mandarin](https://www.codechef.com/download/translated/LTIME100/mandarin/YANSPP.pdf), [Bengali](https://www.codechef.com/download/translated/LTIME100/bengali/YANSPP.pdf), [Russian](https://www.codechef.com/download/translated/LTIME100/russian/YANSPP.pdf), and [Vietnamese](https://www.codechef.com/download/translated/LTIME100/vietnamese/YANSPP.pdf) as well.

You are given a directed weighted graph with $P$ vertices, labelled from $0$ to $P-1$. $P$ is a prime number. You are also given an integer $K$. 

For each vertex $u$, there is an edge from vertex $u$ to vertex $(K \cdot u + i) \bmod P$ for all $0 \leq i \leq K-1$. The weight of an edge directed from the vertex $u$ to the vertex $(K \cdot u + i) \bmod P$ is equal to $i$.  

You will be given $Q$ queries. In each query you will be given two vertices $X$ and $Y$ and you have to determine the minimum cost of going from $X$ to $Y$. If a path does not exists between $X$ and $Y$, print $-1$.
<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.</div></aside>
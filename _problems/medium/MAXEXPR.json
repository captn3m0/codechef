{"category_name":"medium","status":"success","problem_code":"MAXEXPR","problem_name":"Maximize an Expression","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/AUG19\/hindi\/MAXEXPR.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/AUG19\/bengali\/MAXEXPR.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/AUG19\/mandarin\/MAXEXPR.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/AUG19\/russian\/MAXEXPR.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/AUG19\/vietnamese\/MAXEXPR.pdf) as well.\n\nChef had three sequences of real numbers $k_1, k_2, \\ldots, k_N$, $c_1, c_2, \\ldots, c_N$ and $x_1, x_2, \\ldots, x_N$. Unfortunately, he lost the sequence $x$; the only thing he remembers about it is that\n$$x_1 \\cdot k_1 + x_2 \\cdot k_2 + \\ldots + x_N \\cdot k_N = 0 \\,.$$\n\nChef's favourite expression is\n$$\\sqrt{x_1+c_1} + \\sqrt{x_2+c_2} + \\ldots + \\sqrt{x_N+c_N} \\,.$$\nIts value is defined only if $x_i+c_i \\ge 0$ for each valid $i$. Let's denote the maximum value of this expression$ $ (over all sequences $x$ such that it is defined) by $F$.\n\nHelp Chef find $F$ and a sequence $x_1, x_2, \\ldots, x_N$ such that the value of Chef's expression is $F$, or determine that there is no solution (the value of Chef's expression is always undefined).\n\n### Input\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\n- The first line of each test case contains a single integer $N$.\n- The second line contains $N$ real numbers $k_1, k_2, \\ldots, k_N$.\n- The third line contains $N$ real numbers $c_1, c_2, \\ldots, c_N$.\n\nAll real numbers are given with exactly two digits after the decimal point.\n\n### Output\nFor each test case, if there is no solution, print a single line containing one integer $-1$. Otherwise, print a single line containing $N+1$ space-separated real numbers $F, x_1, x_2, \\ldots, x_N$.\n\nIt can be proved that if a solution exists, then it is unique. Your answer will be considered correct if the absolute or relative error of each number on the output does not exceed $10^{\u22122}$.\n\n### Constraints \n- $1 \\le T \\le 10^5$\n- $2 \\le N \\le 10^5$\n- $0 \\lt k_i \\le 2,000$ for each valid $i$\n- $|c_i| \\le 2,000$ for each valid $i$\n- the sum of $N$ over all test cases does not exceed $10^5$\n\n### Subtasks\n**Subtask #1 (15 points):** $N = 2$\n\n**Subtask #2 (15 points):** $k_i = 1$ and $c_i = 0$ for each valid $i$\n\n**Subtask #3 (15 points):** $k_i = 1$ for each valid $i$\n\n**Subtask #4 (15 points):** $c_i = 0$ for each valid $i$\n\n**Subtask #5 (40 points):** original constraints\n\n### Example Input\n```\n5\n4\n1.00 2.00 3.00 4.00\n5.00 6.00 7.00 8.00\n3\n1.23 8.90 5.67\n-2.34 -9.01 -6.78\n3\n1.00 1.00 1.00\n1.23 8.90 -5.67\n2\n1.23 8.90\n-5.67 2.34\n2\n1.23 8.90\n5.67 -2.34\n```\n\n### Example Output\n```\n12.0761472885 28.6000000000 2.4000000000 -3.2666666667 -5.9000000000\n-1\n3.6578682316 0.2566666667 -7.4133333333 7.1566666667\n3.5802375027 15.5642936942 -2.1510203645\n-1\n```\n\n### Explanation\n**Example case 1:** The optimal solution is $x = (28.6, 2.4, -49\/15, -5.9)$. Then, $x_1 \\cdot k_1 + x_2 \\cdot k_2 + x_3 \\cdot k_3 + x_4 \\cdot k_4 = 28.6 \\cdot 1 + 2.4 \\cdot 2 - 49 \\cdot 3 \/ 15 + (-5.9) \\cdot 4 = 0$, and $F = \\sqrt{28.6+5}+\\sqrt{2.4+6}+\\sqrt{-49\/15+7}+\\sqrt{-5.9+8} \\doteq 12.076$. This is the maximum value of Chef's expression.\n\n**Example case 2:** For each $i$, $c_i$ is negative, but $x_i+c_i$ must be non-negative, so $x_i$ must be positive. However, all $k_i$ are also positive, so $x_1 k_1 + x_2 k_2 + \\ldots + x_N k_N$ cannot be $0$. There is no solution.\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/AUG19\/hindi\/MAXEXPR.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/AUG19\/bengali\/MAXEXPR.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/AUG19\/mandarin\/MAXEXPR.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/AUG19\/russian\/MAXEXPR.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/AUG19\/vietnamese\/MAXEXPR.pdf) as well.\n\nChef had three sequences of real numbers $k_1, k_2, \\ldots, k_N$, $c_1, c_2, \\ldots, c_N$ and $x_1, x_2, \\ldots, x_N$. Unfortunately, he lost the sequence $x$; the only thing he remembers about it is that\n$$x_1 \\cdot k_1 + x_2 \\cdot k_2 + \\ldots + x_N \\cdot k_N = 0 \\,.$$\n\nChef's favourite expression is\n$$\\sqrt{x_1+c_1} + \\sqrt{x_2+c_2} + \\ldots + \\sqrt{x_N+c_N} \\,.$$\nIts value is defined only if $x_i+c_i \\ge 0$ for each valid $i$. Let's denote the maximum value of this expression$ $ (over all sequences $x$ such that it is defined) by $F$.\n\nHelp Chef find $F$ and a sequence $x_1, x_2, \\ldots, x_N$ such that the value of Chef's expression is $F$, or determine that there is no solution (the value of Chef's expression is always undefined).\n\n### Input\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\n- The first line of each test case contains a single integer $N$.\n- The second line contains $N$ real numbers $k_1, k_2, \\ldots, k_N$.\n- The third line contains $N$ real numbers $c_1, c_2, \\ldots, c_N$.\n\nAll real numbers are given with exactly two digits after the decimal point.\n\n### Output\nFor each test case, if there is no solution, print a single line containing one integer $-1$. Otherwise, print a single line containing $N+1$ space-separated real numbers $F, x_1, x_2, \\ldots, x_N$.\n\nIt can be proved that if a solution exists, then it is unique. Your answer will be considered correct if the absolute or relative error of each number on the output does not exceed $10^{\u22122}$.\n\n### Constraints \n- $1 \\le T \\le 10^5$\n- $2 \\le N \\le 10^5$\n- $0 \\lt k_i \\le 2,000$ for each valid $i$\n- $|c_i| \\le 2,000$ for each valid $i$\n- the sum of $N$ over all test cases does not exceed $10^5$\n\n### Subtasks\n**Subtask #1 (15 points):** $N = 2$\n\n**Subtask #2 (15 points):** $k_i = 1$ and $c_i = 0$ for each valid $i$\n\n**Subtask #3 (15 points):** $k_i = 1$ for each valid $i$\n\n**Subtask #4 (15 points):** $c_i = 0$ for each valid $i$\n\n**Subtask #5 (40 points):** original constraints\n\n### Example Input\n```\n5\n4\n1.00 2.00 3.00 4.00\n5.00 6.00 7.00 8.00\n3\n1.23 8.90 5.67\n-2.34 -9.01 -6.78\n3\n1.00 1.00 1.00\n1.23 8.90 -5.67\n2\n1.23 8.90\n-5.67 2.34\n2\n1.23 8.90\n5.67 -2.34\n```\n\n### Example Output\n```\n12.0761472885 28.6000000000 2.4000000000 -3.2666666667 -5.9000000000\n-1\n3.6578682316 0.2566666667 -7.4133333333 7.1566666667\n3.5802375027 15.5642936942 -2.1510203645\n-1\n```\n\n### Explanation\n**Example case 1:** The optimal solution is $x = (28.6, 2.4, -49\/15, -5.9)$. Then, $x_1 \\cdot k_1 + x_2 \\cdot k_2 + x_3 \\cdot k_3 + x_4 \\cdot k_4 = 28.6 \\cdot 1 + 2.4 \\cdot 2 - 49 \\cdot 3 \/ 15 + (-5.9) \\cdot 4 = 0$, and $F = \\sqrt{28.6+5}+\\sqrt{2.4+6}+\\sqrt{-49\/15+7}+\\sqrt{-5.9+8} \\doteq 12.076$. This is the maximum value of Chef's expression.\n\n**Example case 2:** For each $i$, $c_i$ is negative, but $x_i+c_i$ must be non-negative, so $x_i$ must be positive. However, all $k_i$ are also positive, so $x_1 k_1 + x_2 k_2 + \\ldots + x_N k_N$ cannot be $0$. There is no solution.\n","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"vladprog","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>vladprog<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"14-06-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/aug19'>aug19<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cauchy-schwarz-inequality'>cauchy-schwarz-inequality<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/math'>math<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/vijju123'>vijju123<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/vladprog'>vladprog<\/a>","problem_difficulty_level":"Medium","user_zen_mode":false,"best_tag":"Cauchy Schwarz Inequality","editorial_url":"https:\/\/discuss.codechef.com\/problems\/MAXEXPR","time":{"view_start_date":1565602202,"submit_start_date":1565602202,"visible_start_date":1565602202,"end_date":1735669800,"current":1643797956},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=MAXEXPR","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
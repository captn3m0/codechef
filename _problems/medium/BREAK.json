{"category_name":"medium","status":"success","problem_code":"BREAK","problem_name":"Break","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/hindi\/BREAK.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/bengali\/BREAK.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/mandarin\/BREAK.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/russian\/BREAK.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/vietnamese\/BREAK.pdf) as well.\r\n\r\nChef has to cook many dishes today. In between cooking two of them, he decided to relax and play a card game with his friend.\r\n\r\nThe game is played with cards that have integer *ranks* written on them. There may be multiple cards with the same rank. At the beginning of the game, Chef gets $N$ cards with ranks $a_1, a_2, \\ldots, a_N$ and his friend gets $N$ cards with ranks $b_1, b_2, \\ldots, b_N$.\r\n\r\nThe game is played in turns. The players alternate turns and in each turn, one player is the *attacker* and the other is the *defender*. In the first turn, Chef is the attacker. The roles in each subsequent turn depend on the result of the previous turn.\r\n\r\nIn each turn, the attacker chooses one of his cards and puts it on the table. The defender must either give up this turn or beat this card by choosing one of his cards with a strictly higher rank and putting it on the table. Then, the attacker must give up the turn or choose another of his cards such that its rank is equal to the rank of any card on the table, then the defender must give up or beat this card, and so on until one player gives up the turn. If both players still have cards afterwards, the game proceeds to the next turn with the following rules:\r\n- If the attacker gave up, all cards on the table are discarded. In the next turn, the roles of the players are swapped: the attacker becomes the defender and vice versa.\r\n- If the defender gave up, he takes all cards on the table, which he can use in the subsequent turns just like the remaining cards which he did not put on the table. In the next turn, the roles are left unchanged.\r\n\r\nThe game ends when at least one player does not have any cards at the start of some turn. If the attacker gave up the last turn and both players do not have any cards, a draw is announced. Otherwise, the player that ran out of cards wins.\r\n\r\nChef and his friend want to end the game with a draw. Determine if they can do that.\r\n\r\nNote that there are two subtasks and your goals in them are different: in the first subtask, Chef does not have much time, so the goal is to get a draw in one turn, while in the second subtask, it is sufficient to get a draw in any number of turns.\r\n\r\n### Input\r\n- The first line of the input contains two space-separated integers $T$ and $S$ denoting the number of test cases and the subtask. The description of $T$ test cases follows.\r\n- The first line of each test case contains a single integer $N$.\r\n- The second line contains $N$ space-separated integers $a_1, a_2, \\ldots, a_N$.\r\n- The third line contains $N$ space-separated integers $b_1, b_2, \\ldots, b_N$.\r\n\r\n### Output\r\nFor each test case, print a single line containing the string `\"YES\"` if it is possible to reach the given goal or `\"NO\"` otherwise (without quotes).\r\n\r\n### Constraints\r\n- $1 \\le T \\le 10^5$\r\n- $S \\in \\{1, 2\\}$\r\n- $1 \\le N \\le 10^5$\r\n- $1 \\le a_i, b_i \\le 10^9$ for each valid $i$\r\n- the sum of $N$ over all test cases does not exceed $10^5$\r\n\r\n### Subtasks\r\n**Subtask #1 (50 points):**\r\n- $S=1$\r\n- the goal is to end the game with a draw in one turn\r\n\r\n**Subtask #2 (50 points):**\r\n- $S=2$\r\n- the goal is to end the game with a draw in any number of turns\r\n\r\n### Example Input 1\r\n```\r\n4 1\r\n3\r\n2 1 1\r\n3 2 3\r\n3\r\n4 1 3\r\n3 5 2\r\n3\r\n5 4 6\r\n1 3 2\r\n2\r\n1 1\r\n1 1\r\n```\r\n\r\n### Example Output 1\r\n```\r\nYES\r\nNO\r\nNO\r\nNO\r\n```\r\n\r\n### Example Input 2\r\n```\r\n4 2\r\n3\r\n2 1 1\r\n3 2 3\r\n3\r\n4 1 3\r\n3 5 2\r\n3\r\n5 4 6\r\n1 3 2\r\n2\r\n1 1\r\n1 1\r\n```\r\n\r\n### Example Output 2\r\n```\r\nYES\r\nYES\r\nYES\r\nNO\r\n```\r\n\r\n### Explanation\r\nThe only difference between the two examples is that in the first one, $S=1$, while in the second one, $S=2$.\r\n\r\n**Example case 1:** It is possible to reach a draw in one turn if Chef starts by choosing a card with rank $1$, his friend beats it with a card with rank $2$, then Chef chooses a card with rank $2$, his friend beats it with a card with rank $3$, and finally Chef chooses his last card with rank $1$ and his friend beats it with his last card with rank $3$. All cards are discarded afterwards.\r\n\r\n**Example case 2:** At least two turns are necessary to reach a draw. In the first turn, Chef can choose a card with rank $1$, his friend can beat it with a card with rank $3$, then Chef can choose a card with rank $3$ and his friend can beat it with a card with rank $5$. Then, Chef gives up and all these cards are discarded. In the next turn, Chef's friend is the attacker, he chooses the last card with rank $2$ and Chef can beat it with his last card with rank $4$.\r\n\r\n**Example case 3:** The game can end in a draw in five turns as follows:\r\n- Chef chooses a card with rank $5$ and his friend gives up and takes it.\r\n- Chef chooses a card with rank $4$ and his friend beats it with a card with rank $5$. Chef gives up and both cards are discarded.\r\n- Chef's friend chooses a card with rank $1$, Chef takes it.\r\n- Chef's friend chooses a card with rank $2$, Chef beats it with a card with rank $6$.\r\n- Chef chooses a card with rank $1$ and his friend beats it with a card with rank $3$.\r\n\r\n**Example case 4:** It is impossible to reach a draw at all.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/hindi\/BREAK.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/bengali\/BREAK.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/mandarin\/BREAK.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/russian\/BREAK.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/vietnamese\/BREAK.pdf) as well.\r\n\r\nChef has to cook many dishes today. In between cooking two of them, he decided to relax and play a card game with his friend.\r\n\r\nThe game is played with cards that have integer *ranks* written on them. There may be multiple cards with the same rank. At the beginning of the game, Chef gets $N$ cards with ranks $a_1, a_2, \\ldots, a_N$ and his friend gets $N$ cards with ranks $b_1, b_2, \\ldots, b_N$.\r\n\r\nThe game is played in turns. The players alternate turns and in each turn, one player is the *attacker* and the other is the *defender*. In the first turn, Chef is the attacker. The roles in each subsequent turn depend on the result of the previous turn.\r\n\r\nIn each turn, the attacker chooses one of his cards and puts it on the table. The defender must either give up this turn or beat this card by choosing one of his cards with a strictly higher rank and putting it on the table. Then, the attacker must give up the turn or choose another of his cards such that its rank is equal to the rank of any card on the table, then the defender must give up or beat this card, and so on until one player gives up the turn. If both players still have cards afterwards, the game proceeds to the next turn with the following rules:\r\n- If the attacker gave up, all cards on the table are discarded. In the next turn, the roles of the players are swapped: the attacker becomes the defender and vice versa.\r\n- If the defender gave up, he takes all cards on the table, which he can use in the subsequent turns just like the remaining cards which he did not put on the table. In the next turn, the roles are left unchanged.\r\n\r\nThe game ends when at least one player does not have any cards at the start of some turn. If the attacker gave up the last turn and both players do not have any cards, a draw is announced. Otherwise, the player that ran out of cards wins.\r\n\r\nChef and his friend want to end the game with a draw. Determine if they can do that.\r\n\r\nNote that there are two subtasks and your goals in them are different: in the first subtask, Chef does not have much time, so the goal is to get a draw in one turn, while in the second subtask, it is sufficient to get a draw in any number of turns.\r\n\r\n### Input\r\n- The first line of the input contains two space-separated integers $T$ and $S$ denoting the number of test cases and the subtask. The description of $T$ test cases follows.\r\n- The first line of each test case contains a single integer $N$.\r\n- The second line contains $N$ space-separated integers $a_1, a_2, \\ldots, a_N$.\r\n- The third line contains $N$ space-separated integers $b_1, b_2, \\ldots, b_N$.\r\n\r\n### Output\r\nFor each test case, print a single line containing the string `\"YES\"` if it is possible to reach the given goal or `\"NO\"` otherwise (without quotes).\r\n\r\n### Constraints\r\n- $1 \\le T \\le 10^5$\r\n- $S \\in \\{1, 2\\}$\r\n- $1 \\le N \\le 10^5$\r\n- $1 \\le a_i, b_i \\le 10^9$ for each valid $i$\r\n- the sum of $N$ over all test cases does not exceed $10^5$\r\n\r\n### Subtasks\r\n**Subtask #1 (50 points):**\r\n- $S=1$\r\n- the goal is to end the game with a draw in one turn\r\n\r\n**Subtask #2 (50 points):**\r\n- $S=2$\r\n- the goal is to end the game with a draw in any number of turns\r\n\r\n### Example Input 1\r\n```\r\n4 1\r\n3\r\n2 1 1\r\n3 2 3\r\n3\r\n4 1 3\r\n3 5 2\r\n3\r\n5 4 6\r\n1 3 2\r\n2\r\n1 1\r\n1 1\r\n```\r\n\r\n### Example Output 1\r\n```\r\nYES\r\nNO\r\nNO\r\nNO\r\n```\r\n\r\n### Example Input 2\r\n```\r\n4 2\r\n3\r\n2 1 1\r\n3 2 3\r\n3\r\n4 1 3\r\n3 5 2\r\n3\r\n5 4 6\r\n1 3 2\r\n2\r\n1 1\r\n1 1\r\n```\r\n\r\n### Example Output 2\r\n```\r\nYES\r\nYES\r\nYES\r\nNO\r\n```\r\n\r\n### Explanation\r\nThe only difference between the two examples is that in the first one, $S=1$, while in the second one, $S=2$.\r\n\r\n**Example case 1:** It is possible to reach a draw in one turn if Chef starts by choosing a card with rank $1$, his friend beats it with a card with rank $2$, then Chef chooses a card with rank $2$, his friend beats it with a card with rank $3$, and finally Chef chooses his last card with rank $1$ and his friend beats it with his last card with rank $3$. All cards are discarded afterwards.\r\n\r\n**Example case 2:** At least two turns are necessary to reach a draw. In the first turn, Chef can choose a card with rank $1$, his friend can beat it with a card with rank $3$, then Chef can choose a card with rank $3$ and his friend can beat it with a card with rank $5$. Then, Chef gives up and all these cards are discarded. In the next turn, Chef's friend is the attacker, he chooses the last card with rank $2$ and Chef can beat it with his last card with rank $4$.\r\n\r\n**Example case 3:** The game can end in a draw in five turns as follows:\r\n- Chef chooses a card with rank $5$ and his friend gives up and takes it.\r\n- Chef chooses a card with rank $4$ and his friend beats it with a card with rank $5$. Chef gives up and both cards are discarded.\r\n- Chef's friend chooses a card with rank $1$, Chef takes it.\r\n- Chef's friend chooses a card with rank $2$, Chef beats it with a card with rank $6$.\r\n- Chef chooses a card with rank $1$ and his friend beats it with a card with rank $3$.\r\n\r\n**Example case 4:** It is impossible to reach a draw at all.\r\n","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"vladprog","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>vladprog<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"11-12-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/game-theory'>game-theory<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/march20'>march20<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>medium-hard<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/tmwilliamlin'>tmwilliamlin<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/vladprog'>vladprog<\/a>","problem_difficulty_level":"Medium-Hard","user_zen_mode":false,"best_tag":"Game Theory","editorial_url":"https:\/\/discuss.codechef.com\/problems\/BREAK","time":{"view_start_date":1104528600,"submit_start_date":1104528600,"visible_start_date":1104528600,"end_date":1735669800,"current":1643797924},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=BREAK","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"medium","status":"success","problem_code":"SPCLN","problem_name":"Cleaning the Space","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3>Read problems statements in <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/SNCKEL17\/mandarin\/SPCLN.pdf\">Mandarin Chinese<\/a>, <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/SNCKEL17\/russian\/SPCLN.pdf\">Russian<\/a> and <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/SNCKEL17\/vietnamese\/SPCLN.pdf\">Vietnamese<\/a> as well.<\/h3>\n\n<p>A spacecraft is all set to travel through a long inter-galactic tunnel. The tunnel consists of <b>N<\/b> stationary space debris. In order to successfully complete the mission the spacecraft needs to destroy all the space debris. The control unit of the spacecraft has <b>M<\/b> buttons which can be used to destroy the space debris. Pressing a particular button may result in the destruction of some (possibly multiple) particular space debris. Once a space debris is destroyed its mass is converted into energy, which is eventually absorbed by the spacecraft in order to increase its speed. The amount of energy released from the disintegration of a particular space debris depends upon the button which has been used to destroy that space debris. A matrix <b>E<\/b> which contains this information is known as \"Energy Vector\". For each space debris i and each button j, <b>E[i][j]<\/b> is a positive integer between 0 and 100, which is the energy released after destroying space debris i using button j. The value of <b>E[i][j]<\/b> is -1 if space debris i cannot be destroyed using button j.<\/p>\n\n<p>Some space debris have dependencies on other space debris in order to get destroyed. The spacecraft must destroy some specific space debris before causing the destruction of some other space debris. There are a total of <b>K<\/b> unique dependencies. Each dependency contains two space separated integers i and j, which denotes that the space debris i must be destroyed before destroying space debris j.<\/p>\n<p> A particular button can be pressed only once and the buttons can be pressed only in order from 1 to <b>M<\/b> (ie. button 2 cannot be pressed before button 1 ). While pressing a specific button a binary string <b>T<\/b> of length N called as \"Target Vector\" is passed to the control unit of the spacecraft. For each space debris i, <b>T[i]<\/b> is 1 if you want to destroy that space debris with that button otherwise<\/b>T[i]<\/b> is 0. When the button is pressed all the space debris mentioned in the Target Vector simultaneously gets destroyed.<\/p>\n<p>The spacecraft may destroy any number of space debris using a particular button, including none, as long as they can be destroyed by that button and the spacecraft has already destroyed any required prerequisite space debris.<\/p>\n<p>Now the task is to compute the maximum average energy that can be absorbed by the spacecraft throughout the entire mission.<\/p>\n\n<h3>Input<\/h3>\n<ul>\n<li>The first line of the input contains two space separated integers <b>N<\/b> and <b>M<\/b>.<\/li>\n<li><b>N<\/b> lines follow, each containing <b>M<\/b> integers. The jth integer of the ith line represents the value of <b>E[i][j]<\/b>.<\/li>\n<li>The next line contains an integer <b>K<\/b>.<\/li>\n<li>This is followed by <b>K<\/b> lines, each containing two space separated integers <b>u<\/b> and <b>v<\/b>, where <b>u<\/b> is never equal to <b>v<\/b>. it means that space debris <b>u<\/b> should be destroyed before space debris <b>v<\/b><\/li>\n<\/ul>\n\n<h3>Output<\/h3>\nprint a single real number which is the maximum average energy, rounded to two digits after the decimal point.\n\n<h3>Constraints<\/h3>\n<ul>\n<li>1 \u2264 <b>M, N<\/b> \u2264 100<\/li>\n<li>0 \u2264 <b>K<\/b> \u2264 100<\/li>\n<li>-1 \u2264 <b>E[i][j]<\/b> \u2264 100<\/li>\n<li>1 \u2264 <b>u, v<\/b> \u2264 <b>N<\/b><\/li>\n<li>It is guaranteed that there always exists a way to destroy <b>N<\/b> space debris using <b>M<\/b> buttons<\/li>\n<\/ul>\n\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n3 3 \n10 70 100 \n80 50 40 \n80 20 40 \n2 \n1 2 \n1 3 \n\n<b>Output:<\/b>\n50.00\n<\/pre>\n\n<h3>Explanation<\/h3>\n<p>One way the spacecraft can destroy the space debris is :<\/p>\n<p>Destroy the first space debris by pressing the second button.<\/p>\n<p>Destroy the second and third space debris using the third button.<\/p>\n<p>The average energy is (70 + 40 + 40)\/3 = 50.00, and this is optimal.<\/p>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 6.3, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.5, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"nssprogrammer","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #1E7D22;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>2&#9733;<\/span><span>nssprogrammer<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"23-05-2017","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/nssprogrammer'>\n                    nssprogrammer\n                <\/a>","time":{"view_start_date":1496516400,"submit_start_date":1496516400,"visible_start_date":1496516400,"end_date":1735669800,"current":1514816835},"user":{"username":null},"todo":false,"problem_status":"unattempted"}
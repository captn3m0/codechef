{"category_name":"medium","status":"success","problem_code":"TABUS","problem_name":"Traveling Plan","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><p>\nAccording to many researches, people can stand on a bus for several hours, but waiting for a bus for more than 30 minutes at a bus station can make us exhausted. The Chef is a perfect example for this fact. He always tries to reduce the longest period of time of waiting for a bus. Therefore, optimizing the traveling plan for him is far from an easy task.\n<\/p>\n<p>\nLet's consider the bus system with <b>N<\/b> bus stations (numbered from <b>1<\/b> to <b>N<\/b>) and <b>M<\/b> buses (numbered from <b>1<\/b> to <b>M<\/b>). Each bus is represented by 4 integer numbers <b>U, V, S, E<\/b> which means it will start at the bus station <b>U<\/b> at the time <b>S<\/b> and arrive at the bus station <b>V<\/b> at the time <b>E<\/b> with no intermediate bus stations. If passenger arrives at the bus station <b>U<\/b> at the time <b>X<\/b> \u2264 <b>S<\/b>, he has to wait for <b>S \u2212 X<\/b> units of time to catch this bus. Note, that if he arrives at the bus station <b>U<\/b> exactly at time <b>S<\/b> he can catch this bus with no waiting time.\n<\/p>\n<p>\nThe Chef starts at the time <b>0<\/b> in the bus station <b>1<\/b>, and he wants to arrive at the bus station <b>N<\/b> in a way that the longest period that he spends for waiting for a bus is as small as possible. Besides, he must be at the bus station <b>N<\/b> before or at the time <b>T<\/b> for a specially important meeting. Note, that he may wait for a meeting if he arrives at the bus station <b>N<\/b> early but that period is not our concern here, since he doesn't wait for any bus at that time.\n<\/p>\n<h3>Input<\/h3>\n<p>\nThe first line of the input contains three space-separated integers <b>N<\/b>, <b>T<\/b> and <b>M<\/b>, denoting the number of bus stations, the deadline for coming to bus station <b>N<\/b> and the number of buses, respectively. Each of the following <b>M<\/b> lines contains four space-separated integers <b>U<\/b>, <b>V<\/b>, <b>S<\/b>, <b>E<\/b>, the parameters of the current bus as described in the problem statement.\n<\/p>\n<h3>Output<\/h3>\n<p>\nIf Chef cannot arrive at the bus station <b>N<\/b> before or at the time <b>T<\/b>, output <b>-1<\/b>. Otherwise, output the maximum period of time he has to wait for a bus in the optimal traveling plan.\n<\/p>\n<h3>Constraints<\/h3>\n<p>\n<ul>\n<li><b>2<\/b> \u2264 <b>N<\/b> \u2264 <b>50000<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>T<\/b> \u2264 <b>10<sup>9<\/sup><\/b><\/li>\n<li><b>1<\/b> \u2264 <b>M<\/b> \u2264 <b>100000<\/b> (<b>10<sup>5<\/sup><\/b>)<\/li>\n<li><b>1<\/b> \u2264 <b>U<\/b> \u2264 <b>N<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>V<\/b> \u2264 <b>N<\/b><\/li>\n<li><b>U<\/b> \u2260 <b>V<\/b><\/li>\n<li><b>0<\/b> \u2264 <b>S<\/b> &lt; <b>E<\/b> \u2264 <b>10<sup>9<\/sup><\/b><\/li>\n<\/ul>\n<\/p>\n<h3>Example<\/h3>\n<pre>\n<b>Input:<\/b>\n5 10 5\n1 2 1 2\n1 5 3 4\n2 4 4 5\n2 5 5 6\n4 5 6 7\n\n<b>Output:<\/b>\n2\n<\/pre><h3>Explanation<\/h3>\n<p>\nThere are three different traveling plans:\n<ul>\n<li><b>bus 1 \u2192 bus 3 \u2192 bus 5<\/b>. His waiting time for each bus is 1, 2, 1, respectively.<\/li>\n<li><b>bus 2<\/b>. His waiting time is 3.<\/li>\n<li><b>bus 1 \u2192 bus 4<\/b>. His waiting time for each bus is 1, 3, respectively.<\/li>\n<\/ul>\n<\/p>\n<p>\nFor each traveling plan Chef arrives at the bus station <b>N = 5<\/b> before the time <b>T = 10<\/b>. But only the first traveling plan is optimal, since the longest period of time his has to wait is 2.\n<\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1.5","source_sizelimit":"50000","problem_author":"tuananh93","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>tuananh93<\/span>","problem_tester":"anton_lunyov","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>anton_lunyov<\/span>","date_added":"26-01-2013","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/binary-search'>\n                    binary-search\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/cook32'>\n                    cook32\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/dynamic-programming'>\n                    dynamic-programming\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>\n                    easy-medium\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/graph'>\n                    graph\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/tuananh93'>\n                    tuananh93\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/TABUS","user":{"username":null},"time":{"view_start_date":1364150220,"submit_start_date":1364150220,"visible_start_date":1364150220,"end_date":1735669800,"current":1493557941},"todo":false,"problem_status":"unattempted"}
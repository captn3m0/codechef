{"category_name":"medium","status":"success","problem_code":"INVERACT","problem_name":"An Inveractive Problem","body":"### Read problems statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/COOK123\/hindi\/INVERACT.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK123\/mandarin\/INVERACT.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK123\/russian\/INVERACT.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK123\/vietnamese\/INVERACT.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK123\/bengali\/INVERACT.pdf) as well.\r\n\r\n**This is an interactive problem.**\r\n\r\nSushi has a sequence of integers $A_1, A_2, \\ldots, A_N$; each of them is between $1$ and $10^6$ inclusive. You do not know this sequence, but for a strange reason (maybe because you love her!), you have to find it.\r\n\r\nYou may ask up to $2,222$ queries. In each query:\r\n- You should choose two integers $K$ and $X$ ($1 \\le K \\le N + 1$, $1 \\le X \\le 10^6$).\r\n- Sushi creates a new sequence $B_1, B_2, \\ldots, B_{N+1}$, where $B_K = X$ and if we deleted the element $B_K$ from this sequence, we would obtain the sequence $A$.\r\n- Then, Sushi tells you the number of inversions in the sequence $B$, i.e. the number of pairs $(i, j)$ such that $1 \\le i \\lt j \\le N + 1$ and $B_i \\gt B_j$.\r\n\r\n### Interaction\r\n- First, you should read a line containing a single integer $T$ denoting the number of test cases. The description of interaction for $T$ test cases follows.\r\n- For each test case, you should start by reading a line containing a single integer $N$.\r\n- To ask a query, you should print a line containing the character '?', followed by a space and two space-separated integers $K$ and $X$ describing your query. Then, you must read a line containing a single integer \u2015 the answer to the query.\r\n- When you have guessed the sequence, print a single line containing the character '!', followed by a space and $N$ space-separated integers $A_1, A_2, \\ldots, A_N$ ($1 \\le A_i \\le 10^6$ for each valid $i$). This does not count as a query.\r\n\r\nIf you ask more than $2,222$ queries or do not follow the interaction format, you may receive any verdict.\r\n\r\n**Do not forget to flush the output after printing each line!**\r\n\r\n### Constraints\r\n- $1 \\le T \\le 20$\r\n- $1 \\le N \\le 100$\r\n\r\n### Example Input\r\n```\r\nYou             Sushi\r\n                2\r\n                2\r\n? 1 1\r\n                1\r\n? 2 4\r\n                2\r\n? 2 2\r\n                3\r\n? 3 4\r\n                1\r\n! 3 1\r\n                1\r\n? 1 5\r\n                1\r\n? 1 4\r\n                0\r\n! 4\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** The sequence Sushi has is $A = [3, 1]$. Your interaction with Sushi is as follows:\r\n- `? 1 1`: Sushi creates the sequence $B = [1, 3, 1]$ and returns the number of inversions in it, which is $1$.\r\n- `? 2 4`: Sushi creates the sequence $B = [3, 4, 1]$ and returns the number of inversions in it, which is $2$.\r\n- `? 2 2`: Sushi creates the sequence $B = [3, 2, 1]$ and returns the number of inversions in it, which is $3$.\r\n- `? 3 4`: Sushi creates the sequence $B = [3, 1, 4]$ and returns the number of inversions in it, which is $1$.\r\n- `! 3 1`: You have guessed the sequence to be $[3, 1]$, which is correct.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problems statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/COOK123\/hindi\/INVERACT.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK123\/mandarin\/INVERACT.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK123\/russian\/INVERACT.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK123\/vietnamese\/INVERACT.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK123\/bengali\/INVERACT.pdf) as well.\r\n\r\n**This is an interactive problem.**\r\n\r\nSushi has a sequence of integers $A_1, A_2, \\ldots, A_N$; each of them is between $1$ and $10^6$ inclusive. You do not know this sequence, but for a strange reason (maybe because you love her!), you have to find it.\r\n\r\nYou may ask up to $2,222$ queries. In each query:\r\n- You should choose two integers $K$ and $X$ ($1 \\le K \\le N + 1$, $1 \\le X \\le 10^6$).\r\n- Sushi creates a new sequence $B_1, B_2, \\ldots, B_{N+1}$, where $B_K = X$ and if we deleted the element $B_K$ from this sequence, we would obtain the sequence $A$.\r\n- Then, Sushi tells you the number of inversions in the sequence $B$, i.e. the number of pairs $(i, j)$ such that $1 \\le i \\lt j \\le N + 1$ and $B_i \\gt B_j$.\r\n\r\n### Interaction\r\n- First, you should read a line containing a single integer $T$ denoting the number of test cases. The description of interaction for $T$ test cases follows.\r\n- For each test case, you should start by reading a line containing a single integer $N$.\r\n- To ask a query, you should print a line containing the character '?', followed by a space and two space-separated integers $K$ and $X$ describing your query. Then, you must read a line containing a single integer \u2015 the answer to the query.\r\n- When you have guessed the sequence, print a single line containing the character '!', followed by a space and $N$ space-separated integers $A_1, A_2, \\ldots, A_N$ ($1 \\le A_i \\le 10^6$ for each valid $i$). This does not count as a query.\r\n\r\nIf you ask more than $2,222$ queries or do not follow the interaction format, you may receive any verdict.\r\n\r\n**Do not forget to flush the output after printing each line!**\r\n\r\n### Constraints\r\n- $1 \\le T \\le 20$\r\n- $1 \\le N \\le 100$\r\n\r\n### Example Input\r\n```\r\nYou             Sushi\r\n                2\r\n                2\r\n? 1 1\r\n                1\r\n? 2 4\r\n                2\r\n? 2 2\r\n                3\r\n? 3 4\r\n                1\r\n! 3 1\r\n                1\r\n? 1 5\r\n                1\r\n? 1 4\r\n                0\r\n! 4\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** The sequence Sushi has is $A = [3, 1]$. Your interaction with Sushi is as follows:\r\n- `? 1 1`: Sushi creates the sequence $B = [1, 3, 1]$ and returns the number of inversions in it, which is $1$.\r\n- `? 2 4`: Sushi creates the sequence $B = [3, 4, 1]$ and returns the number of inversions in it, which is $2$.\r\n- `? 2 2`: Sushi creates the sequence $B = [3, 2, 1]$ and returns the number of inversions in it, which is $3$.\r\n- `? 3 4`: Sushi creates the sequence $B = [3, 1, 4]$ and returns the number of inversions in it, which is $1$.\r\n- `! 3 1`: You have guessed the sequence to be $[3, 1]$, which is correct.\r\n","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"https:\/\/youtu.be\/vkBWwL4-EfU","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"sjshohag","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>sjshohag<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"5-10-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/binary-search'>binary-search<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cook123'>cook123<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/interactive'>interactive<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium'>medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/psychik'>psychik<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/sjshohag'>sjshohag<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/sjshohag'>sjshohag<\/a>","problem_difficulty_level":"Medium","user_zen_mode":false,"best_tag":"Binary Search","editorial_url":"https:\/\/discuss.codechef.com\/problems\/INVERACT","time":{"view_start_date":1104528600,"submit_start_date":1104528600,"visible_start_date":1104528600,"end_date":1735669800,"current":1643797949},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=INVERACT","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
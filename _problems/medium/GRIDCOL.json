{"category_name":"medium","status":"success","problem_code":"GRIDCOL","problem_name":"Chef and The Colored Grid","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><p>The Chef wants to color a <b>3xN<\/b> grid and he has <b>N<\/b> different types of colors to do that. Each cell of the grid has to be colored with exactly one color. A coloring of the grid is<br \/>\nconsidered <i>beautiful<\/i> if no two cells of the same row or same column have the same color.<br \/>\n<br \/>\nThe cells of first two rows are already colored and they don\u2019t violate the <i>beautiful<\/i> condition (one color doesn\u2019t appear more than once on the same row or on the same column).<br \/>\n<br \/>\nFind how many different ways he can color the <b>3rd<\/b> row such that the resulting grid is <i>beautiful<\/i>. Two ways of coloring are considered different if there is at least one cell which is colored with different color.\n<\/p>\n<h3>Input<\/h3>\n<p>The first line of the input contains an integer <b>T<\/b> denoting the number of test cases. <\/p>\n<ul>\n<li>The first line of each test<br \/>\ncase contains an integer <b>N<\/b>. <\/li>\n<li>The next line contains <b>N<\/b> integers <b>A<sub>1<\/sub>,  A<sub>2<\/sub>, ..., A<sub>N<\/sub><\/b>, where <b>A<sub>i<\/sub><\/b>(<b>1<\/b> \u2264 <b>i<\/b> \u2264 <b>N<\/b>) is the color of the cell at column <b>i<\/b> of <b>1st<\/b> row. <\/li>\n<li>The next line contains <b>N<\/b> integers <b>B<sub>1<\/sub>,  B<sub>2<\/sub>, ..., B<sub>N<\/sub><\/b>, where <b>B<sub>i<\/sub><\/b>(<b>1<\/b> \u2264 <b>i<\/b> \u2264 <b>N<\/b>) is the color of the cell at column <b>i<\/b> of <b>2nd<\/b> row. <\/li>\n<\/ul>\n\n<h3>Output<\/h3>\n<p>For each test case, output the number of ways to color the <b>3rd<\/b> row such that the resulting grid is <i>beautiful<\/i>. Output the result modulo <b>1000000007<\/b>.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1<\/b> \u2264 <b>T<\/b> \u2264 <b>20<\/b><\/li>\n<li><b>3<\/b> \u2264 <b>N<\/b> \u2264 <b>1000<\/b><\/li>\n<li><b>A<sub>1<\/sub>,  A<sub>2<\/sub>, ..., A<sub>N<\/sub><\/b> is a permutation of the numbers <b>1, 2, ..., N<\/b>.<\/li>\n<li><b>B<sub>1<\/sub>,  B<sub>2<\/sub>, ..., B<sub>N<\/sub><\/b> is a permutation of the numbers <b>1, 2, ..., N<\/b>.<\/li>\n<li><b>A<sub>i<\/sub><\/b> \u2260 <b>B<sub>i<\/sub><\/b> ( <b>1<\/b> \u2264 <b>i<\/b> \u2264 <b>N<\/b>)<\/li>\n<\/ul>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n2\n4\n2 1 4 3\n4 2 3 1\n4\n2 4 1 3\n1 3 2 4\n\n<b>Output:<\/b>\n2\n4\n<\/pre><h3>Explanation<\/h3>\n<p>For the 1st case the valid ways to color the <b>3rd<\/b> row are: {1,3,2,4} and {3,4,1,2}.<br \/>\nFor the 2nd case the valid ways are: {3,1,4,2} , {3,2,4,1} , {4,1,3,2} and {4,2,3,1}.<\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"3","source_sizelimit":"50000","problem_author":"rustinpiece","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #1E7D22;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>2&#9733;<\/span><span>rustinpiece<\/span>","problem_tester":"Rubanenko","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>rubanenko<\/span>","date_added":"5-08-2013","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/combinatorics'>\n                    combinatorics\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/cook37'>\n                    cook37\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/hard'>\n                    hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/inclusn-exclusn'>\n                    inclusn-exclusn\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/rustinpiece'>\n                    rustinpiece\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/GRIDCOL","user":{"username":null},"time":{"view_start_date":1376852100,"submit_start_date":1376852100,"visible_start_date":1376852100,"end_date":1735669800,"current":1493557679},"todo":false,"problem_status":"unattempted"}
{"category_name":"medium","status":"success","problem_code":"CHANOQ","problem_name":"Chef and odd queries","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3>Read problems statements in <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/FEB18\/mandarin\/CHANOQ.pdf\">Mandarin chinese<\/a>, <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/FEB18\/russian\/CHANOQ.pdf\">Russian<\/a> and <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/FEB18\/vietnamese\/CHANOQ.pdf\">Vietnamese<\/a> as well.<\/h3>\n\n<p>Chef has <b>N<\/b> segments. For each <b>i<\/b> (1 \u2264 <b>i<\/b> \u2264 <b>N<\/b>), the <b>i<\/b>-th segment starts at point <b>L<sub>i<\/sub><\/b> and ends at point <b>R<sub>i<\/sub><\/b> (let's denote it by [<b>L<sub>i<\/sub><\/b>,\u2009\u2009<b>R<sub>i<\/sub><\/b>]).<\/p>\n\n<p>Let's say that a segment [<b>l<\/b>,\u2009<b>r<\/b>] crosses a point <b>x<\/b> if <b>l<\/b>\u2009\u2264\u2009<b>x<\/b>\u2009\u2264\u2009<b>r<\/b>.<\/p>\n\n<p>Chef wants you to answer <b>Q<\/b> queries. In each query, you are given a set of <b>M<\/b> distinct points <b>X<sub>1<\/sub>,\u2009X<sub>2<\/sub>,\u2009...,\u2009X<sub>M<\/sub><\/b>; you should compute the number of good segments [<b>L<sub>i<\/sub><\/b>,\u2009<b>R<sub>i<\/sub><\/b>] among the given <b>N<\/b> segments. A segment is <i>good<\/i> if it crosses an <b>odd<\/b> number of points out of the given <b>M<\/b> points.<\/p>\n\n<h3>Input<\/h3>\n<ul>\n<li>The first line of the input contains a single integer <b>T<\/b> denoting the number of test cases. The description of <b>T<\/b> test cases follows.<\/li>\n<li>The first line of each test case contains a single integer <b>N<\/b> denoting the number of segments.<\/li>\n<li>The following <b>N<\/b> lines describe the segments. For each <b>i<\/b>, the <b>i<\/b>-th of these lines contains two space-separated integers <b>L<sub>i<\/sub><\/b> and <b>R<sub>i<\/sub><\/b>.<\/li>\n<li>The next line contains a single integer <b>Q<\/b> denoting the number of queries.<\/li>\n<li>The following <b>Q<\/b> lines describe the queries. Each of these lines starts with an integer <b>M<\/b> \u2014 the number of points in this query, followed by <b>M<\/b> space-separated integers <b>X<sub>1<\/sub>, X<sub>2<\/sub>, ..., X<sub>M<\/sub><\/b>.<\/li>\n<\/ul>\n\n<h3>Constraints<\/h3>\n<ul>\n<li>1\u2009\u2264\u2009<b>T<\/b> \u2264\u2009100<\/li>\n<li>1\u2009\u2264\u2009<b>Q<\/b>\u2009\u2264\u2009<b>N<\/b>\u2009\u2264\u2009100,000<\/li>\n<li>sum of <b>M<\/b> for all queries \u2264\u2009<b>N<\/b><\/li>\n<li>sum of <b>N<\/b> over all test cases \u2264\u2009200,000<\/li>\n<li>1\u2009\u2264\u2009<b>X<sub>i<\/sub><\/b>\u2009\u2264\u2009<b>N<\/b> for each valid <b>i<\/b><\/li>\n<li>all <b>X<sub>i<\/sub><\/b> in each query are distinct<\/li>\n<li>1\u2009\u2264\u2009<b>L<sub>i<\/sub><\/b> \u2264 <b>R<sub>i<\/sub><\/b> \u2264\u2009<b>N<\/b> for each valid <b>i<\/b><\/li>\n<\/ul>\n\n<h3>Subtasks<\/h3>\n<p><b>Subtask #1 (10 points):<\/b> <b>N<\/b>, <b>Q<\/b> \u2264 300<\/p>\n\n<p><b>Subtask #2 (90 points):<\/b> original constraints<\/p>\n\n<h3>Output<\/h3>\n<p>For each query, print a single line containing the number of good segments for that query.<\/p>\n\n<h3><b>Example<\/b><\/h3>\n<pre><b>Input:<\/b>\n\n2\n5\n4 5\n3 5\n2 4\n1 3\n5 5\n2\n4 1 2 3 4\n1 4\n5\n4 5\n3 5\n2 4\n2 3\n5 5\n2\n2 2 5\n3 1 2 5\n\n<b>Output:<\/b>\n\n3\n3\n5\n5\n<\/pre>\n","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.5, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, CLOJ, COB, FS","max_timelimit":"4","source_sizelimit":"50000","problem_author":"markysha","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>markysha<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"21-01-2018","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/feb18'>feb18<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/markysha'>markysha<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>medium-hard<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/persistence'>persistence<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/segment-tree'>segment-tree<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/sqrt-decomp'>sqrt-decomp<\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/CHANOQ","time":{"view_start_date":1518427800,"submit_start_date":1518427800,"visible_start_date":1518427800,"end_date":1735669800,"current":1525454447},"user":{"username":""},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}
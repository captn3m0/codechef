{"category_name":"medium","status":"success","problem_code":"FINDA","problem_name":"Finding the matrix","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3>Read problems statements in <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/COOK90\/mandarin\/FINDA.pdf\">Mandarin chinese<\/a>, <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/COOK90\/russian\/FINDA.pdf\">Russian<\/a> and <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/COOK90\/vietnamese\/FINDA.pdf\">Vietnamese<\/a> as well.<\/h3>\n\n<p>\nYou are given a matrix <b>B<\/b> with size <b>N \u00d7 N<\/b>. Each element of this matrix is an integer from the set <b>{-1, 0, 1}<\/b>.\n<\/p>\n\n<p>\nDetermine if it's possible to express <b>B<\/b> as <b>A \u00b7 A<sup>T<\/sup><\/b>, where <b>A<\/b> is a matrix of integers with size <b>N \u00d7 N<\/b>. (Here, <b>A<sup>T<\/sup><\/b> is the transpose of <b>A<\/b>; see below for its definition.) If it is possible, find the lexicographically smallest <b>A<\/b> such that <b>B<\/b> = <b>A \u00b7 A<sup>T<\/sup><\/b>.\n<\/p>\n\n<p>\nThe <i>transpose<\/i> of a matrix is created by flipping that matrix around its main diagonal \u2014 formally, the element at row <b>i<\/b> and column <b>j<\/b> of matrix <b>A<sup>T<\/sup><\/b> is the same as the element at row <b>j<\/b> and column <b>i<\/b> of matrix <b>A<\/b>, for each valid <b>i<\/b>, <b>j<\/b>. For more details, see <a href = \"https:\/\/en.wikipedia.org\/wiki\/Transpose\">Wikipedia<\/a>.\n<\/p>\n\n<p>For two matrices <b>C<\/b> and <b>D<\/b> with size <b>N \u00d7 N<\/b>, we will say that <b>C<\/b> is lexicographically smaller than <b>D<\/b> if the sequence <b>c<\/b> = <b>C<sub>1,1<\/sub>, C<sub>1,2<\/sub>, ..., C<sub>1,N<\/sub>, C<sub>2,1<\/sub>, C<sub>2,2<\/sub>, ..., C<sub>2,N<\/sub>, ..., C<sub>N,1<\/sub>, ..., C<sub>N,N<\/sub><\/b> is lexicographically smaller than <b>d<\/b> = <b>D<sub>1,1<\/sub>, D<sub>1,2<\/sub>, ..., D<sub>1,N<\/sub>, D<sub>2,1<\/sub>, D<sub>2,2<\/sub>, ..., D<sub>2,N<\/sub>, ..., D<sub>N,1<\/sub>, ..., D<sub>N,N<\/sub><\/b>. That is, there must be a valid index <b>i<\/b> such that <b>c<sub>i<\/sub><\/b> and <b>d<sub>i<\/sub><\/b> differ, and the smallest such index must satisfy <b>c<sub>i<\/sub><\/b> &lt; <b>d<sub>i<\/sub><\/b>.<\/p>\n\n<h3>Input<\/h3>\n<ul>\n<li>The first line of the input contains a single integer <b>T<\/b> denoting the number of test cases. The description of <b>T<\/b> test cases follows.<\/li>\n<li>The first line of each test case contains a single integer <b>N<\/b>.<\/li>\n<li>The next <b>N<\/b> lines describe matrix <b>B<\/b>. Each of these lines contains <b>N<\/b> space-separated integers. The <b>j<\/b>-th integer on the <b>i<\/b>-th line denotes <b>B<sub>i,j<\/sub><\/b>, the element at row <b>i<\/b> and column <b>j<\/b> of <b>B<\/b>.<\/li>\n<\/ul>\n\n<h3>Output<\/h3>\nFor each test case:\n<ul>\n<li>If no valid matrix <b>A<\/b> exists, print a single line containing the integer -1.<\/li>\n<li>Otherwise, print <b>N<\/b> lines; each of them should contain <b>N<\/b> space-separated integers.<\/li>\n<li>The <b>j<\/b>-th integer on the <b>i<\/b>-th line should denote the element at row <b>i<\/b> and column <b>j<\/b> of matrix <b>A<\/b>.<\/li>\n<\/ul>\n\n<h3>Constraints<\/h3>\n<ul>\n<li>1 \u2264 <b>T<\/b> \u2264 10<\/li>\n<li>2 \u2264 <b>N<\/b> \u2264 1000<\/li>\n<li>-1 \u2264 <b>B<sub>i,j<\/sub><\/b> \u2264 1 for each valid <b>i<\/b>, <b>j<\/b><\/li>\n<li>sum of <b>N<\/b> for all test cases \u2264 1000<\/li>\n<\/ul>\n\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n1\n2\n1 -1\n-1 1\n\n<b>Output:<\/b>\n-1 0\n1 0\n<\/pre>\n\n<h3>Explanation<\/h3>\n<p><b>Example case 1:<\/b> You can check by brute force that this is the lexicographically smallest possible valid matrix <b>A<\/b>.<\/p>\n","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.5, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, CLOJ, COB, FS","max_timelimit":"1","source_sizelimit":"50000","problem_author":"sidhant007","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>sidhant007<\/span>","problem_tester":"kingofnumbers","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>kingofnumbers<\/span>","date_added":"16-01-2018","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/bipartite'>bipartite<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/constructive'>constructive<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cook90'>cook90<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/maths'>maths<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>medium-hard<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/sidhant007'>sidhant007<\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/FINDA","time":{"view_start_date":1516559400,"submit_start_date":1516559400,"visible_start_date":1516559400,"end_date":1735669800,"current":1525198954},"user":{"username":""},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}
{"category_name":"medium","status":"success","problem_code":"FAILURE","problem_name":"Single Point of Failure","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/NOV19\/hindi\/FAILURE.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/NOV19\/bengali\/FAILURE.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/NOV19\/mandarin\/FAILURE.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/NOV19\/russian\/FAILURE.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/NOV19\/vietnamese\/FAILURE.pdf) as well.\r\n\r\n<img src=\"https:\/\/codechef_shared.s3.amazonaws.com\/download\/Images\/NOV19\/FAILURE\/FAILURE.jpg\" width=\"80%\">\r\n\r\nChef has always dreamed of becoming an employee of the \"Hack and Manipulate Group\". Their work is simple \u2015 attacking networks. They gave Chef the following task to assess his programming skills, but Chef is too busy cooking \"Vegetable Gourmet\". Can you solve the task for him?\r\n\r\nA network consists of $N$ nodes (numbered $1$ through $N$) and $M$ bidirectional connections between pairs of these nodes. A *robust network* is a network that contains a cycle. Shutting down a node means removing that node (and all direct connections it is part of) from the network.\r\n\r\nYou may shut down at most one node. If the network was robust before it was shut down and is not robust afterwards, this node is called the *point of failure*.\r\n\r\nIs the initial network robust? If it is robust, does it have a point of failure? If it does, find the point of failure with the smallest number.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $M$.\r\n- Each of the following $M$ lines contains two space-separated integers $u$ and $v$ denoting that nodes $u$ and $v$ are directly connected.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the smallest number of a point of failure, or $-1$ if the network does not have a point of failure.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 10$\r\n- $1 \\le N \\le 10^5$\r\n- $0 \\le M \\le 10^5$\r\n- $1 \\le u, v \\le N$\r\n\r\n### Subtasks\r\n**Subtask #1 (10 points):**\r\n- $N \\le 100$\r\n- $N - 1 \\le M \\le N + 1$\r\n- the given graph is connected\r\n\r\n**Subtask #2 (10 points):** $1 \\le N \\le 100$\r\n\r\n**Subtask #3 (30 points):** $1 \\le N \\le 1,000$\r\n\r\n**Subtask #4 (50 points):** original constraints\r\n\r\n### Example Input\r\n```\r\n5\r\n5 5\r\n5 1\r\n5 2\r\n1 2\r\n2 3\r\n2 4\r\n5 6\r\n4 5\r\n4 1\r\n4 2\r\n4 3\r\n5 1\r\n5 2\r\n5 5\r\n3 4\r\n3 5\r\n3 1\r\n3 2\r\n4 2\r\n4 1\r\n3 4\r\n6 6\r\n1 2\r\n2 3\r\n3 1\r\n4 5\r\n5 6\r\n6 4\r\n```\r\n\r\n### Example Output\r\n```\r\n1\r\n4\r\n2\r\n-1\r\n-1\r\n```\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/NOV19\/hindi\/FAILURE.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/NOV19\/bengali\/FAILURE.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/NOV19\/mandarin\/FAILURE.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/NOV19\/russian\/FAILURE.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/NOV19\/vietnamese\/FAILURE.pdf) as well.\r\n\r\n<img src=\"https:\/\/codechef_shared.s3.amazonaws.com\/download\/Images\/NOV19\/FAILURE\/FAILURE.jpg\" width=\"80%\">\r\n\r\nChef has always dreamed of becoming an employee of the \"Hack and Manipulate Group\". Their work is simple \u2015 attacking networks. They gave Chef the following task to assess his programming skills, but Chef is too busy cooking \"Vegetable Gourmet\". Can you solve the task for him?\r\n\r\nA network consists of $N$ nodes (numbered $1$ through $N$) and $M$ bidirectional connections between pairs of these nodes. A *robust network* is a network that contains a cycle. Shutting down a node means removing that node (and all direct connections it is part of) from the network.\r\n\r\nYou may shut down at most one node. If the network was robust before it was shut down and is not robust afterwards, this node is called the *point of failure*.\r\n\r\nIs the initial network robust? If it is robust, does it have a point of failure? If it does, find the point of failure with the smallest number.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $M$.\r\n- Each of the following $M$ lines contains two space-separated integers $u$ and $v$ denoting that nodes $u$ and $v$ are directly connected.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the smallest number of a point of failure, or $-1$ if the network does not have a point of failure.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 10$\r\n- $1 \\le N \\le 10^5$\r\n- $0 \\le M \\le 10^5$\r\n- $1 \\le u, v \\le N$\r\n\r\n### Subtasks\r\n**Subtask #1 (10 points):**\r\n- $N \\le 100$\r\n- $N - 1 \\le M \\le N + 1$\r\n- the given graph is connected\r\n\r\n**Subtask #2 (10 points):** $1 \\le N \\le 100$\r\n\r\n**Subtask #3 (30 points):** $1 \\le N \\le 1,000$\r\n\r\n**Subtask #4 (50 points):** original constraints","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"5\r\n5 5\r\n5 1\r\n5 2\r\n1 2\r\n2 3\r\n2 4\r\n5 6\r\n4 5\r\n4 1\r\n4 2\r\n4 3\r\n5 1\r\n5 2\r\n5 5\r\n3 4\r\n3 5\r\n3 1\r\n3 2\r\n4 2\r\n4 1\r\n3 4\r\n6 6\r\n1 2\r\n2 3\r\n3 1\r\n4 5\r\n5 6\r\n6 4","output":"1\r\n4\r\n2\r\n-1\r\n-1","explanation":"","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"2","source_sizelimit":"50000","problem_author":"erfaniaa","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;<\/span><span class='m-username--link'>erfaniaa<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"28-09-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/challenge'>challenge<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/depth-first-search'>depth-first-search<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/erfaniaa'>erfaniaa<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/graphs'>graphs<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/nov19'>nov19<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/watcher'>watcher<\/a>","problem_difficulty_level":"Medium","user_zen_mode":false,"best_tag":"Depth First Search","editorial_url":"https:\/\/discuss.codechef.com\/problems\/FAILURE","time":{"view_start_date":1573464602,"submit_start_date":1573464602,"visible_start_date":1573464602,"end_date":1735669800,"current":1643797942},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=FAILURE","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
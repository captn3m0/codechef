{"category_name":"medium","status":"success","problem_code":"FOURSQ","problem_name":"Fantastic Four","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/JAN17\/mandarin\/FOURSQ.pdf\">Mandarin Chinese<\/a>, <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/JAN17\/russian\/FOURSQ.pdf\">Russian<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/JAN17\/vietnamese\/FOURSQ.pdf\">Vietnamese<\/a> as well.<\/h3>\n\n<p>Given an array <b>A<\/b> consisting of <b>N<\/b> integers, you have to perform <b>Q<\/b> operations on it. These operations can be of following two types.\n\n<ul>\n<li><b>Type 1<\/b> is update operation in which you update the value of a particular element of the array<\/li>\n<li><b>Type 2<\/b> is range query from L to R in which you have to decompose the product of the elements in this range as sum of 4 square numbers.<\/li>\n<\/ul>\n\nAll these operations should be done under modulo <b>P<\/b> where <b>P<\/b> may or may not be prime.\n<\/p>\n\n<p>Note - There can be more than one possible solution for a particular query, you can output any of them.<\/p>\n\n\n<h3>Input<\/h3>\n<p>The first line of the input contains <b>T<\/b> denoting the number of test cases. The description of <b>T<\/b> test cases follows.<\/p>\n<p>The first line of each test case contains three space separated integers <b>N<\/b>, <b>Q<\/b> and <b>P<\/b> denoting the number of of elements in the array, the number of queries and the modulo value respectively.<\/p>\n<p>The second line contains <b>N<\/b> space-separated integers - <b>A<sub>1<\/sub><\/b>, <b>A<sub>2<\/sub><\/b>, ..., <b>A<sub>N<\/sub><\/b> denoting the input array <b>A<\/b>. <\/p>\n<p>The next <b>Q<\/b> lines contain 2 types of queries.<\/p>\n<p>Type 1 operations are given as \"<b>1 X Y<\/b>\" (without the double quotes) where <b>X<\/b> denotes the indice to be updated and <b>Y<\/b> denotes the value it needs to be set to, ie. <b>A[X]<\/b> = <b>Y<\/b><\/p>\n<p>Type 2 operations are given as \"<b>2 L R<\/b>\" (without the double quotes) where <b>L<\/b> and <b>R<\/b> are the left and right end point for the given query.<\/p>\n\n<h3>Output<\/h3>\n<p>For each query of the type 2, <b>output the respective 4 numbers<\/b> in arbitrary order that when squared and summed under modulo <b>P<\/b> make that respective product modulo <b>P<\/b>. In case there is no such quadruple then <b>output -1.<\/b> All the 4 numbers should be between <b>0<\/b> to <b>P - 1<\/b>(inclusive)<\/p>\n\n\n<h3>Constraints<\/h3>\n<p>Note that <b>X<\/b>, <b>L<\/b> and <b>R<\/b> for the queries will always be in the range from <b>1<\/b> to <b>N<\/b> where <b>L<\/b> \u2264 <b>R<\/b><\/p>\n\n\n<h3>Subtasks<\/h3>\n<p>\n<b>Subtask #1 (10 points):<\/b>\n<ul>\n<li><b>1<\/b> \u2264 <b>T<\/b> \u2264 <b>3<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>N, Q<\/b> \u2264 <b>10<sup>3<\/sup><\/b><\/li>\n<li><b>1<\/b> \u2264 <b>P<\/b> \u2264 <b>10<sup>3<\/sup><\/b><\/li>\n<li><b>1<\/b> \u2264 <b>A[i], Y<\/b> \u2264 <b>10<sup>3<\/sup><\/b><\/li>\n<li><b>Time limit = 1 second<\/b><\/li>\n<\/ul>\n<\/p>\n\n<p>\n<b>Subtask #2 (30 points):<\/b>\n<ul>\n<li><b>1<\/b> \u2264 <b>T<\/b> \u2264 <b>3<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>N, Q<\/b> \u2264 <b>10<sup>5<\/sup><\/b><\/li>\n<li><b>1<\/b> \u2264 <b>P<\/b> \u2264 <b>10<sup>6<\/sup><\/b><\/li>\n<li><b>1<\/b> \u2264 <b>A[i], Y<\/b> \u2264 <b>10<sup>3<\/sup><\/b><\/li>\n<li><b>Time limit = 4 seconds<\/b><\/li>\n<\/ul>\n<\/p>\n\n<p>\n<b>Subtask #3 (60 points):<\/b>\n<ul>\n<li><b>1<\/b> \u2264 <b>T<\/b> \u2264 <b>3<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>N, Q<\/b> \u2264 <b>10<sup>5<\/sup><\/b><\/li>\n<li><b>1<\/b> \u2264 <b>P<\/b> \u2264 <b>10<sup>12<\/sup><\/b><\/li>\n<li><b>1<\/b> \u2264 <b>A[i], Y<\/b> \u2264 <b>10<sup>6<\/sup><\/b><\/li>\n<li><b>Time limit = 5 seconds<\/b><\/li>\n<\/ul>\n<\/p>\n\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n1\n5 4 100\n1 2 3 4 5\n2 1 5\n2 1 3\n1 1 4\n2 1 3\n\n<b>Output:<\/b>\n8 6 4 2\n0 1 1 2\n0 2 4 2\n<\/pre>\n\n<h3>Explanation<\/h3>\n<p>1 x 2 x 3 x 4 x 5 mod 100 = 120 mod 100 = ( 8<sup>2<\/sup> + 6<sup>2<\/sup> + 4<sup>2<\/sup> + 2<sup>2<\/sup> ) mod 100<\/p>\n<p>1 x 2 x 3 mod 100 = 6 mod 100 = ( 0<sup>2<\/sup> + 1<sup>2<\/sup> + 1<sup>2<\/sup> + 2<sup>2 ) mod 100<\/sup><\/p>\n<p>4 x 2 x 3 mod 100 = 24 mod 100 = ( 0<sup>2<\/sup> + 2<sup>2<\/sup> + 4<sup>2<\/sup> + 2<sup>2<\/sup> ) mod 100<\/p>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1 - 5","source_sizelimit":"50000","problem_author":"sidhant007","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>sidhant007<\/span>","problem_tester":"iscsi","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>iscsi<\/span>","date_added":"31-12-2016","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/data-structure'>\n                    data-structure\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/four-square'>\n                    four-square\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/jan17'>\n                    jan17\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/lagrange'>\n                    lagrange\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/segment-tree'>\n                    segment-tree\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/sidhant007'>\n                    sidhant007\n                <\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/FOURSQ","user":{"username":null},"time":{"view_start_date":1484731800,"submit_start_date":1484731800,"visible_start_date":1484731800,"end_date":1735669800,"current":1493557664},"todo":false,"problem_status":"unattempted"}
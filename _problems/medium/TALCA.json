{"category_name":"medium","status":"success","problem_code":"TALCA","problem_name":"Lowest Common Ancestor","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME14\/mandarin\/TALCA.pdf\">Mandarin Chinese.<\/a><\/h3>\n<p>\u00a0<\/p>\n<p>In a rooted tree, the <a href=\"http:\/\/en.wikipedia.org\/wiki\/Lowest_common_ancestor\">lowest common ancestor<\/a> (or LCA for short) of two vertices <b>u<\/b> and <b>v<\/b> is defined as the lowest vertex that is ancestor of both that two vertices.<\/p>\n<p>Given a tree of <b>N<\/b> vertices, you need to answer the question of the form \"<b>r u v<\/b>\" which means if the root of the tree is at <b>r<\/b> then what is LCA of <b>u<\/b> and <b>v<\/b>.<\/p>\n<p>\u00a0<\/p>\n<h3>Input<\/h3>\n<p>The first line contains a single integer <b>N<\/b>. Each line in the next <b>N - 1<\/b> lines contains a pair of integer <b>u<\/b> and <b>v<\/b> representing a edge between this two vertices.<\/p>\n<p>The next line contains a single integer <b>Q<\/b> which is the number of the queries. Each line in the next <b>Q<\/b> lines contains three integers <b> r, u, v<\/b> representing a query.<\/p>\n<p>\u00a0<\/p>\n<h3>Output<\/h3>\n<p>For each query, write out the answer on a single line.<\/p>\n<h3>Constraints<\/h3>\n<p>20 points:<\/p>\n<ul>\n<li> 1 \u2264 <b>N<\/b>, <b>Q<\/b> \u2264 100<\/li>\n<\/ul>\n<p>\u00a0<\/p>\n<p>40 points:<\/p>\n<ul>\n<li> 1 \u2264 <b>N<\/b>, <b>Q<\/b> \u2264 10<sup>5<\/sup><\/li>\n<li>There is less than 10 unique value of r in all queries<\/li>\n<\/ul>\n<p>\u00a0<\/p>\n<p>40 points:<\/p>\n<ul>\n<li> 1 \u2264 <b>N<\/b>, <b>Q<\/b> \u2264 2 \u00d7 10<sup>5<\/sup><\/li>\n<\/ul>\n<p>\u00a0<\/p>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n4\n1 2\n2 3\n1 4\n2\n1 4 2\n2 4 2\n\n<b>Output:<\/b>\n1\n2\n<\/pre><p>\u00a0<\/p>\n<h3>Explanation<\/h3>\n<ul>\n<li>\"1 4 2\": if 1 is the root, it is parent of both 2 and 4 so LCA of 2 and 4 is 1.<\/li>\n<li>\"2 4 2\": the root of the tree is at 2, according to the definition, LCA of any vertex with 2 is 2.<\/li>\n<\/ul>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"3","source_sizelimit":"50000","problem_author":"tuananh93","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>tuananh93<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"3-07-2014","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/lca'>\n                    lca\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/ltime14'>\n                    ltime14\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>\n                    medium-hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/tree'>\n                    tree\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/tuananh93'>\n                    tuananh93\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/TALCA","user":{"username":null},"time":{"view_start_date":1406452500,"submit_start_date":1406452500,"visible_start_date":1406452500,"end_date":1735669800,"current":1493557942},"todo":false,"problem_status":"unattempted"}
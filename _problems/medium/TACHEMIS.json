{"category_name":"medium","status":"success","problem_code":"TACHEMIS","problem_name":"Compressed String","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><p>\nAfter the first chemistry lesson, Ron realized that the simplest way to compress a string of Latin characters is to write it down as a list of pairs of character and integer. This is done by writing each segment of identical characters as the character and the length of the segment.<br \/>\nFor example the string s = \"AABBBCCCC\" can be compressed as [ ('A', 2), ('B', 3), ('C', 4) ].<br \/>\nIn compressed notation, two consecutive pairs cannot have same character. For example [('A', 2), ('A', 4)] is invalid and its correct representation is [('A', 6)]. Ron has written down a string in compressed notation, and he wants to count the number of sub-strings (a segment of consecutive characters) of the original string that are palindromes.\n<\/p>\n<p>\nRecall that a palindrome is a non-empty string that reads the same backward as forward. Two sub-strings are considered to be different if they have different lengths or start at different positions in the original string.\n<\/p>\n<h3>Input<\/h3>\n<p>The first line of the input contains an integer <b>T<\/b> denoting the number of test cases. The description of <b>T<\/b> test cases follows. <br \/><br \/>\nEach test case gives a string in compressed notation. The first line of each test case contains an integer <b>K<\/b>, the number of (character, integer) pairs in compressed notation. Each of the next <b>K<\/b> lines contains a single character, followed by a space, followed by a positive integer, the i<sup>th<\/sup> line being the i<sup>th<\/sup> pair in the list.<\/p>\n<h3>Output<\/h3>\n<p>For each test case, output a single line containing the corresponding answer.\n<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1<\/b> \u2264 <b>T<\/b> \u2264 <b>10,000(10<sup>4<\/sup>)<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>K<\/b> \u2264 <b>100,000(10<sup>5<\/sup>)<\/b><\/li>\n<li>Each character is an upper-case Latin character, i.e. 'A' through 'Z'.\n<\/li><li>The length of the original string does not exceed <b>1,000,000,000(10<sup>9<\/sup>)<\/b><\/li>\n<li>The sum of the <b>K<\/b>s over all test cases will not exceed <b>1,000,000(10<sup>6<\/sup>)<\/b><\/li>\n<\/ul>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n3\n2\nA 2\nB 2\n3\nA 2\nB 1\nA 2\n1\nA 11\n\n<b>Output:<\/b>\n6\n9\n66\n\n<\/pre><h3>Explanation<\/h3>\n<p>\n<b>Example case 1: <\/b><br \/>\nThe original string is AABB so the sub-strings<br \/>\n(represented by positions of the first and the last character) which are palindromes are (1, 1), (1, 2), (2, 2), (3, 3), (3, 4) and (4, 4).\n<\/p>\n<p>\n<b>Example case 2: <\/b><br \/>\nThe original string is AABAA. The sub-strings that are palindromes are the 4 sub-strings A, the 2 sub-strings AA and the sub-strings B, ABA and AABAA. Together, they make 9 palindromes.\n<\/p>\n<p>\n<b>Example case 3: <\/b><br \/>\nThe original string is A repeated 11 times, so all the sub-strings are palindromes.\n<\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"tuananh93","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>tuananh93<\/span>","problem_tester":"keshav_57","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;<\/span><span>keshav_57<\/span>","date_added":"15-05-2013","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cook36'>\n                    cook36\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium'>\n                    medium\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/palindrome'>\n                    palindrome\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/strings'>\n                    strings\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/tuananh93'>\n                    tuananh93\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/TACHEMIS","user":{"username":null},"time":{"view_start_date":1374431400,"submit_start_date":1374431400,"visible_start_date":1374431400,"end_date":1735669800,"current":1493557941},"todo":false,"problem_status":"unattempted"}
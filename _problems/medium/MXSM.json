{"category_name":"medium","status":"success","problem_code":"MXSM","problem_name":"Chef and Maximum Sum Matrices ","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/COOK66\/mandarin\/MXSM.pdf\">Mandarin Chinese<\/a>, <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/COOK66\/russian\/MXSM.pdf\">Russian<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/COOK66\/vietnamese\/MXSM.pdf\">Vietnamese<\/a> as well.<\/h3>\n<p>Dreaming to manipulate the dimensions of spacetime one day, Chef satisfies himself with manipulating dimensions of abstract mathematical entities for now. Today, Chef has <b>N<\/b> lists consisting of integers. The <b>i<sup>th<\/sup><\/b> list is represented as <b>L<sub>i<\/sub><\/b>, and has size <b>S<sub>i<\/sub><\/b>.\n<\/p>\n<p>\nChef has transformed the given lists of integers to form an <b>N<\/b> dimensional matrix <b>M<\/b> of size <b>S<sub>1<\/sub> \u00d7 S<sub>2<\/sub> \u00d7 S<sub>3<\/sub> \u00d7 \u2026 \u00d7 S<sub>N<\/sub><\/b> such that an entry <b>j<sub>1<\/sub>, j<sub>2<\/sub>, j<sub>3<\/sub>, \u2026 , j<sub>N<\/sub><\/b> in the matrix <b>M<\/b> is obtained by taking product of given <b>N<\/b> integers <b>L<sub>1<\/sub>[j<sub>1<\/sub>], L<sub>2<\/sub>[j<sub>2<\/sub>], L<sub>3<\/sub>[j<sub>3<\/sub>], ..., L<sub>N<\/sub>[j<sub>N<\/sub>]<\/b>, where <b>L<sub>i<\/sub>[j<sub>i<\/sub>]<\/b> denotes the <b>j<sup>th<\/sup><\/b> integer in the <b>i<sup>th<\/sup><\/b> list (1-based indexing).\n<\/p>\n<p>\nTo explore the mathematics of the matrix <b>M<\/b> deeply, Chef wants to compute the maximum submatrix sum in this matrix; but he is afraid of its high dimensionality. So, he asked you to help him. He asked you to compute two quantities, the maximum sub-matrix sum in the matrix <b>M<\/b>, and the number of submatrices having this maximum sum.\n<\/p>\n<p>\nSince the second answer to this problem can be very large, output it modulo <b>10<sup>9<\/sup>+7<\/b>.\n<\/p>\n<h3>Input<\/h3>\n<ul>\n<li>First line of input contains a single integer <b>T<\/b> denoting the number of test cases.<\/li>\n<li>First line of each test case contains a single integer <b>N<\/b> denoting the number of lists of integers.<\/li>\n<li>Next <b>N<\/b> lines of each test case contains some space separated integers where integers in the <b>i<sup>th<\/sup><\/b> line make up the <b>i<sup>th<\/sup><\/b> list. Each list description has the following format.\n<ul>\n<li>First integer <b>S<sub>i<\/sub><\/b> in the <b>i<sup>th<\/sup><\/b> line denotes the size of the <b>i<sup>th<\/sup><\/b> list, and<\/li>\n<li>the next <b>S<sub>i<\/sub><\/b> space separated integers are the elements in the list.<\/li>\n<\/ul>\n<\/li><\/ul>\n<h3>Output<\/h3>\n<p>For each test case, output <b>2<\/b> space separated integers (second integer modulo <b>10<sup>9<\/sup> + 7<\/b>) where the first integer denotes the maximum submatrix sum and the second denotes the number of such submatrices.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<b>\n<li>1 \u2264 T \u2264 100<\/li>\n<p><\/p><\/b><br \/>\n<b>\n<li>1 \u2264 N \u2264 9<\/li>\n<p><\/p><\/b><br \/>\n<b>\n<li>1 \u2264 S<sub>i<\/sub> \u2264 9<\/li>\n<p><\/p><\/b><br \/>\n<b>\n<li>-9 \u2264 L<sub>i<\/sub>[j] \u2264 9<\/li><\/b>\n<\/ul>\n<h3>Example<\/h3>\n<p><b>Input<\/b><\/p>\n<pre>\n2\n2\n2 3 4\n2 4 5\n2\n3 4 -5 4\n3 -2 3 -2\n\n<b>Output<\/b>\n63 1\n12 2\n<\/pre><h3>Explanation<\/h3>\n<p><img src=\"https:\/\/s3.amazonaws.com\/hr-challenge-images\/3194\/1452934896-d5e873b4f2-image1.jpg\" title=\"image1.jpg\" \/><\/p>\n<p>All the matrices with maximum sum are highlighted with coloured fencing.<\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"ma5termind","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #3366CC;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>3&#9733;<\/span><span>ma5termind<\/span>","problem_tester":"antoniuk1","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>antoniuk1<\/span>","date_added":"10-11-2015","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/ad-hoc'>\n                    ad-hoc\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/cook66'>\n                    cook66\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>\n                    easy-medium\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/greedy'>\n                    greedy\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/ma5termind'>\n                    ma5termind\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/MXSM","user":{"username":null},"time":{"view_start_date":1453660200,"submit_start_date":1453660200,"visible_start_date":1453660200,"end_date":1735669800,"current":1493557923},"todo":false,"problem_status":"unattempted"}
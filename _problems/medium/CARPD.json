{"category_name":"medium","status":"success","problem_code":"CARPD","problem_name":"Cheapest Travel Plan","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/LTIME92\/hindi\/CARPD.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME92\/bengali\/CARPD.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/LTIME92\/mandarin\/CARPD.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME92\/russian\/CARPD.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME92\/vietnamese\/CARPD.pdf) as well.\r\n\r\nYou have a car that runs on both petrol and diesel. The prices of petrol and diesel per unit volume are $P_p$ and $P_d$ respectively. Using one unit volume of fuel, you can travel one unit distance. The petrol tank of your car has a capacity $C_p$ units. (It means that at any instant, your car can store no more than $C_p$ volume of petrol. The diesel tank of your car has a capacity $C_d$.\r\n\r\nThere are $N$ cities and $M$ uni-directional roads in your country. You know the endpoints and lengths of all the roads. The cities are of four types:\r\n- Type 0 :No fuel is available in this city.\r\n- Type 1 : Only petrol is available in this city. When you are in this city, you can refill your petrol tank to any volume $ \\leq C_p$, paying $P_p$ per unit volume of added petrol.\r\n- Type 2 : Only diesel  is available in this city. When you are in this city, you can refill your diesel tank to any volume $ \\leq C_d$, paying $P_d$ per unit volume of added diesel.\r\n- Type 3 : Both petrol and diesel are available in this city. When in this city, you can refill either petrol or diesel or both respecting the respective capacity constraints and paying $P_p$ per unit volume of added petrol and $P_d$ per unit of added diesel.\r\n\r\n\r\nCurrently, you are in city $1$ with no fuel in your car and want to travel to city $N$. Find the minimum possible cost of the fuel you will have to buy.\r\n\r\n###Input:\r\n\r\n- First line will contain $T$, number of testcases. Then the testcases follow. \r\n- The first line of each testcase contains two integers, $N$ and $M$.\r\n- The second line contains two integers, $C_p$ and $C_d$.\r\n- The third line contains two integers $P_p$ and $P_d$.\r\n- The fourth line contains the space separated types of the $N$ cities.\r\n- Each of the next $M$ lines contains the description of a road : $u, v, l$, meaning that there is uni-directional road from city $u$ to city $v$ of length $l$.\r\n\r\n###Output:\r\nFor each testcase, if it is impossible to travel from city $1$ to city $N$, print $-1$ on a new line. Else, print the minimum possible cost on a new line.\r\n\r\n###Constraints \r\n- $1 \\leq T \\leq 100$\r\n- $2 \\leq N \\leq 300$.\r\n- $ 1 \\leq M \\leq N (N - 1)$.\r\n- The sum of $N$ over all testcases doesn't exceed $300$.\r\n- There is no road from a city to itself, and for any ordered pair $(u, v)$ there is at max one road from $u$ to $v$.\r\n- $1 \\leq C_p, C_d \\leq 300$.\r\n- $ 1 \\leq P_p, P_d \\leq 2000$.\r\n- $ 1 \\leq u, v \\leq N$ and $u \\neq v$.\r\n- $1 \\leq l \\leq 500$.\r\n\r\n### Subtasks\r\n**Subtask #1 (10 points):**  $1 \\leq n, C_p, C_d \\leq 30$.\r\n\r\n**Subtask #2 (30 points):** $1 \\leq n, C_p, C_d \\leq 80$.\r\n\r\n**Subtask #3 (20 points):** Type of each city is either 0 or 3.\r\n\r\n**Subtask #4 (40 points):** original constraints.\r\n\r\n### Sample Input\r\n    2\r\n    4 4\r\n    4 4\r\n    10 5\r\n    3 1 2 0\r\n    1 2 7\r\n    2 4 3\r\n    2 3 1\r\n    3 4 3\r\n    2 1\r\n    4 4\r\n    10 5\r\n    3 1\r\n    1 2 9\r\n\r\n### Sample Output\r\n    75\r\n    -1\r\n\r\n### Explanation\r\nIn the first testcase, the following plan is optimal:\r\n- In city $1$, buy $4$ units of diesel and $4$ units of petrol with total cost $4 \\times 10 + 4 \\times 5 = 60$. Now you have $8$ units of fuel, so you can reach city $3$ ($1 \\rightarrow 2 \\rightarrow 3$). \r\n- In city $3$, buy $3$ units of diesel, which is enough to reach city $4$. The cost here is $3 \\times 5 = 15$.\r\n\r\nThe total cost is $60 + 15 = 75$.\r\n\r\nIn the second testcase, the maximum fuel you can get is $8$ units, but the only road from city $1$ to city $2$ has length $9$. So, there is no possible way.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/LTIME92\/hindi\/CARPD.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME92\/bengali\/CARPD.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/LTIME92\/mandarin\/CARPD.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME92\/russian\/CARPD.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME92\/vietnamese\/CARPD.pdf) as well.\r\n\r\nYou have a car that runs on both petrol and diesel. The prices of petrol and diesel per unit volume are $P_p$ and $P_d$ respectively. Using one unit volume of fuel, you can travel one unit distance. The petrol tank of your car has a capacity $C_p$ units. (It means that at any instant, your car can store no more than $C_p$ volume of petrol. The diesel tank of your car has a capacity $C_d$.\r\n\r\nThere are $N$ cities and $M$ uni-directional roads in your country. You know the endpoints and lengths of all the roads. The cities are of four types:\r\n- Type 0 :No fuel is available in this city.\r\n- Type 1 : Only petrol is available in this city. When you are in this city, you can refill your petrol tank to any volume $ \\leq C_p$, paying $P_p$ per unit volume of added petrol.\r\n- Type 2 : Only diesel  is available in this city. When you are in this city, you can refill your diesel tank to any volume $ \\leq C_d$, paying $P_d$ per unit volume of added diesel.\r\n- Type 3 : Both petrol and diesel are available in this city. When in this city, you can refill either petrol or diesel or both respecting the respective capacity constraints and paying $P_p$ per unit volume of added petrol and $P_d$ per unit of added diesel.\r\n\r\n\r\nCurrently, you are in city $1$ with no fuel in your car and want to travel to city $N$. Find the minimum possible cost of the fuel you will have to buy.\r\n\r\n###Input:\r\n\r\n- First line will contain $T$, number of testcases. Then the testcases follow. \r\n- The first line of each testcase contains two integers, $N$ and $M$.\r\n- The second line contains two integers, $C_p$ and $C_d$.\r\n- The third line contains two integers $P_p$ and $P_d$.\r\n- The fourth line contains the space separated types of the $N$ cities.\r\n- Each of the next $M$ lines contains the description of a road : $u, v, l$, meaning that there is uni-directional road from city $u$ to city $v$ of length $l$.\r\n\r\n###Output:\r\nFor each testcase, if it is impossible to travel from city $1$ to city $N$, print $-1$ on a new line. Else, print the minimum possible cost on a new line.\r\n\r\n###Constraints \r\n- $1 \\leq T \\leq 100$\r\n- $2 \\leq N \\leq 300$.\r\n- $ 1 \\leq M \\leq N (N - 1)$.\r\n- The sum of $N$ over all testcases doesn't exceed $300$.\r\n- There is no road from a city to itself, and for any ordered pair $(u, v)$ there is at max one road from $u$ to $v$.\r\n- $1 \\leq C_p, C_d \\leq 300$.\r\n- $ 1 \\leq P_p, P_d \\leq 2000$.\r\n- $ 1 \\leq u, v \\leq N$ and $u \\neq v$.\r\n- $1 \\leq l \\leq 500$.\r\n\r\n### Subtasks\r\n**Subtask #1 (10 points):**  $1 \\leq n, C_p, C_d \\leq 30$.\r\n\r\n**Subtask #2 (30 points):** $1 \\leq n, C_p, C_d \\leq 80$.\r\n\r\n**Subtask #3 (20 points):** Type of each city is either 0 or 3.\r\n\r\n**Subtask #4 (40 points):** original constraints.","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"2\r\n    4 4\r\n    4 4\r\n    10 5\r\n    3 1 2 0\r\n    1 2 7\r\n    2 4 3\r\n    2 3 1\r\n    3 4 3\r\n    2 1\r\n    4 4\r\n    10 5\r\n    3 1\r\n    1 2 9","output":"75\r\n    -1","explanation":"In the first testcase, the following plan is optimal:\r\n- In city $1$, buy $4$ units of diesel and $4$ units of petrol with total cost $4 \\times 10 + 4 \\times 5 = 60$. Now you have $8$ units of fuel, so you can reach city $3$ ($1 \\rightarrow 2 \\rightarrow 3$). \r\n- In city $3$, buy $3$ units of diesel, which is enough to reach city $4$. The cost here is $3 \\times 5 = 15$.\r\n\r\nThe total cost is $60 + 15 = 75$.\r\n\r\nIn the second testcase, the maximum fuel you can get is $8$ units, but the only road from city $1$ to city $2$ has length $9$. So, there is no possible way.","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"2","source_sizelimit":"50000","problem_author":"jtnydv25","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span class='m-username--link'>jtnydv25<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"29-12-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/jtnydv25'>jtnydv25<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/ltime92'>ltime92<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium'>medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/shortest-path'>shortest-path<\/a>","problem_difficulty_level":"Medium","user_zen_mode":false,"best_tag":"Shortest Path","editorial_url":"https:\/\/discuss.codechef.com\/problems\/CARPD","time":{"view_start_date":1104528600,"submit_start_date":1104528600,"visible_start_date":1104528600,"end_date":1735669800,"current":1643797924},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=CARPD","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
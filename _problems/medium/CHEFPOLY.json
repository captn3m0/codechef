{"category_name":"medium","status":"success","problem_code":"CHEFPOLY","problem_name":"Chef and Polygons","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME33\/mandarin\/CHEFPOLY.pdf\">Mandarin Chinese <\/a>, <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME33\/russian\/CHEFPOLY.pdf\">Russian<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME33\/vietnamese\/CHEFPOLY.pdf\">Vietnamese<\/a> as well.<\/h3>\n<p>Chef is not very good with geometric problems, and he, therefore, asks you to solve one of them. He has <b>N<\/b> red points and <b>M<\/b> black points, and <b>Q<\/b> queries on them. In each query, he will give you a subset of red points, you have to find out number of black points lying strictly inside the convex polygon formed by using the given subset as vertices.\n<\/p>\n<h3>Input<\/h3>\n<p>The first line of input contains two integers \u2014 <b>N<\/b> and <b>M<\/b> \u2014 denoting the number of red and black points, respectively. The next <b>N<\/b> lines contain two space-separated integers each denoting the coordinates of red points, with the <b>i<\/b><sup>th<\/sup> line describing the <b>i<\/b><sup>th<\/sup> point. Analogously, the next <b>M<\/b> lines contain two space-separated integers each denoting the coordinates of the black points. The next line contain one integer <b>Q<\/b> denoting the number of polygons. Each of the next <b>Q<\/b> lines contains a polygon in the form <b>k<\/b> <b>i<sub>1<\/sub><\/b> <b>i<sub>2<\/sub><\/b> \u2026 <b>i<sub>k<\/sub><\/b>. Here, <b>k<\/b> is the number of vertices of the polygon, and <b>i<sub>1<\/sub><\/b>, <b>i<sub>2<\/sub><\/b>, \u2026, <b>i<sub>k<\/sub><\/b> are the indices of red points which form the polygon, in a clockwise order.\n<\/p>\n<h3>Output<\/h3>\n<p>For each query, output a new line containing the answer to it.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>3<\/b> \u2264 <b>N<\/b> \u2264 <b>10<sup>2<\/sup><\/b><\/li>\n<li><b>1<\/b> \u2264 <b>M<\/b> \u2264 <b>3 \u00d7 10<sup>3<\/sup><\/b><\/li>\n<li><b>1<\/b> \u2264 <b>Q<\/b> \u2264 <b>10<sup>6<\/sup><\/b><\/li>\n<li><b>3<\/b> \u2264 <b>k<\/b> \u2264 <b>N<\/b><\/li>\n<li>Sum of <b>k<\/b> over all queries is at most <b>10<sup>6<\/sup><\/b><\/li>\n<li>Absolute value of a coordinate of any point is at most <b>10<sup>4<\/sup><\/b><\/li>\n<li>No three points lie on the same line<\/li>\n<\/ul>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n4 2\n0 0\n2 0\n2 3\n0 3\n1 1\n1 2\n3\n4 4 3 2 1\n3 1 4 2\n3 1 3 2\n\n<b>Output:<\/b>\n2\n1\n1\n\n<b>Input:<\/b>\n9 9\n62 73\n-66 -27\n-14 85\n82 19\n-42 42\n-38 85\n-38 44\n-11 -55\n-46 -9\n44 -6\n-98 13\n-3 97\n-61 -34\n-70 17\n-11 -13\n-95 -25\n-52 60\n12 3\n8\n4 9 6 3 1\n5 2 5 7 1 4\n4 2 6 3 4\n5 5 6 1 4 8\n5 2 5 7 1 8\n4 2 6 3 4\n3 2 6 8\n5 9 5 7 4 8\n\n<b>Output:<\/b>\n0\n1\n1\n3\n2\n1\n0\n3\n\n<\/pre><h3>Subtasks<\/h3>\n<ul>\n<li><b>Subtask 1:<\/b> <b> N <\/b> = 3. <b>Points - 10<\/b><\/li>\n<li><b>Subtask 2:<\/b> <b> N, M <\/b>\u2264 100. <b>Points - 20<\/b><\/li>\n<li><b>Subtask 3:<\/b> Sum of <b>k<\/b> over all queries not be greater than <b>10<sup>5<\/sup><\/b>,  <b> M <\/b>\u2264 1000<b> Points - 30<\/b><\/li>\n<li><b>Subtask 4:<\/b> Original constraints. <b>Points - 40<\/b><\/li>\n<\/ul>\n<h3>Explanation<\/h3>\n<ul>\n<p>Test #1:<br\/><br \/>\nPolygon 1: (0, 0)-(0, 3)-(2, 3)-(2, 0), two black points inside it: (1, 1), (1, 2).<br\/><br \/>\nPolygon 2: (0, 0)-(0, 3)-(2, 0), contains one black point inside: (1, 1).<br\/><br \/>\nPolygon 3: (0, 0)-(2, 3)-(2, 0), encloses one black point: (1, 1).<\/br\/><\/br\/><\/br\/><\/p>\n<\/ul>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"mgch","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>mgch<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"6-02-2016","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/geometry'>\n                    geometry\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/ltime33'>\n                    ltime33\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium'>\n                    medium\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/mgch'>\n                    mgch\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/CHEFPOLY","user":{"username":null},"time":{"view_start_date":1456592400,"submit_start_date":1456592400,"visible_start_date":1456592400,"end_date":1735669800,"current":1493557542},"todo":false,"problem_status":"unattempted"}
{"category_name":"medium","status":"success","problem_code":"FEWDIFF","problem_name":"Few Different Elements","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/LTIME88\/hindi\/FEWDIFF.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME88\/bengali\/FEWDIFF.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/LTIME88\/mandarin\/FEWDIFF.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME88\/russian\/FEWDIFF.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME88\/vietnamese\/FEWDIFF.pdf) as well.\r\n\r\nLet's call a sequence with length $K$ *good* if there are at most $\\frac{K}{2} + 1$ distinct elements in it. For example, the sequence $(3, 3, 2, 1, 3)$ is good, since it contains $3 \\le \\frac{5}{2} + 1$ distinct elements, while the sequence $(1, 4, 8, 8, 2)$ is not good, since it contains $4 \\gt \\frac{5}{2} + 1$ distinct elements.\r\n\r\nYou are given a sequence of integers $A_1, A_2, \\ldots, A_N$. You may perform any number of operations (including zero) on this sequence. In one operation, you should choose one element of the sequence and replace it by any integer you choose. You want all contiguous subsequences of the resulting sequence to be good. What is the smallest number of operations you need to perform to achieve this?\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains a single integer $N$.\r\n- The second line contains $N$ space-separated integers $A_1, A_2, \\ldots, A_N$.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the smallest number of operations needed to make all contiguous subsequences good.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 40$\r\n- $1 \\le N \\le 10^5$\r\n- $1 \\le A_i \\le 10^9$ for each valid $i$\r\n- the sum of $N$ over all test cases does not exceed $5 \\cdot 10^5$\r\n\r\n### Subtasks\r\n**Subtask #1 (20 points):** the sum of $N$ over all test cases does not exceed $200$\r\n\r\n**Subtask #2 (30 points):** the sum of $N$ over all test cases does not exceed $5,000$\r\n\r\n**Subtask #3 (50 points):** original constraints\r\n\r\n### Example Input\r\n```\r\n3\r\n6\r\n1 1 1 2 2 2\r\n4\r\n1 100 10000 1000000\r\n5\r\n1 2 3 2 1\r\n```\r\n\r\n### Example Output\r\n```\r\n0\r\n1\r\n1\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** All contiguous subsequences are already good.\r\n\r\n**Example case 2:** For example, $(1, 100, 10000)$ is not good. It is enough to change the sequence to $(1, 100, 100, 1000000)$, though.\r\n\r\n**Example case 3:** For example, $(1, 2, 3)$ is not good. It is enough to change the sequence to $(1, 2, 1, 2, 1)$. \r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/LTIME88\/hindi\/FEWDIFF.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME88\/bengali\/FEWDIFF.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/LTIME88\/mandarin\/FEWDIFF.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME88\/russian\/FEWDIFF.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME88\/vietnamese\/FEWDIFF.pdf) as well.\r\n\r\nLet's call a sequence with length $K$ *good* if there are at most $\\frac{K}{2} + 1$ distinct elements in it. For example, the sequence $(3, 3, 2, 1, 3)$ is good, since it contains $3 \\le \\frac{5}{2} + 1$ distinct elements, while the sequence $(1, 4, 8, 8, 2)$ is not good, since it contains $4 \\gt \\frac{5}{2} + 1$ distinct elements.\r\n\r\nYou are given a sequence of integers $A_1, A_2, \\ldots, A_N$. You may perform any number of operations (including zero) on this sequence. In one operation, you should choose one element of the sequence and replace it by any integer you choose. You want all contiguous subsequences of the resulting sequence to be good. What is the smallest number of operations you need to perform to achieve this?\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains a single integer $N$.\r\n- The second line contains $N$ space-separated integers $A_1, A_2, \\ldots, A_N$.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the smallest number of operations needed to make all contiguous subsequences good.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 40$\r\n- $1 \\le N \\le 10^5$\r\n- $1 \\le A_i \\le 10^9$ for each valid $i$\r\n- the sum of $N$ over all test cases does not exceed $5 \\cdot 10^5$\r\n\r\n### Subtasks\r\n**Subtask #1 (20 points):** the sum of $N$ over all test cases does not exceed $200$\r\n\r\n**Subtask #2 (30 points):** the sum of $N$ over all test cases does not exceed $5,000$\r\n\r\n**Subtask #3 (50 points):** original constraints","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"3\r\n6\r\n1 1 1 2 2 2\r\n4\r\n1 100 10000 1000000\r\n5\r\n1 2 3 2 1","output":"0\r\n1\r\n1","explanation":"**Example case 1:** All contiguous subsequences are already good.\r\n\r\n**Example case 2:** For example, $(1, 100, 10000)$ is not good. It is enough to change the sequence to $(1, 100, 100, 1000000)$, though.\r\n\r\n**Example case 3:** For example, $(1, 2, 3)$ is not good. It is enough to change the sequence to $(1, 2, 1, 2, 1)$.","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"anton_trygub","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span class='m-username--link'>anton_trygub<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"22-09-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/anton_trygub'>anton_trygub<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/dynamic-programming'>dynamic-programming<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/ltime88'>ltime88<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium'>medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/observation'>observation<\/a>","problem_difficulty_level":"Medium","user_zen_mode":false,"best_tag":"Dynamic Programming","editorial_url":"https:\/\/discuss.codechef.com\/problems\/FEWDIFF","time":{"view_start_date":1104528600,"submit_start_date":1104528600,"visible_start_date":1104528600,"end_date":1735669800,"current":1643797942},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=FEWDIFF","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
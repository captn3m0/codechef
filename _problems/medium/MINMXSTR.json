{"category_name":"medium","status":"success","problem_code":"MINMXSTR","problem_name":"Min-Max String","body":"You are initially given a collection of $N$ **distinct** strings. The $i^{th}$ string in the order of input, is assigned index $i$. (i.e. the first string is assigned index $1$, second string is assigned index $2$, \u2026, the $N^{th}$ string is assigned index $N$). \r\n\r\nYou have to process $Q$ queries.\r\nEach query can be of one of three types:\r\n\r\n- $1$ $x$ $c$  \r\nInsert a new string into the collection, which is equal to the concatenation of string at index $x$ and the character $c$. This new string is assigned index $p+1$, where $p$ is the number of strings in the collection before this query. **It is guaranteed that this new string does not already exist in the collection before this query.**\r\n\r\n- $2$  \r\nPrint the index of the lexicographically minimal string in the collection, which is NOT a proper prefix of any other string in the collection.\r\n\r\n- $3$  \r\nPrint the index of the lexicographically maximal string in the collection, which is NOT a proper prefix of any other string in the collection.\r\n\r\n**All the initial strings, as well as the characters in the queries of first type, consist of lowercase English alphabets only.**\r\n\r\n### Input Format:\r\n\r\nFirst line contains a single integer $T$, the number of testcases. Then for each testcase,\r\n- First line contains a single integer $N$, the initial number of strings in the collection.\r\n- $N$ lines follow. The $i^{th}$ line contains the string with index $i$ ($1\\le i\\le N$).\r\n- The next line contains a single integer $Q$, number of queries.\r\n- $Q$ lines follow, each containing a query of one of the three types described above. \r\n\r\n### Output Format:\r\n\r\nFor each query of type $2$ and $3$, output a single line containing a single integer - the answer to the query.\r\n\r\n### Constraints:\r\n- $1\\le T\\le 5$\r\n- $1\\le N\\le 10^4$\r\n- $1\\le Q\\le 2*10^5$\r\n- The initial $N$ strings are all distinct.\r\n- Sum of lengths of all initial strings across all testcases does not exceed $2*10^5$.\r\n- Sum of number of queries across all testcases does not exceed $2*10^5$.\r\n- For each query of type 1, index $x$ is such that $1\\le x\\le p$, where $p$ is the number of strings in the collection before that query.\r\n- It is guaranteed that there will be at least one query of type 2 or 3 in each testcase. \r\n\r\n### Sample Input:\r\n\r\n1  \r\n3  \r\nabcdef  \r\nabc  \r\nxyz  \r\n6  \r\n1 2 d  \r\n2  \r\n3  \r\n1 4 c  \r\n2  \r\n3  \r\n\r\n### Sample Output:\r\n\r\n1  \r\n3  \r\n5  \r\n3  \r\n\r\n### Explanation:\r\n\r\nBefore the first query, the collection is {\"abcdef\", \"abc\", \"xyz\"}. String with index 2 is \"abc\". So we form a new string (\"abc\"+\"d\" = \"abcd\"), and since there were 3 strings before, we assign it index 4. Now collection is {\"abcdef\", \"abc\", \"xyz\", \"abcd\"}.\r\n\r\nThe desired string for the second query is \"abcdef\", which has an index of 1, so we output 1. Note that \"abc\" or \"abcd\" cannot be the answers since they are proper prefixes of another string in the collection (\"abcdef\").\r\n\r\nThe desired string for the third query is \"xyz\", having index 3, so we output 3.\r\n\r\nIn the 4th query, we have to add a new string to the collection which is: string at index 4 + \"c\" = \"abcd\"+\"c\"= \"abcdc\". Now collection is {\"abcdef\", \"abc\", \"xyz\", \"abcd\", \"abcdc\"}.\r\n\r\nFor the 5th query, \"abcdc\" is the lexicographically minimum string and it has index 5, so we output 5.\r\n\r\n For the last query, again the desired string is \"xyz\", having index 3, so we output 3.  \n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"You are initially given a collection of $N$ **distinct** strings. The $i^{th}$ string in the order of input, is assigned index $i$. (i.e. the first string is assigned index $1$, second string is assigned index $2$, \u2026, the $N^{th}$ string is assigned index $N$). \r\n\r\nYou have to process $Q$ queries.\r\nEach query can be of one of three types:\r\n\r\n- $1$ $x$ $c$  \r\nInsert a new string into the collection, which is equal to the concatenation of string at index $x$ and the character $c$. This new string is assigned index $p+1$, where $p$ is the number of strings in the collection before this query. **It is guaranteed that this new string does not already exist in the collection before this query.**\r\n\r\n- $2$  \r\nPrint the index of the lexicographically minimal string in the collection, which is NOT a proper prefix of any other string in the collection.\r\n\r\n- $3$  \r\nPrint the index of the lexicographically maximal string in the collection, which is NOT a proper prefix of any other string in the collection.\r\n\r\n**All the initial strings, as well as the characters in the queries of first type, consist of lowercase English alphabets only.**\r\n\r\n### Input Format:\r\n\r\nFirst line contains a single integer $T$, the number of testcases. Then for each testcase,\r\n- First line contains a single integer $N$, the initial number of strings in the collection.\r\n- $N$ lines follow. The $i^{th}$ line contains the string with index $i$ ($1\\le i\\le N$).\r\n- The next line contains a single integer $Q$, number of queries.\r\n- $Q$ lines follow, each containing a query of one of the three types described above. \r\n\r\n### Output Format:\r\n\r\nFor each query of type $2$ and $3$, output a single line containing a single integer - the answer to the query.\r\n\r\n### Constraints:\r\n- $1\\le T\\le 5$\r\n- $1\\le N\\le 10^4$\r\n- $1\\le Q\\le 2*10^5$\r\n- The initial $N$ strings are all distinct.\r\n- Sum of lengths of all initial strings across all testcases does not exceed $2*10^5$.\r\n- Sum of number of queries across all testcases does not exceed $2*10^5$.\r\n- For each query of type 1, index $x$ is such that $1\\le x\\le p$, where $p$ is the number of strings in the collection before that query.\r\n- It is guaranteed that there will be at least one query of type 2 or 3 in each testcase. \r\n\r\n### Sample Input:\r\n\r\n1  \r\n3  \r\nabcdef  \r\nabc  \r\nxyz  \r\n6  \r\n1 2 d  \r\n2  \r\n3  \r\n1 4 c  \r\n2  \r\n3  \r\n\r\n### Sample Output:\r\n\r\n1  \r\n3  \r\n5  \r\n3  \r\n\r\n### Explanation:\r\n\r\nBefore the first query, the collection is {\"abcdef\", \"abc\", \"xyz\"}. String with index 2 is \"abc\". So we form a new string (\"abc\"+\"d\" = \"abcd\"), and since there were 3 strings before, we assign it index 4. Now collection is {\"abcdef\", \"abc\", \"xyz\", \"abcd\"}.\r\n\r\nThe desired string for the second query is \"abcdef\", which has an index of 1, so we output 1. Note that \"abc\" or \"abcd\" cannot be the answers since they are proper prefixes of another string in the collection (\"abcdef\").\r\n\r\nThe desired string for the third query is \"xyz\", having index 3, so we output 3.\r\n\r\nIn the 4th query, we have to add a new string to the collection which is: string at index 4 + \"c\" = \"abcd\"+\"c\"= \"abcdc\". Now collection is {\"abcdef\", \"abc\", \"xyz\", \"abcd\", \"abcdc\"}.\r\n\r\nFor the 5th query, \"abcdc\" is the lexicographically minimum string and it has index 5, so we output 5.\r\n\r\n For the last query, again the desired string is \"xyz\", having index 3, so we output 3.  ","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"2","source_sizelimit":"50000","problem_author":"dj_r_1","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span class='m-username--link'>dj_r_1<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"18-06-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/binary-lifting'>binary-lifting<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/data-structure'>data-structure<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/dem2020'>dem2020<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/dj_r_1'>dj_r_1<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium'>medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/trie'>trie<\/a>","problem_difficulty_level":"Medium","user_zen_mode":false,"best_tag":"Binary Lifting","editorial_url":"https:\/\/discuss.codechef.com\/problems\/MINMXSTR","time":{"view_start_date":1597339800,"submit_start_date":1597339800,"visible_start_date":1597339800,"end_date":1735669800,"current":1643797961},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=MINMXSTR","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
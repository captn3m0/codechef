{"category_name":"medium","status":"success","problem_code":"MOU2H","problem_name":"Mountain Holidays 2","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/AUG14\/mandarin\/MOU2H.pdf\">Mandarin Chinese <\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/AUG14\/russian\/MOU2H.pdf\">Russian<\/a>.<\/h3>\n<p>Let\u2019s remember the problem <i>Mountain holidays<\/i> (<a href=\"http:\/\/www.codechef.com\/JULY13\/problems\/MOU1H\">MOU1H<\/a>). The story of <i>Mountain holidays<\/i> is the following. Some time ago, Chef discovered that more and more people have started climbing mountains every day. So he decided to build a restaurant in the Ukrainian resort Bukovel (Carpathian Mountains). But there are many places to choose, so he wants to choose the best one.<\/p>\n<p>By your great helps, Chef could find to the best place to build a restaurant, now Chef becomes rich. Now he wants to build a restaurant in the next mountain. Similar to previous one, the next mountain is described by a sequence of <b>N<\/b> points. Here the points are numbered from <b>1<\/b> to <b>N<\/b>, and the height of point <b>k<\/b> is denoted by <b>H<sub>k<\/sub><\/b>. Every two adjacent points of the mountain are connected by a segment.\n<\/p>\n<p>\nFor example, the mountain described by <b>N = 9, H = [0, 2, 1, 2, 1, 3, 0, 1, 0] <\/b> is like a following:\n<\/p>\n<p><pre>\n       \/\\\n  \/\\\/\\\/  \\\n \/        \\\/\\\n<\/pre><\/p>\n<p> In the mountain, all of the tourists will go from the point <b>1<\/b> to point <b>N<\/b>.\n<\/p>\n<p>\nFor comfort of the tourists, Chef has bought teleports too. Using a teleport, a tourist can be transferred from point <b>i<\/b> to point <b>j<\/b>, for all <b>i<\/b> &lt; <b>j<\/b>. Of course, tourists can also walk from point <b>i<\/b> to point <b>i+1<\/b> on foot.\n<\/p>\n<p>\nNow Chef  wants to calculate the attractiveness of the mountain, as the number of the different climbs. <\/p>\n<p>A climb is defined by the <i>nonempty<\/i> sequence <b>(p<sub>1<\/sub>, p<sub>1<\/sub>+1), (p<sub>2<\/sub>, p<sub>2<\/sub>+1), ..., (p<sub>s<\/sub>, p<sub>s<\/sub>+1)<\/b> of the moves <b> on foot <\/b>, where <b>p<sub>k<\/sub>+1 \u2264 p<sub>k+1<\/sub><\/b> for <b>k = 1, 2, ..., s \u2212 1<\/b>.\n<\/p>\n<p>Two climbs, say <b>(p<sub>1<\/sub>, p<sub>1<\/sub>+1), (p<sub>2<\/sub>, p<sub>2<\/sub>+1), ..., (p<sub>s<\/sub>, p<sub>s<\/sub>+1)<\/b> and <b>(q<sub>1<\/sub>, q<sub>1<\/sub>+1), (q<sub>2<\/sub>, q<sub>2<\/sub>+1), ..., (q<sub>t<\/sub>, q<sub>t<\/sub>+1)<\/b> are different if and only if<\/p>\n<ul>\n<li><b>s \u2260 t<\/b> or<\/li>\n<li>There exists at least one <b>k<\/b> such that <b>1 \u2264 k &lt; min(s, t)<\/b> and <b>H<sub>p<sub>k<\/sub>+1<\/sub> \u2013 H<sub>p<sub>k<\/sub><\/sub> \u2260 H<sub>q<sub>k<\/sub>+1<\/sub> \u2013 H<sub>q<sub>k<\/sub><\/sub><\/b>.<\/li>\n<\/ul>\n\n<p>You are given the array <b>H<\/b>, find the number of the different climbs that exist on the mountain. Since the answer can be very large, output it modulo <b>10<sup>9<\/sup>+9 = 1000000009<\/b>.<\/p>\n<h3>Input<\/h3>\n<p>The first line of input contains <b>T<\/b>, denoting the number of test cases. Then <b>T<\/b> test cases follow.<\/p>\n<p>The first line of each test case contains an integer <b>N<\/b>, denoting the number of points on the mountain.<br \/>\nOn second line of each test case, there are <b>N<\/b> space-separated integers <b>H<sub>1<\/sub>, H<sub>2<\/sub>, ..., H<sub>N<\/sub><\/b>, denoting the height of each point.<\/p>\n<h3>Output<\/h3>\n<p>For each test case, output an integer denoting the number of the different climbs modulo <b>10<sup>9<\/sup>+9 = 1000000009<\/b>.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1 \u2264 T \u2264 100000<\/b>, that is, <b>1 \u2264 T \u2264 10<sup>5<\/sup><\/b><\/li>\n<li><b>2 \u2264 N \u2264 1000000<\/b>, that is, <b>2 \u2264 N \u2264 10<sup>6<\/sup><\/b><\/li>\n<li>Sum of <b>N<\/b> over all test cases in one file will be at most <b>1000000 = 10<sup>6<\/sup><\/b><\/li>\n<li><b>-2000000 \u2264 H<sub>k<\/sub> \u2264 2000000<\/b>, that is, <b>\u22122 \u00d7 10<sup>6<\/sup> \u2264 H<sub>k<\/sub> \u2264 2 \u00d7 10<sup>6<\/sup><\/b><\/li>\n<\/ul>\n<h3>Sample<\/h3>\n<pre>\n<b>Input<\/b>\n3\n6\n1 2 3 4 5 6\n9\n0 2 1 2 1 3 0 1 0\n7\n0 5 -5 5 -5 4 -4\n\n<b>Output<\/b>\n5\n199\n55\n<\/pre><h3>Explanation<\/h3>\n<p>In the first test case, since height increases by one for each move on foot, there will be one unique climb for each length. So there are <b>5<\/b> climbs with length <b>1, 2, ..., 5<\/b>. Here length means the number of moves by foot.<\/p>\n<p>We can get  the following <b>5<\/b> distinct climbs. <\/p>\n<ul>\n<li><b>(1, 2)<\/b><\/li>\n<li><b>(1, 2), (2, 3)<\/b><\/li>\n<li><b>(1, 2), (2, 3), (3, 4)<\/b><\/li>\n<li><b>(1, 2), (2, 3), (3, 4), (4, 5)<\/b><\/li>\n<li><b>(1, 2), (2, 3), (3, 4), (4, 5), (5, 6)<\/b><\/li>\n<\/ul>\n\n<p>The second test case is taken from the problem statement.<\/p>\n<p><i>Warning<\/i>: The input and output can be large. Please don't use a slow input\/output method.<\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"0.5","source_sizelimit":"50000","problem_author":"witalij_hq ","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;<\/span><span>witalij_hq<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"30-03-2013","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/aug14'>\n                    aug14\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/dynamic-programming'>\n                    dynamic-programming\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium'>\n                    medium\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/witalij_hq '>\n                    witalij_hq \n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/MOU2H","user":{"username":null},"time":{"view_start_date":1407749400,"submit_start_date":1407749400,"visible_start_date":1407749400,"end_date":1735669800,"current":1493557807},"todo":false,"problem_status":"unattempted"}
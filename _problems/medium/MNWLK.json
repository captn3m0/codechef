{"category_name":"medium","status":"success","problem_code":"MNWLK","problem_name":"Moonwalk","body":"### Read problems statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/COOK111\/hindi\/MNWLK.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK111\/mandarin\/MNWLK.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK111\/russian\/MNWLK.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK111\/vietnamese\/MNWLK.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK111\/bengali\/MNWLK.pdf) as well.\r\n\r\nHeinz has recently learnt to moonwalk! Now he wants to practice it in the central park.\r\n\r\nWe know that Danville's central park consists of $N$ junctions (numbered $1$ through $N$) and that $M$ pairs of these junctions are connected by one-way roads (numbered $1$ through $M$). First, Heinz picks a junction he starts from. Then, he alternately performs the following actions, starting with walking:\r\n- Walk his way out of his current junction to another junction by a one-way road leading to that junction from his current junction.\r\n- Moonwalk his way out of his current junction to another junction by a one-way road leading from that junction to his current junction. When Heinz does this, he is actually breaking the law (since he is using the one-way road in the wrong direction), but since he is moonwalking, no one will notice.\r\n\r\nHeinz plans to end up in the junction where he started after performing an even number of actions. However, he does not want to use any of the one-way roads more than once in any direction (using a road for both walking and moonwalking is not allowed either). It's worth noting that Heinz must walk at least one one-way road. Can he achieve this goal? If he can, find a sequence of roads he should use.\r\n\r\n### Input\r\n- The first line of input contains an integer $T$, the number of cases to process.\r\n- The first line of each case contains two space-separated integers $N$ and $M$.\r\n- The next $M$ lines of each case each contains two space-separated integers $v$ and $u$ denoting a one-way road from junction $v$ to junction $u$.\r\n\r\n### Output\r\n- For each case, if Heinz cannot achieve his goal, print a single line containing the string \":(\".\r\n- Otherwise, print three lines.\r\n- The first of these lines should contain the string \":)\".\r\n- The second line should contain an even integer $K$ denoting the number of roads Heinz should use.\r\n- The third line should contain $K$ space-separated integers denoting the numbers of the roads Heinz should use, in the correct order.\r\n\r\nIf there are multiple solutions, you may output any one of them.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 5$\r\n- $1 \\le N, M \\le 2 \\cdot 10^5$\r\n- $1 \\le v, u \\le N$\r\n\r\n### Example Input\r\n```\r\n2\r\n3 3\r\n1 2\r\n3 2\r\n3 1\r\n4 5\r\n1 2\r\n3 2\r\n1 4\r\n2 3\r\n3 4\r\n```\r\n\r\n### Example Output\r\n```\r\n:(\r\n:)\r\n4\r\n3 5 2 1 \r\n```\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problems statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/COOK111\/hindi\/MNWLK.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK111\/mandarin\/MNWLK.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK111\/russian\/MNWLK.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK111\/vietnamese\/MNWLK.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK111\/bengali\/MNWLK.pdf) as well.\r\n\r\nHeinz has recently learnt to moonwalk! Now he wants to practice it in the central park.\r\n\r\nWe know that Danville's central park consists of $N$ junctions (numbered $1$ through $N$) and that $M$ pairs of these junctions are connected by one-way roads (numbered $1$ through $M$). First, Heinz picks a junction he starts from. Then, he alternately performs the following actions, starting with walking:\r\n- Walk his way out of his current junction to another junction by a one-way road leading to that junction from his current junction.\r\n- Moonwalk his way out of his current junction to another junction by a one-way road leading from that junction to his current junction. When Heinz does this, he is actually breaking the law (since he is using the one-way road in the wrong direction), but since he is moonwalking, no one will notice.\r\n\r\nHeinz plans to end up in the junction where he started after performing an even number of actions. However, he does not want to use any of the one-way roads more than once in any direction (using a road for both walking and moonwalking is not allowed either). It's worth noting that Heinz must walk at least one one-way road. Can he achieve this goal? If he can, find a sequence of roads he should use.\r\n\r\n### Input\r\n- The first line of input contains an integer $T$, the number of cases to process.\r\n- The first line of each case contains two space-separated integers $N$ and $M$.\r\n- The next $M$ lines of each case each contains two space-separated integers $v$ and $u$ denoting a one-way road from junction $v$ to junction $u$.\r\n\r\n### Output\r\n- For each case, if Heinz cannot achieve his goal, print a single line containing the string \":(\".\r\n- Otherwise, print three lines.\r\n- The first of these lines should contain the string \":)\".\r\n- The second line should contain an even integer $K$ denoting the number of roads Heinz should use.\r\n- The third line should contain $K$ space-separated integers denoting the numbers of the roads Heinz should use, in the correct order.\r\n\r\nIf there are multiple solutions, you may output any one of them.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 5$\r\n- $1 \\le N, M \\le 2 \\cdot 10^5$\r\n- $1 \\le v, u \\le N$\r\n\r\n### Example Input\r\n```\r\n2\r\n3 3\r\n1 2\r\n3 2\r\n3 1\r\n4 5\r\n1 2\r\n3 2\r\n1 4\r\n2 3\r\n3 4\r\n```\r\n\r\n### Example Output\r\n```\r\n:(\r\n:)\r\n4\r\n3 5 2 1 \r\n```","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"kmaaszraa","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span class='m-username--link'>kmaaszraa<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"14-10-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/bipartite'>bipartite<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cook111'>cook111<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cycle'>cycle<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/kmaaszraa'>kmaaszraa<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/taran_1407'>taran_1407<\/a>","problem_difficulty_level":"Easy-Medium","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/MNWLK","time":{"view_start_date":1571596202,"submit_start_date":1571596202,"visible_start_date":1571596202,"end_date":1735669800,"current":1643797961},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=MNWLK","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
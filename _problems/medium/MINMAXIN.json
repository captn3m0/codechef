{"category_name":"medium","status":"success","problem_code":"MINMAXIN","problem_name":"Minimum and Maximum","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/LTIME80\/hindi\/MINMAXIN.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME80\/bengali\/MINMAXIN.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/LTIME80\/mandarin\/MINMAXIN.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME80\/russian\/MINMAXIN.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME80\/vietnamese\/MINMAXIN.pdf) as well.\r\n\r\n**This is an interactive problem.**\r\n\r\nThere is a hidden sequence $A_1, A_2, \\ldots, A_N$. You need to find indices of two smallest and two largest elements in it. Formally, you should find four integers $a$, $b$, $c$ and $d$ such that there is a permutation $P_1, P_2, \\ldots, P_N$ of the integers $1$ through $N$ with the following properties:\r\n- for each $i$ ($1 \\le i \\lt N$), $A_{P_i} \\le A_{P_{i+1}}$ holds\r\n- $P_1 = a$, $P_2 = b$, $P_{N-1} = c$ and $P_N = d$\r\n\r\nIn order to find such indices, you may ask at most $Q$ questions. In each question, you should choose two integers $i$ and $j$ ($1 \\le i, j \\le N$); the grader compares the elements $A_i$ and $A_j$ and answers with $i$ if $A_i \\le A_j$, or with $j$ if $A_i \\gt A_j$.\r\n\r\nNote: The grader is adaptive, i.e. there is no initially fixed sequence $A$, but the grader chooses the answers to your questions in such a way that at any time, there is at least one sequence consistent with all the answers. The answer you choose should be correct for every sequence consistent with all the grader's answers. However, it is guaranteed that the grader is deterministic, i.e. its answers are uniquely determined by your questions.\r\n\r\n### Interaction\r\n- First, you should read a line containing a single integer $T$ denoting the number of test cases. The description of interaction for $T$ test cases follows.\r\n- For each test case, first, you should read a line containing a single integer $N$. If $N = -2$, it means that your answer to the previous test case was incorrect and your program should terminate immediately.\r\n- Then, you may ask questions.\r\n    - To ask a question, you should print a line containing three space-separated integers $1$, $i$ and $j$ ($1 \\le i, j \\le N$).\r\n    - Then, you should read a line containing a single integer $x$.\r\n    - If the question was invalid, then $x=-2$. Otherwise, $x$ is the answer to the question, i.e. $i$ if $A_i \\le A_j$ or $j$ otherwise.\r\n- When you have determined your answer, you should print a line containing five space-separated integers $2$, $a$, $b$, $c$ and $d$ ($1 \\le a, b, c, d \\le N$) that satisfy the conditions described above. If there are multiple possible solutions, you may find any one.\r\n- Whenever you read $-2$, your program should terminate immediately to receive the Wrong Answer verdict. Otherwise, you may receive any verdict.\r\n\r\n**Don't forget to flush the output after printing each line!**\r\n\r\n### Constraints\r\n- $1 \\le T \\le 5$\r\n- $4 \\le N \\le 1,000$\r\n\r\n### Subtasks\r\n**Subtask #1 (50 points):** $Q = 3N+20$\r\n\r\n**Subtask #2 (50 points):** $Q = \\lfloor \\frac{3}{2}N \\rfloor + 20$\r\n\r\n### Example\r\n```\r\nGrader                You\r\n1\r\n4\r\n                      1 1 2\r\n1\r\n                      1 2 1\r\n2\r\n                      1 1 3\r\n3\r\n                      1 1 4\r\n4\r\n                      1 3 4\r\n4\r\n                      2 4 3 1 2\r\n```\r\n\t\r\n### Explanation\r\n**Example case 1:** The hidden sequence is $A=[3, 3, 2, 1]$. Note that another possible solution is $a = 4$, $b = 3$, $c = 2$ and $d = 1$.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/LTIME80\/hindi\/MINMAXIN.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME80\/bengali\/MINMAXIN.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/LTIME80\/mandarin\/MINMAXIN.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME80\/russian\/MINMAXIN.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME80\/vietnamese\/MINMAXIN.pdf) as well.\r\n\r\n**This is an interactive problem.**\r\n\r\nThere is a hidden sequence $A_1, A_2, \\ldots, A_N$. You need to find indices of two smallest and two largest elements in it. Formally, you should find four integers $a$, $b$, $c$ and $d$ such that there is a permutation $P_1, P_2, \\ldots, P_N$ of the integers $1$ through $N$ with the following properties:\r\n- for each $i$ ($1 \\le i \\lt N$), $A_{P_i} \\le A_{P_{i+1}}$ holds\r\n- $P_1 = a$, $P_2 = b$, $P_{N-1} = c$ and $P_N = d$\r\n\r\nIn order to find such indices, you may ask at most $Q$ questions. In each question, you should choose two integers $i$ and $j$ ($1 \\le i, j \\le N$); the grader compares the elements $A_i$ and $A_j$ and answers with $i$ if $A_i \\le A_j$, or with $j$ if $A_i \\gt A_j$.\r\n\r\nNote: The grader is adaptive, i.e. there is no initially fixed sequence $A$, but the grader chooses the answers to your questions in such a way that at any time, there is at least one sequence consistent with all the answers. The answer you choose should be correct for every sequence consistent with all the grader's answers. However, it is guaranteed that the grader is deterministic, i.e. its answers are uniquely determined by your questions.\r\n\r\n### Interaction\r\n- First, you should read a line containing a single integer $T$ denoting the number of test cases. The description of interaction for $T$ test cases follows.\r\n- For each test case, first, you should read a line containing a single integer $N$. If $N = -2$, it means that your answer to the previous test case was incorrect and your program should terminate immediately.\r\n- Then, you may ask questions.\r\n    - To ask a question, you should print a line containing three space-separated integers $1$, $i$ and $j$ ($1 \\le i, j \\le N$).\r\n    - Then, you should read a line containing a single integer $x$.\r\n    - If the question was invalid, then $x=-2$. Otherwise, $x$ is the answer to the question, i.e. $i$ if $A_i \\le A_j$ or $j$ otherwise.\r\n- When you have determined your answer, you should print a line containing five space-separated integers $2$, $a$, $b$, $c$ and $d$ ($1 \\le a, b, c, d \\le N$) that satisfy the conditions described above. If there are multiple possible solutions, you may find any one.\r\n- Whenever you read $-2$, your program should terminate immediately to receive the Wrong Answer verdict. Otherwise, you may receive any verdict.\r\n\r\n**Don't forget to flush the output after printing each line!**\r\n\r\n### Constraints\r\n- $1 \\le T \\le 5$\r\n- $4 \\le N \\le 1,000$\r\n\r\n### Subtasks\r\n**Subtask #1 (50 points):** $Q = 3N+20$\r\n\r\n**Subtask #2 (50 points):** $Q = \\lfloor \\frac{3}{2}N \\rfloor + 20$\r\n\r\n### Example\r\n```\r\nGrader                You\r\n1\r\n4\r\n                      1 1 2\r\n1\r\n                      1 2 1\r\n2\r\n                      1 1 3\r\n3\r\n                      1 1 4\r\n4\r\n                      1 3 4\r\n4\r\n                      2 4 3 1 2\r\n```\r\n\t\r\n### Explanation\r\n**Example case 1:** The hidden sequence is $A=[3, 3, 2, 1]$. Note that another possible solution is $a = 4$, $b = 3$, $c = 2$ and $d = 1$.\r\n","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"2","source_sizelimit":"50000","problem_author":"farhod_farmon","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span class='m-username--link'>farhod_farmon<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"2-10-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/farhod_farmon'>farhod_farmon<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/ltime80'>ltime80<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/observation'>observation<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/taran_1407'>taran_1407<\/a>","problem_difficulty_level":"Easy-Medium","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/MINMAXIN","time":{"view_start_date":1579971602,"submit_start_date":1579971602,"visible_start_date":1579971602,"end_date":1735669800,"current":1643797959},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=MINMAXIN","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"medium","status":"success","problem_code":"COWSHEDS","problem_name":"Kuroni and the Cowsheds","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/LTIME85\/hindi\/COWSHEDS.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME85\/bengali\/COWSHEDS.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/LTIME85\/mandarin\/COWSHEDS.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME85\/russian\/COWSHEDS.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME85\/vietnamese\/COWSHEDS.pdf) as well.\r\n\r\nKuroni is not only a great programmer, but also a successful farmer. He has already built $N$ cowsheds for his cows (numbered $1$ through $N$) and equipped them with air conditioners, refrigerators, etc. Despite these facilities and high quality food, the cows do not seem to be happy. Through research, Kuroni figured out that cows also need the Internet to communicate and chit-chat with each other. \r\n\r\nKuroni decided to build a LAN system of connections between his cowsheds. Initially, no connections between the cowsheds exist. Then, for $Q$ days (numbered $1$ through $Q$), Kuroni adds some direct connections without removing any previously added connections. For each valid $i$, on the $i$-th day, Kuroni adds direct bidirectional connections between pairs of cowsheds $(L_i, R_i), (L_i + 1, R_i - 1), \\ldots, (R_i, L_i)$, i.e. $(L_i + k, R_i - k)$ for each $0 \\le k \\le R_i - L_i$. (There may be multiple connections between some pairs of cowsheds. A cowshed may also be connected with itself.)\r\n\r\nTwo cowsheds are in the same *group* if they can communicate with each other either directly or indirectly \u2015 through connections with some other cowsheds. At the end of each day, tell Kuroni the number of groups of cowsheds that currently exist.\r\n\r\n### Input\r\n- The first line of the input contains two space-separated integers $N$ and $Q$.\r\n- $Q$ lines follow. For each valid $i$, the $i$-th of these lines contains two space-separated integers $L_i$ and $R_i$.\r\n\r\n### Output\r\nPrint $Q$ lines. For each valid $i$, the $i$-th of these lines should contain a single integer \u2015 the number of groups at the end of the $i$-th day.\r\n\r\n### Constraints\r\n- $2 \\le N \\le 2 \\cdot 10^5$\r\n- $1 \\le Q \\le 5 \\cdot 10^5$\r\n- $1 \\le L_i \\le R_i \\le N$ for each valid $i$\r\n\r\n### Subtasks\r\n**Subtask #1 (50 points):** $N, Q \\le 5,000$\r\n\r\n**Subtask #2 (50 points):** original constraints\r\n\r\n### Example Input 1\r\n```\r\n5 3\r\n3 5\r\n4 5\r\n2 3\r\n```\r\n\r\n### Example Output 1\r\n```\r\n4\r\n3\r\n2\r\n```\r\n\r\n### Example Input 2\r\n```\r\n7 3\r\n3 5\r\n3 7\r\n1 7\r\n```\r\n\r\n### Example Output 2\r\n```\r\n6\r\n4\r\n2\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** On the first, second and third day, one connection between cowsheds $(3, 5)$, $(4, 5)$ and $(2, 3)$ is added, respectively.\r\n\r\n**Example case 2:**\r\n- On the first day, only one connection between cowsheds $(3, 5)$ is added, so the number of group is $6$.\r\n- On the second day, connections between pairs of cowsheds $(3, 7)$ and $(4, 6)$ are added, so we now have four groups $\\{1\\}$, $\\{2\\}$, $\\{3, 5, 7\\}$ and $\\{4, 6\\}$.\r\n- On the third day, connections between pairs of cowsheds $(1, 7)$, $(2, 6)$ and $(3, 5)$ are added, so at the end, there are only two groups $\\{1, 3, 5, 7\\}$ and $\\{2, 4, 6\\}$.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/LTIME85\/hindi\/COWSHEDS.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME85\/bengali\/COWSHEDS.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/LTIME85\/mandarin\/COWSHEDS.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME85\/russian\/COWSHEDS.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME85\/vietnamese\/COWSHEDS.pdf) as well.\r\n\r\nKuroni is not only a great programmer, but also a successful farmer. He has already built $N$ cowsheds for his cows (numbered $1$ through $N$) and equipped them with air conditioners, refrigerators, etc. Despite these facilities and high quality food, the cows do not seem to be happy. Through research, Kuroni figured out that cows also need the Internet to communicate and chit-chat with each other. \r\n\r\nKuroni decided to build a LAN system of connections between his cowsheds. Initially, no connections between the cowsheds exist. Then, for $Q$ days (numbered $1$ through $Q$), Kuroni adds some direct connections without removing any previously added connections. For each valid $i$, on the $i$-th day, Kuroni adds direct bidirectional connections between pairs of cowsheds $(L_i, R_i), (L_i + 1, R_i - 1), \\ldots, (R_i, L_i)$, i.e. $(L_i + k, R_i - k)$ for each $0 \\le k \\le R_i - L_i$. (There may be multiple connections between some pairs of cowsheds. A cowshed may also be connected with itself.)\r\n\r\nTwo cowsheds are in the same *group* if they can communicate with each other either directly or indirectly \u2015 through connections with some other cowsheds. At the end of each day, tell Kuroni the number of groups of cowsheds that currently exist.\r\n\r\n### Input\r\n- The first line of the input contains two space-separated integers $N$ and $Q$.\r\n- $Q$ lines follow. For each valid $i$, the $i$-th of these lines contains two space-separated integers $L_i$ and $R_i$.\r\n\r\n### Output\r\nPrint $Q$ lines. For each valid $i$, the $i$-th of these lines should contain a single integer \u2015 the number of groups at the end of the $i$-th day.\r\n\r\n### Constraints\r\n- $2 \\le N \\le 2 \\cdot 10^5$\r\n- $1 \\le Q \\le 5 \\cdot 10^5$\r\n- $1 \\le L_i \\le R_i \\le N$ for each valid $i$\r\n\r\n### Subtasks\r\n**Subtask #1 (50 points):** $N, Q \\le 5,000$\r\n\r\n**Subtask #2 (50 points):** original constraints\r\n\r\n### Example Input 1\r\n```\r\n5 3\r\n3 5\r\n4 5\r\n2 3\r\n```\r\n\r\n### Example Output 1\r\n```\r\n4\r\n3\r\n2\r\n```\r\n\r\n### Example Input 2\r\n```\r\n7 3\r\n3 5\r\n3 7\r\n1 7\r\n```\r\n\r\n### Example Output 2\r\n```\r\n6\r\n4\r\n2\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** On the first, second and third day, one connection between cowsheds $(3, 5)$, $(4, 5)$ and $(2, 3)$ is added, respectively.\r\n\r\n**Example case 2:**\r\n- On the first day, only one connection between cowsheds $(3, 5)$ is added, so the number of group is $6$.\r\n- On the second day, connections between pairs of cowsheds $(3, 7)$ and $(4, 6)$ are added, so we now have four groups $\\{1\\}$, $\\{2\\}$, $\\{3, 5, 7\\}$ and $\\{4, 6\\}$.\r\n- On the third day, connections between pairs of cowsheds $(1, 7)$, $(2, 6)$ and $(3, 5)$ are added, so at the end, there are only two groups $\\{1, 3, 5, 7\\}$ and $\\{2, 4, 6\\}$.\r\n","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"4","source_sizelimit":"50000","problem_author":"rhymastic","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>rhymastic<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"25-06-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/disjoint-set-union'>disjoint-set-union<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/hashing'>hashing<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/ltime85'>ltime85<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium'>medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/rhymastic'>rhymastic<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/small-to-large'>small-to-large<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/taran_1407'>taran_1407<\/a>","problem_difficulty_level":"Medium","user_zen_mode":false,"best_tag":"Disjoint Set Union","editorial_url":"https:\/\/discuss.codechef.com\/problems\/COWSHEDS","time":{"view_start_date":1593277202,"submit_start_date":1593277202,"visible_start_date":1593277202,"end_date":1735669800,"current":1643797936},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=COWSHEDS","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"medium","status":"success","problem_code":"AMROOK","problem_name":"Rook Placement","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><p style=\"text-align:justify\"><b>Chef<\/b> and <b>Sous Chef<\/b> are playing a game. There are <b>N rooks<\/b> right next to a chessboard. The chessboard has <b>R<\/b> rows and <b>C<\/b> columns. The rows are numbered from <b>1<\/b> to <b>R<\/b> from top to bottom. The columns are numbered from <b>1<\/b> to <b>C<\/b> from left to right.<\/p>\n<p style=\"text-align:justify\">Chef will place the <b>N<\/b> rooks within the <b>R<\/b>*<b>C<\/b> cells of the chessboard. <b>He may keep multiple rooks on the same cell<\/b>. You may assume that each cell is large enough to hold all of the <b>N<\/b> rooks. After placing the <b>N<\/b> rooks, some of the cells may remain empty.<\/p>\n<p style=\"text-align:justify\">Note that not all possible placements of rooks within the <b>R*C<\/b> cells are <b>valid<\/b>. <b>If there is a rook at cell (r, c) then there should be no rooks in the cells (u, v)<\/b> where <b>u &lt; r AND v > c<\/b>.<\/p>\n<p style=\"text-align:justify\">Following the Chef's placement of the rooks, the Sous Chef will make an <b>unlimited number of moves<\/b> - including, of course, the possibility of <b>no move at all<\/b>. In each move he may move a rook to <b>one cell up<\/b> or <b>one cell left<\/b> of its position. He cannot move a rook out of the chessboard. At the end of all the moves (<b>i.e. not necessarily at the end of each move, but at the end of all of them<\/b>), Sous Chef must also ensure that the board is <b>valid<\/b> according to the condition given above.<\/p>\n<p style=\"text-align:justify\">The Sous Chef will win, if he can move the rooks into a valid arrangement where <b>no pairs of rooks attack each other<\/b>. In other words, into a valid arrangement where <b>no pairs of rooks share the same row or the same column<\/b>.<\/p>\n<p style=\"text-align:justify\">Chef, being Chef - having such wonderful cooks for his advantage - has asked you to count the number of <b>valid<\/b> ways he can place <b>N<\/b> rooks in a chessboard with <b>R<\/b> rows and <b>C<\/b> columns such that the Sous Chef <b>cannot win<\/b>. 2 initial arrangements are considered different if there is at least one cell that contains different number of rooks.<\/p>\n<h3>Input<\/h3>\n<p style=\"text-align:justify\">The first line of the input contains an integer <b>T<\/b> denoting the number of test cases. The description of <b>T<\/b> test cases follows. Each test case contains 3 integers <b>R<\/b>, <b>C<\/b> and <b>N<\/b> respectively.<\/p>\n<h3>Output<\/h3>\n<p style=\"text-align:justify\">For each test case, output a single line containing the number of <b>valid<\/b> (see the problem statement for the definition of valid) ways Chef can place the rooks such that Sous Chef cannot win. Since this number can be quite large, print the number modulo <b>10007<\/b>.<\/p>\n<h3>Constraints<\/h3>\n<p><b>1 \u2264 T \u2264 1000<\/b><br \/>\n<b>1 \u2264 R \u2264 10<sup>15<\/sup><\/b><br \/>\n<b>1 \u2264 C \u2264 10<sup>15<\/sup><\/b><br \/>\n<b>1 \u2264 N \u2264 10<sup>15<\/sup><\/b><\/p>\n<h3>Sample<\/h3>\n<pre>\n<b>Input:<\/b>\n4\n2 2 1\n2 2 2\n3 2 2\n3 3 2\n\n<b>Output:<\/b>\n0\n5\n8\n11\n\n<\/pre><h3>Explanation<\/h3>\n<p style=\"text-align:justify\"><b>Test Case 1:<\/b> Chef has to place a single rook on a 2*2 board. Of course the Sous Chef can always make sure that the rooks are not under attack from each other (since there is only 1). Hence the Chef cannot place the rook in any way in which the Sous Chef may not win.<\/p>\n<p style=\"text-align:justify\"><b>Test Case 2:<\/b> There are 9 ways the chef can place the rooks initially. The ways that are marked in bold below are those in which the Sous Chef cannot win. The notation used below is simply the number of rooks placed on each of the 2*2 cells.<\/p>\n<pre>\n<b>1 1\n0 0<\/b>\n\n<b>1 0\n1 0<\/b>\n\n1 0\n0 1\n\n0 1\n0 1\n\n0 0\n1 1\n\n<b>2 0\n0 0<\/b>\n\n<b>0 2\n0 0<\/b>\n\n<b>0 0\n2 0<\/b>\n\n0 0\n0 2\n<\/pre><p style=\"text-align:justify\">Note that the following way to place the rooks was invalid.<\/p>\n<pre>\n0 1\n1 0\n<\/pre>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"satej ","problem_author_html_handle":"satej","problem_tester":"gamabunta","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #666666;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>1&#9733;<\/span><span>gamabunta<\/span>","date_added":"8-05-2013","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/combinatorics'>\n                    combinatorics\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/cook34'>\n                    cook34\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium'>\n                    medium\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/satej '>\n                    satej \n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/AMROOK","user":{"username":null},"time":{"view_start_date":1368988200,"submit_start_date":1368988200,"visible_start_date":1368988200,"end_date":1735669800,"current":1493557447},"todo":false,"problem_status":"unattempted"}
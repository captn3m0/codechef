{"category_name":"medium","status":"success","problem_code":"WEASELTX","problem_name":"Weasel does Xor on Tree","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3>Read problems statements in <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/SEPT17\/mandarin\/WEASELTX.pdf\">mandarin chinese<\/a>, <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/SEPT17\/russian\/WEASELTX.pdf\">russian<\/a> and <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/SEPT17\/vietnamese\/WEASELTX.pdf\">vietnamese<\/a> as well.<\/h3>\n\n<p>A tree is an undirected graph in which each pair of vertices is connected to each other by exactly one path. Weasel has a tree with <b>N<\/b> nodes. The indexing of the nodes is <b>0<\/b>-based and the tree is rooted at node <b>0<\/b>. Every node <b>i<\/b> has an initial value <b>X<sub>0<sub>i<\/sub><\/sub><\/b>.<\/p>\n\n<p>Every day <b>d > 0<\/b>, he performs the following operations, starting from the root:<\/p>\n<ul>\n<li>Weasel computes <b>X<sub>d<sub>u<\/sub><\/sub><\/b> as the bitwise-xor sum of all the values <b>X<sub>d \u2212 1<sub>v<\/sub><\/sub><\/b> for a node <b>v<\/b> in <b>u<\/b>'s subtree.<\/li>\n<li>He recursively proceeds to perform the operation for every child of <b>u<\/b>.\n<\/ul>\n<\/p>\n\n<p>For <b>Q<\/b> values of <b>\u0394<\/b>, Weasel wants to compute <b>X<sub>\u0394<sub>0<\/sub><\/sub><\/b>.<\/p>\n\n<h3>Input<\/h3>\n<p>The first line of the input contains two integers <b>N<\/b> and <b>Q<\/b>.<\/p>\n<p>Each of the following <b>N \u2212 1<\/b> lines contains two integers, <b>u<\/b> and <b>v<\/b>, an edge in the tree.<\/p>\n<p>On the following line there are <b>N<\/b> integers, representing the <b>X<sub>0<\/sub><\/b> array.<\/p>\n<p>Each of the next <b>Q<\/b> lines contains values for <b>\u0394<\/b> as noted in the statement.<\/p>\n\n<h3>Output<\/h3>\n<p>You should print <b>Q<\/b> lines, each containing <b>X<sub>\u0394<sub>0<\/sub><\/sub><\/b>.<\/p>\n\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1<\/b> \u2264 <b>N, Q<\/b> \u2264 <b>2 * 10<sup>5<\/sup><\/b><\/li>\n<li><b>0<\/b> \u2264 <b>X<sub>0<sub>i<\/sub><\/sub><\/b> \u2264 <b>10<sup>18<\/sup><\/b> for every <b>0<\/b> \u2264 <b>i<\/b> \u2264 <b>N \u2212 1<\/b>.<\/li>\n<li><b>0<\/b> \u2264 <b>\u0394<\/b> \u2264 <b>10<sup>18<\/sup><\/b><\/li>\n<li><b>0<\/b> \u2264 <b>u, v<\/b> \u2264 <b>N \u2212 1<\/b><\/li>\n<\/ul>\n\n<h3>Subtasks<\/h3>\n<ul>\n<li><b>Subtask 1<\/b> (20 points): <b>1<\/b> \u2264 <b>N<\/b> \u2264 <b>500<\/b> and <b>\u0394<\/b> \u2264 <b>500<\/b><\/li>\n<li><b>Subtask 2<\/b> (20 points): <b>1<\/b> \u2264 <b>N<\/b> \u2264 <b>1000<\/b> and <b>1<\/b> \u2264 <b>N \u00d7 Q<\/b> \u2264 <b>10<sup>6<\/sup><\/b><\/li>\n<li><b>Subtask 3<\/b> (10 points): <b>1<\/b> \u2264 <b>N<\/b> \u2264 <b>5000<\/b><\/li>\n<li><b>Subtask 4<\/b> (50 points): original constraints<\/li>\n<\/ul>\n\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n4 3\n0 1\n1 2\n0 3\n1 5 8 7\n1\n2\n3\n\n<b>Output:<\/b>\n11\n9\n3\n<\/pre>\n\n<h3>Explanation<\/h3>\n<p>Initially <b>X<sub>0<\/sub> = [1, 5, 8, 7]<\/b>.<\/p>\n<p>Weasel performs his operation on node <b>0<\/b>:\n <b>X<sub>1<sub>0<\/sub><\/sub><\/b> = <b>X<sub>0<sub>0<\/sub><\/sub><\/b> xor <b>X<sub>0<sub>1<\/sub><\/sub><\/b> xor <b>X<sub>0<sub>2<\/sub><\/sub><\/b> xor <b>X<sub>0<sub>3<\/sub><\/sub><\/b> = <b>1<\/b> xor <b>5<\/b> xor <b>8<\/b> xor <b>7<\/b> = <b>11<\/b>. <\/p>\n<p><b>X<sub>1<sub>1<\/sub><\/sub><\/b> = <b>X<sub>0<sub>1<\/sub><\/sub><\/b> xor <b>X<sub>0<sub>2<\/sub><\/sub><\/b>  = <b>5<\/b> xor <b>8<\/b> = <b>13<\/b>.<\/p>\n<p>\n<b>X<sub>1<sub>2<\/sub><\/sub><\/b> and <b>X<sub>1<sub>3<\/sub><\/sub><\/b> remain equal to <b>X<sub>0<sub>2<\/sub><\/sub><\/b>, respectively <b>X<sub>0<sub>3<\/sub><\/sub><\/b>.<\/p>\n<\/p>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 6.3, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, kotlin, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.5, RUBY, rust, SCALA, SCM chicken, SCM guile, SCM qobi, ST, swift, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"bciobanu","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>bciobanu<\/span>","problem_tester":"jingbo_adm","problem_tester_html_handle":"jingbo_adm","date_added":"9-08-2017","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/bciobanu'>\n                    bciobanu\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/binomial'>\n                    binomial\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/lucas-theorem'>\n                    lucas-theorem\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>\n                    medium-hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/sept17'>\n                    sept17\n                <\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/WEASELTX","time":{"view_start_date":1505122200,"submit_start_date":1505122200,"visible_start_date":1505122200,"end_date":1735669800,"current":1514816840},"user":{"username":null},"todo":false,"problem_status":"unattempted"}
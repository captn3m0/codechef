{"category_name":"medium","status":"success","problem_code":"CARDLINE","problem_name":"Chef and the Cards","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/COOK61\/mandarin\/CARDLINE.pdf\">Mandarin Chinese<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/COOK61\/russian\/CARDLINE.pdf\">Russian<\/a> as well.<\/h3>\n<p>There are <b>N<\/b> cards placed in a row, where every card has two numbers written on it, one on the top and<br \/>\none on the bottom. The numbers are between <b>1<\/b> and <b>N<\/b> (both inclusive). Every number is written on the top of exactly one card, and on the bottom of exactly one card as well.\n<\/p>\n<p>Chef wants to rearrange the cards, such that the length of the longest common contiguous subsequence between the sequence formed by number written on top of the cards, and that formed by those written on the bottom is maximum. He can't modify the numbers written on any card and can't flip the cards, that is, for any card the number written on top remains at the top and the number written on bottom stays at the bottom. Find out the maximum possible length of the common contiguous subsequence.\n<\/p>\n<h3>Input<\/h3>\n<p>The first line of input contains an integer <b>T<\/b> denoting the number of test cases. <\/p>\n<ul>\n<li>The first line of each test<br \/>\ncase contains an integer <b>N<\/b>.<\/li>\n<li>The next line contains <b>N<\/b> space separated  integers <b>A<sub>1<\/sub>,  A<sub>2<\/sub>, ... , A<sub>N<\/sub><\/b>, where <b>A<sub>i<\/sub><\/b>(<b>1<\/b> \u2264 <b>i<\/b> \u2264 <b>N<\/b>) is the number written on the top of the <b>i<\/b>-th card.<\/li>\n<li>The next line contains <b>N<\/b> space separated  integers <b>B<sub>1<\/sub>,  B<sub>2<\/sub>, ... , B<sub>N<\/sub><\/b>, where <b>B<sub>i<\/sub><\/b>(<b>1<\/b> \u2264 <b>i<\/b> \u2264 <b>N<\/b>) is the number written at the bottom of the  <b>i<\/b>-th card. <\/li>\n<\/ul>\n<h3>Output<\/h3>\n<p>For each test case, output a single line containing the integer <b>L<\/b>: the maximum length of the longest common contiguous subsequence.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1<\/b> \u2264 <b>T<\/b> \u2264 <b> 100 <\/b><\/li>\n<li><b>1<\/b> \u2264 <b>N<\/b> \u2264 <b> 2000 <\/b><\/li>\n<li><b>1<\/b> \u2264 <b>A<sub>i<\/sub>, B<sub>i<\/sub><\/b> \u2264 <b> N <\/b><\/li>\n<li>All the elements in both arrays <b>A<\/b> and <b>B<\/b> are distinct.<\/li>\n<\/ul>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n2\n3\n1 3 2\n2 1 3\n8\n3 8 4 2 6 1 5 7\n5 2 4 3 8 7 6 1\n\n<b>Output:<\/b>\n2\n4\n<\/pre><h3>Explanation<\/h3>\n<p>\n<b>First Example : <\/b> <br\/><br \/>\nOne of the possible card arrangements is: <br \/>\n1 2 3 <br \/>\n2 3 1 <\/br\/><\/p>\n<p>Length of the longest common contiguous subsequence between [1, 2, 3] and [2, 3, 1] is 2, [2, 3]. And that's the maximum possible, so answer is 2.\n<\/p>\n<p>\n<b>Second Example: <\/b> <br\/><br \/>\nOne of the possible card arrangements is : <br\/><br \/>\n7 3 2 8 6 5 4 1 <br\/><br \/>\n1 5 3 2 8 6 4 7 <br\/><\/br\/><\/br\/><\/br\/><\/br\/><\/p>\n<p>The longest common contiguous subsequence has length 4 [3, 2, 8, 6] here. There is no way to arrange these cards such that it's more than 4.\n<\/p>\n<h3>Note<\/h3>\n<p>Let <b>L<\/b> be the answer. Let <b>C<sub>i<\/sub><\/b> be the value written on the top of the card at <b>i<\/b><sup>th<\/sup> position and <b>D<sub>i<\/sub><\/b> be the value written on the bottom of the card at <b>i<\/b><sup>th<\/sup> position after rearranging. Then, there should be a pair <b>(x, y)<\/b> (<b>1 \u2264 x,y \u2264 N-L+1<\/b>) such that the condition  <b>C<sub>x+j<\/sub><\/b> = <b>D<sub>y+j<\/sub><\/b> is satisfied for all <b>j<\/b>, where <b>0 \u2264 j &lt; L<\/b>. <\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"rustinpiece","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #1E7D22;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>2&#9733;<\/span><span>rustinpiece<\/span>","problem_tester":"iscsi","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>iscsi<\/span>","date_added":"31-07-2015","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cook61'>\n                    cook61\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/dynamic-programming'>\n                    dynamic-programming\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/graphs'>\n                    graphs\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/greedy'>\n                    greedy\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>\n                    medium-hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/rustinpiece'>\n                    rustinpiece\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/CARDLINE","user":{"username":null},"time":{"view_start_date":1440357545,"submit_start_date":1440357545,"visible_start_date":1440357600,"end_date":1735669800,"current":1493557499},"todo":false,"problem_status":"unattempted"}
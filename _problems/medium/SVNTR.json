{"category_name":"medium","status":"success","problem_code":"SVNTR","problem_name":"Save the nature","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME29\/mandarin\/SVNTR.pdf\">Mandarin Chinese <\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME29\/russian\/SVNTR.pdf\">Russian<\/a><\/h3>\n\n\n<p>The new king of Byteland, John-2318, has just ascended the throne. As every new king, he wants to build a spectacular palace to showcase his wealth and power.<\/p>\n\n<p>We can consider Byteland as an <b>N x M<\/b> rectangular matrix <b>A<\/b>. If <b>A[i][j]<\/b> is positive, then it means that <b>A[i][j]<\/b> litres of oxygen are produced by trees in the cell with coordinates <b>(i, j)<\/b> every day. On the other hand, a negative value of <b>A[i][j]<\/b> indicates that a Byteland resident lives in this cell, who consumes <b>A[i][j]<\/b> litres of oxygen every day.<\/p>\n\n<p>The palace will occupy some rectangle submatrix of <b>A<\/b>. All the cells within the palace premises will not produce nor consume any oxygen.<\/p>\n\n<p>Byteland scientists discovered the new important fact: if Byteland will be producing <b>S<\/b> less litres of oxygen every day than it produces now, it will lead to a natural disaster. So now everyone is interested in the following question: how many ways exist for choosing a rectangular region for the planned palace?<\/p>\n\n<h3>Input<\/h3>\n<p>The first line contains one integer <b>T<\/b> denoting the number of testcases.<\/p>\n<p>Each testcase starts with a line containing three space-separated integers <b>N<\/b>, <b>M<\/b>, and <b>S<\/b>. The following <b>N<\/b> lines contain <b>M<\/b> integers each and describe the cells of the matrix <b>A<\/b>.<\/p>\n\n<h3>Output<\/h3>\n<p>For each testcase, output a single line containing one integer - the number of rectangles where the palace can be built without causing a disaster.<\/p>\n\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1<\/b> \u2264 <b>T<\/b> \u2264 <b>10<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>N, M<\/b> \u2264 <b>150<\/b><\/li>\n<li><b>-10<sup>9<\/sup><\/b> \u2264 <b>A[i][j]<\/b> \u2264 <b>10<sup>9<\/sup><\/b><\/li>\n<li><b>1<\/b> \u2264 <b>S<\/b> \u2264 <b>10<sup>9<\/sup><\/b><\/li>\n<\/ul>\n<p> <\/p>\n\n<h3>Subtasks<\/h3>\n<ul>\n<li>Subtask 1 (27 points) <b>1<\/b> \u2264 <b>N, M<\/b> \u2264 <b>20<\/b>, <b>time limit = 1 sec<\/b><\/li>\n<li>Subtask 2 (30 points) <b>1<\/b> \u2264 <b>N, M<\/b> \u2264 <b>50<\/b>, <b>time limit = 1 sec<\/b><\/li>\n<li>Subtask 3 (43 points) <b>1<\/b> \u2264 <b>N, M<\/b> \u2264 <b>150<\/b>, <b>time limit = 3 sec<\/b><\/li>\n\n<\/ul>\n<p> <\/p>\n\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n<tt>2\n2 3 7\n1 2 3\n4 5 6\n3 3 12\n3 3 3\n4 4 4\n3 3 3<\/tt>\n\n<b>Output:<\/b>\n<tt>11\n27<\/tt>\n<\/pre>\n<p> <\/p>\n\n<h3>Explanation<\/h3>\n<p><b>Test case 1<\/b>: we have the following matrix <b>A<\/b>:<br>\n<tt>1 2 3<br>\n4 5 6<\/tt>\n<\/p>\n\n<p>There are 11 rectangular submatrices with sum \u2264 <b>S = 7<\/b>: all the 6 cells themselves, 2 columns (the left and the middle), 1 row (the first), and 2 segments in the first row of length 2 each.<\/p>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1 - 3","source_sizelimit":"50000","problem_author":"pavel1996","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;<\/span><span>pavel1996<\/span>","problem_tester":"xcwgf666","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>xcwgf666<\/span>","date_added":"26-09-2015","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/fenwick'>\n                    fenwick\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/ltime29'>\n                    ltime29\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium'>\n                    medium\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/mergesort'>\n                    mergesort\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/pavel1996'>\n                    pavel1996\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/SVNTR","user":{"username":null},"time":{"view_start_date":1445761800,"submit_start_date":1445761800,"visible_start_date":1445761800,"end_date":1735669800,"current":1493557938},"todo":false,"problem_status":"unattempted"}
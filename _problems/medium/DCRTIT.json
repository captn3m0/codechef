{"category_name":"medium","status":"success","problem_code":"DCRTIT","problem_name":"Decorate It","body":"### Read problems statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/COOK113\/hindi\/DCRTIT.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK113\/mandarin\/DCRTIT.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK113\/russian\/DCRTIT.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK113\/vietnamese\/DCRTIT.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK113\/bengali\/DCRTIT.pdf) as well.\r\n\r\nSince it's almost Christmas, Dr.D wants to get in \"That Christmas Feeling\". As the first step, he's going to decorate his home. Since he's out of Christmas decorations, he must go buy some at the mall. There are exactly $K$ types of Christmas decorations and Dr.D wants to buy exactly one decoration of each type.\r\n\r\nThe mall can be viewed as a sequence of $N$ shops (numbered $1$ through $N$) in a straight line. For each valid $i$, the $i$-th shop is located at the point $P_i$, it sells only decorations of the type $D_i$ and it is only open in the time interval $[L_i, R_i]$. Dr.D wants to choose a point inside the mall, park his car there and start shopping for $K$ decorations. Since decorations are rather heavy, whenever Dr.D buys a decoration, he must load it into the car before buying another one. Shopping and moving around the mall (with or without decorations) does not take any time, but bringing heavy decorations back to the car still takes a lot of effort, so Dr.D would like to minimise the total distance he needs to walk with decorations.\r\n\r\nYou should answer $Q$ queries. In each query, you are given two integers $X$ and $T$ - Dr.D parks at the point $X$ in the mall at time $T$, and you should find the minimum distance Dr.D needs to walk with decorations. However, if it is impossible to buy one decoration of each type or if Dr.D would have to wait for some shops to open in order to do that, he will go back home and destroy Christmas. We know that Dr.D is extremely smart, so he will choose the shops to buy decorations from optimally.\r\n\r\n### Input\r\n- The first line of the input contains three space-separated integers $N$, $Q$ and $K$.\r\n- $N$ lines follow. For each valid $i$ ($1 \\le i \\le N$), the $i$-th of these lines contains four space-separated integers $P_i$, $D_i$, $L_i$ and $R_i$.\r\n- Each of the next $Q$ lines contains two space-separated integers $X$ and $T$ describing a query.\r\n\r\n### Output\r\nFor each query, print a single line containing one integer - the minimum distance Dr.D needs to walk with decorations, or $-1$ if Dr.D destroys Christmas.\r\n\r\n### Constraints \r\n- $1 \\le N, Q \\le 3 \\cdot 10^5$\r\n- $1 \\le K \\le N$\r\n- $1 \\le D_i \\le K$ for each valid $i$\r\n- $1 \\le P_i \\le 10^9$ for each valid $i$\r\n- $1 \\le L_i \\le R_i \\le 10^9$ for each valid $i$\r\n- $1 \\le X, T \\le 10^9$\r\n\r\n### Example Input\r\n```\r\n3 5 2\r\n4 1 3 8\r\n7 2 1 13\r\n9 1 5 7\r\n8 5\r\n8 8\r\n5 7\r\n3 2\r\n2 6\r\n```\r\n\r\n### Example Output\r\n```\r\n2\r\n5\r\n3\r\n-1\r\n7\r\n```\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problems statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/COOK113\/hindi\/DCRTIT.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK113\/mandarin\/DCRTIT.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK113\/russian\/DCRTIT.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK113\/vietnamese\/DCRTIT.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK113\/bengali\/DCRTIT.pdf) as well.\r\n\r\nSince it's almost Christmas, Dr.D wants to get in \"That Christmas Feeling\". As the first step, he's going to decorate his home. Since he's out of Christmas decorations, he must go buy some at the mall. There are exactly $K$ types of Christmas decorations and Dr.D wants to buy exactly one decoration of each type.\r\n\r\nThe mall can be viewed as a sequence of $N$ shops (numbered $1$ through $N$) in a straight line. For each valid $i$, the $i$-th shop is located at the point $P_i$, it sells only decorations of the type $D_i$ and it is only open in the time interval $[L_i, R_i]$. Dr.D wants to choose a point inside the mall, park his car there and start shopping for $K$ decorations. Since decorations are rather heavy, whenever Dr.D buys a decoration, he must load it into the car before buying another one. Shopping and moving around the mall (with or without decorations) does not take any time, but bringing heavy decorations back to the car still takes a lot of effort, so Dr.D would like to minimise the total distance he needs to walk with decorations.\r\n\r\nYou should answer $Q$ queries. In each query, you are given two integers $X$ and $T$ - Dr.D parks at the point $X$ in the mall at time $T$, and you should find the minimum distance Dr.D needs to walk with decorations. However, if it is impossible to buy one decoration of each type or if Dr.D would have to wait for some shops to open in order to do that, he will go back home and destroy Christmas. We know that Dr.D is extremely smart, so he will choose the shops to buy decorations from optimally.\r\n\r\n### Input\r\n- The first line of the input contains three space-separated integers $N$, $Q$ and $K$.\r\n- $N$ lines follow. For each valid $i$ ($1 \\le i \\le N$), the $i$-th of these lines contains four space-separated integers $P_i$, $D_i$, $L_i$ and $R_i$.\r\n- Each of the next $Q$ lines contains two space-separated integers $X$ and $T$ describing a query.\r\n\r\n### Output\r\nFor each query, print a single line containing one integer - the minimum distance Dr.D needs to walk with decorations, or $-1$ if Dr.D destroys Christmas.\r\n\r\n### Constraints \r\n- $1 \\le N, Q \\le 3 \\cdot 10^5$\r\n- $1 \\le K \\le N$\r\n- $1 \\le D_i \\le K$ for each valid $i$\r\n- $1 \\le P_i \\le 10^9$ for each valid $i$\r\n- $1 \\le L_i \\le R_i \\le 10^9$ for each valid $i$\r\n- $1 \\le X, T \\le 10^9$","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"3 5 2\r\n4 1 3 8\r\n7 2 1 13\r\n9 1 5 7\r\n8 5\r\n8 8\r\n5 7\r\n3 2\r\n2 6","output":"2\r\n5\r\n3\r\n-1\r\n7","explanation":"","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"4","source_sizelimit":"50000","problem_author":"kmaaszraa","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span class='m-username--link'>kmaaszraa<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"20-12-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cook113'>cook113<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/data-structure'>data-structure<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/kmaaszraa'>kmaaszraa<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/kmaaszraa'>kmaaszraa<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>medium-hard<\/a>","problem_difficulty_level":"Medium-Hard","user_zen_mode":false,"best_tag":"Medium Hard","editorial_url":"https:\/\/discuss.codechef.com\/problems\/DCRTIT","time":{"view_start_date":1577041202,"submit_start_date":1577041202,"visible_start_date":1577041202,"end_date":1735669800,"current":1643797936},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=DCRTIT","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"medium","status":"success","problem_code":"GQR","problem_name":"Queries with GCD","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3>Read problems statements in <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/LTIME58\/mandarin\/GQR.pdf\">Mandarin chinese<\/a>, <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/LTIME58\/russian\/GQR.pdf\">Russian<\/a> and <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/LTIME58\/vietnamese\/GQR.pdf\">Vietnamese<\/a> as well.<\/h3>\n\n<p>\nYou are given a sequence <b>A<\/b> with <b>N<\/b> elements and <b>Q<\/b> queries on this sequence. In each query, you are given two indices <b>L<\/b> and <b>R<\/b>; you should compute the maximum value of the <a href=\"https:\/\/en.wikipedia.org\/wiki\/Greatest_common_divisor\">greatest common divisor<\/a> (GCD) of two elements <b>A<sub>x<\/sub><\/b>, <b>A<sub>y<\/sub><\/b> satisfying <b>L<\/b> \u2264 <b>x<\/b> &lt; <b>y<\/b> \u2264 <b>R<\/b>.\n<\/p>\n\n<h3>Input<\/h3>\n<ul>\n<li>The first line of the input contains two space-separated integers <b>N<\/b> and <b>Q<\/b>.<\/li>\n<li>The second line contains <b>N<\/b> space-separated integers <b>A<sub>1<\/sub>, A<sub>2<\/sub>, ..., A<sub>N<\/sub><\/b>.<\/li>\n<li>Each of the following <b>Q<\/b> lines contains two space-separated integers <b>L<\/b> and <b>R<\/b> describing one query.<\/li>\n<\/ul>\n\n<h3>Output<\/h3>\n<p>For each query, print a single line containing the maximum GCD.<\/p>\n\n<h3>Constraints<\/h3>\n<ul>\n<li>1 \u2264 <b>N<\/b> \u2264 10<sup>4<\/sup><\/li>\n<li>1 \u2264 <b>Q<\/b> \u2264 5 \u00b7 10<sup>5<\/sup><\/li>\n<li>1 \u2264 <b>A<sub>i<\/sub><\/b> \u2264 10<sup>8<\/sup> for each valid <b>i<\/b><\/li>\n<li>1 \u2264 <b>L<\/b> &lt; <b>R<\/b> \u2264 <b>N<\/b><\/li>\n<\/ul>\n\n<h3>Subtasks<\/h3>\n\n<p>\n<b>Subtask #1 (25 points):<\/b> <b>N<\/b> \u2264 200\n<\/p>\n\n<p>\n<b>Subtask #2 (25 points):<\/b> <b>A<sub>i<\/sub><\/b> \u2264 1,000 for each valid <b>i<\/b>\n<\/p>\n\n<p>\n<b>Subtask #3 (50 points):<\/b> original constraints\n<\/p>\n\n<h3>Example<\/h3>\n<pre>\n<b>Input:<\/b>\n\n4 6\n4 2 1 8\n1 2\n1 3\n1 4\n2 3\n2 4\n3 4\n\n<b>Output:<\/b>\n\n2\n2\n4\n1\n2\n1\n<\/pre>\n\n<h3>Explanation<\/h3>\n\n<p>The answers to the queries are GCDs of the following pairs:\n<ul>\n<li>query 1: GCD(<b>A<sub>1<\/sub><\/b>, <b>A<sub>2<\/sub><\/b>) = 2<\/li>\n<li>query 2: GCD(<b>A<sub>1<\/sub><\/b>, <b>A<sub>2<\/sub><\/b>) = 2<\/li>\n<li>query 3: GCD(<b>A<sub>1<\/sub><\/b>, <b>A<sub>4<\/sub><\/b>) = 4<\/li>\n<li>query 4: GCD(<b>A<sub>2<\/sub><\/b>, <b>A<sub>3<\/sub><\/b>) = 1<\/li>\n<li>query 5: GCD(<b>A<sub>2<\/sub><\/b>, <b>A<sub>4<\/sub><\/b>) = 2<\/li>\n<li>query 6: GCD(<b>A<sub>3<\/sub><\/b>, <b>A<sub>4<\/sub><\/b>) = 1<\/li>\n<\/ul>\n<\/p>\n","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.5, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, CLOJ, COB, FS","max_timelimit":"2","source_sizelimit":"50000","problem_author":"mgch","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>mgch<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"11-12-2017","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/dynamic-programming'>dynamic-programming<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/gcd'>gcd<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/ltime58'>ltime58<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium'>medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/mgch'>mgch<\/a>","time":{"view_start_date":1522602000,"submit_start_date":1522602000,"visible_start_date":1522602000,"end_date":1735669800,"current":1525454448},"user":{"username":""},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}
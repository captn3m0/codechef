{"category_name":"medium","status":"success","problem_code":"MKIT","problem_name":"Make It","body":"### Read problems statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/COOK113\/hindi\/MKIT.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK113\/mandarin\/MKIT.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK113\/russian\/MKIT.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK113\/vietnamese\/MKIT.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK113\/bengali\/MKIT.pdf) as well.\r\n\r\nRoger is the mayor of a city with $N$ citizens (numbered $1$ through $N$). On each day, each citizen has to pay a tax; let's denote the tax paid by the $i$-th citizen by $A_i$.\r\n\r\nOne day, Roger was extremely bored, so he decided to start a return-tax-for-fun program. The program is simple: on each day, Roger picks some non-empty group of citizens and returns to them the taxes they paid that day. However, picking some random citizens is not very fun, and Roger has always been fond of the number $K$ and its multiples, so he decided to only pick groups of citizens such that the product of the taxes returned to them is a multiple of $K$. Among all such choices, he picks a group which minimises the sum of the returned taxes (he does not want to waste too much money).\r\n\r\nWe know that Roger is a moody person. Sometimes, he chooses two integers $1 \\le L \\le R \\le N$ and decides that he will not consider the citizens numbered $L$ through $R$ for the return-tax-for-fun program, i.e. the sum of returned taxes should be the smallest possible among all groups that do not contain any of these citizens. Roger told Melanie, his secretary, to do all the work and report to him the smallest sum of taxes that should be returned. Now, Melanie is looking for your help.\r\n\r\nYou should answer $Q$ queries. In each query, you are given the integers $L$ and $R$ and you should compute the smallest sum of taxes that should be returned or determine that there is no way to choose a group of citizens such that the product of the taxes returned to them is a multiple of $K$. Note that the queries are independent \u2014 a citizen that is not considered for the return-tax-for-fun program in one query may be considered for the program again in subsequent queries.\r\n\r\n### Input\r\n- The first line of the input contains three space-separated integers $N$, $Q$ and $K$.\r\n- The second line contains $N$ space-separated integers $A_1, A_2, \\ldots, A_N$.\r\n- $Q$ lines follow. Each of these lines contains two space-separated integers $L$ and $R$ describing a query.\r\n\r\n### Output\r\nFor each query, print a single line containing one integer \u2014 the smallest returned sum, or $-1$ if it is impossible to pick a valid group of citizens.\r\n\r\n### Constraints\r\n- $1 \\le N, Q \\le 10^5$\r\n- $1 \\le K \\le 10^8$\r\n- $1 \\le A_i \\le 10^8$ for each valid $i$\r\n- $1 \\le L \\le R \\le N$\r\n\r\n### Example Input\r\n```\r\n5 5 24\r\n6 3 12 2 8\r\n3 3\r\n2 4\r\n3 4\r\n1 3\r\n2 2\r\n```\r\n\r\n### Example Output\r\n```\r\n11\r\n14\r\n11\r\n-1\r\n14\r\n```\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problems statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/COOK113\/hindi\/MKIT.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK113\/mandarin\/MKIT.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK113\/russian\/MKIT.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK113\/vietnamese\/MKIT.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK113\/bengali\/MKIT.pdf) as well.\r\n\r\nRoger is the mayor of a city with $N$ citizens (numbered $1$ through $N$). On each day, each citizen has to pay a tax; let's denote the tax paid by the $i$-th citizen by $A_i$.\r\n\r\nOne day, Roger was extremely bored, so he decided to start a return-tax-for-fun program. The program is simple: on each day, Roger picks some non-empty group of citizens and returns to them the taxes they paid that day. However, picking some random citizens is not very fun, and Roger has always been fond of the number $K$ and its multiples, so he decided to only pick groups of citizens such that the product of the taxes returned to them is a multiple of $K$. Among all such choices, he picks a group which minimises the sum of the returned taxes (he does not want to waste too much money).\r\n\r\nWe know that Roger is a moody person. Sometimes, he chooses two integers $1 \\le L \\le R \\le N$ and decides that he will not consider the citizens numbered $L$ through $R$ for the return-tax-for-fun program, i.e. the sum of returned taxes should be the smallest possible among all groups that do not contain any of these citizens. Roger told Melanie, his secretary, to do all the work and report to him the smallest sum of taxes that should be returned. Now, Melanie is looking for your help.\r\n\r\nYou should answer $Q$ queries. In each query, you are given the integers $L$ and $R$ and you should compute the smallest sum of taxes that should be returned or determine that there is no way to choose a group of citizens such that the product of the taxes returned to them is a multiple of $K$. Note that the queries are independent \u2014 a citizen that is not considered for the return-tax-for-fun program in one query may be considered for the program again in subsequent queries.\r\n\r\n### Input\r\n- The first line of the input contains three space-separated integers $N$, $Q$ and $K$.\r\n- The second line contains $N$ space-separated integers $A_1, A_2, \\ldots, A_N$.\r\n- $Q$ lines follow. Each of these lines contains two space-separated integers $L$ and $R$ describing a query.\r\n\r\n### Output\r\nFor each query, print a single line containing one integer \u2014 the smallest returned sum, or $-1$ if it is impossible to pick a valid group of citizens.\r\n\r\n### Constraints\r\n- $1 \\le N, Q \\le 10^5$\r\n- $1 \\le K \\le 10^8$\r\n- $1 \\le A_i \\le 10^8$ for each valid $i$\r\n- $1 \\le L \\le R \\le N$","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"5 5 24\r\n6 3 12 2 8\r\n3 3\r\n2 4\r\n3 4\r\n1 3\r\n2 2","output":"11\r\n14\r\n11\r\n-1\r\n14","explanation":"","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"3","source_sizelimit":"50000","problem_author":"kmaaszraa","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span class='m-username--link'>kmaaszraa<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"17-12-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cook113'>cook113<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/dynamic-programming'>dynamic-programming<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/kmaaszraa'>kmaaszraa<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/kmaaszraa'>kmaaszraa<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium'>medium<\/a>","problem_difficulty_level":"Medium","user_zen_mode":false,"best_tag":"Dynamic Programming","editorial_url":"https:\/\/discuss.codechef.com\/problems\/MKIT","time":{"view_start_date":1577041202,"submit_start_date":1577041202,"visible_start_date":1577041202,"end_date":1735669800,"current":1643797961},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=MKIT","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
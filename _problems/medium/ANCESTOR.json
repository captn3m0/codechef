{"category_name":"medium","status":"success","problem_code":"ANCESTOR","problem_name":"Ancestors in Two Trees","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3>Read problems statements in <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/SNCKEL17\/mandarin\/ANCESTOR.pdf\">Mandarin Chinese<\/a>, <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/SNCKEL17\/russian\/ANCESTOR.pdf\">Russian<\/a> and <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/SNCKEL17\/vietnamese\/ANCESTOR.pdf\">Vietnamese<\/a> as well.<\/h3>\n\n<p>You are given two rooted trees, each with <b>N<\/b> nodes. The nodes in each tree are labeled from 1 to <b>N<\/b>. The root of each tree is the node labeled 1 in that tree.<\/p>\n\n<p>Your task is simple: For each i, find the number of j's (j \u2260 i), such that node j is an ancestor of node i in both the trees.<\/p>\n\n<h3>Input<\/h3>\n<ul>\n<li>The first line of the input contains an integer <b>T<\/b> denoting the number of test cases.<\/li>\n\n<li>First line of each test-case contains <b>N<\/b>, the number of nodes in each tree.<\/li>\n\n<li>The i-th of the next <b>N<\/b> - 1 lines contains two integers, <b>u<sub>i<\/sub><\/b> and <b>v<sub>i<\/sub><\/b>, which denotes that there is an edge between node <b>u<sub>i<\/sub><\/b> and node <b>v<sub>i<\/sub><\/b> in the first tree.<\/li>\n\n<li>The i-th of the next <b>N<\/b> - 1 lines contains two integers, <b>u<sub>i<\/sub><\/b> and <b>v<sub>i<\/sub><\/b>, which denotes that there is an edge between node <b>u<sub>i<\/sub><\/b> and node <b>v<sub>i<\/sub><\/b> in the second tree.<\/li>\n<\/ul>\n\n\n<h3>Output<\/h3>\n<p>For each test case, output a single line containing <b>N<\/b> integers, i-th integer is the number of nodes which are ancestors of node i in both the trees.<\/p>\n\n\n<h3>Constraints<\/h3>\n<ul>\n<li>1 \u2264 <b>T<\/b> \u2264 10000<\/li>\n<li>2 \u2264 <b>N<\/b> \u2264 500,000<\/li>\n<li>1 \u2264 sum of  <b>N<\/b> in all test-cases \u2264 500,000<\/li>\n<li>1 \u2264 <b>u<sub>i<\/sub><\/b>, <b>v<sub>i<\/sub><\/b> \u2264 <b>N<\/b><\/li>\n<\/ul>\n\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n1\n5\n1 3\n1 2\n3 5\n3 4\n1 5\n1 2\n2 3\n3 4\n\n<b>Output:<\/b>\n0 1 1 2 1\n<\/pre>\n\n<h3>Explanation<\/h3>\n<p>Because node 1 is the root in both the trees, there is no node above them. So first output is 0.<\/p>\n<p>Node 1 is the only node which is an ancestor of Node 2 in both the trees. So the second output is 1.<\/p>\n<p>Node 1 is the only node which is an ancestor of Node 3 in both the trees. So the third output is 1.<\/p>\n<p>Node 1 and node 3 are the only nodes which are ancestors of Node 4 in both the trees. So the fourth output is 2.<\/p>\n<p>Node 1 is the only node which is an ancestor of Node 5 in both the trees. So the fifth output is 1.<\/p>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"3","source_sizelimit":"50000","problem_author":"kingofnumbers","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>kingofnumbers<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"1-06-2017","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/kingofnumbers'>\n                    kingofnumbers\n                <\/a>","user":{"username":null},"time":{"view_start_date":1496516400,"submit_start_date":1496516400,"visible_start_date":1496516400,"end_date":1735669800,"current":1497284428},"todo":false,"problem_status":"unattempted"}
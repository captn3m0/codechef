{"category_name":"medium","status":"success","problem_code":"SECPLAYER","problem_name":"Second Player","body":"### Read problem statements in [Mandarin](https:\/\/www.codechef.com\/download\/translated\/COOK134\/mandarin\/SECPLAYER.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK134\/bengali\/SECPLAYER.pdf), and [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK134\/russian\/SECPLAYER.pdf) as well.\n\nThere are $N$ players participating in a knockout tournament. The $i$-th player has the rating $A_i$. No two players have the same rating.\n\n$N-1$ matches are played in the tournament. In each match, $2$ random players are chosen out of the remaining players, and the player with the higher rating wins. The losing player gets eliminated from the tournament.\n\nCan you find out the expected rating of the player ending up at the second position (that is, the expected rating of the player losing in the $(N-1)$-th match)? \n\nThe expected rating of the second player can be represented as a fraction of the form $\\frac{P}{Q}$. You are required to print $P \\cdot Q^{-1} \\pmod{1 \\, 000 \\, 000 \\, 007}$. \n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"- $1 \\leq T \\leq 500$\n- $2 \\leq N \\leq 5 \\cdot 10^5$\n- $1 \\leq A_i \\leq 10^9$\n- $A_i \\ne A_j$ for all $1 \\le i \\lt j \\le N$\n- The sum of $N$ over all test cases does not exceed $5 \\cdot 10^5$\n","constraintsState":true,"subtasks":"- 30 points : $1 \\leq R \\leq 10000$\n- 70 points : $1 \\leq R \\leq 10^9$\n","subtasksState":false,"statement":"### Read problem statements in [Mandarin](https:\/\/www.codechef.com\/download\/translated\/COOK134\/mandarin\/SECPLAYER.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK134\/bengali\/SECPLAYER.pdf), and [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK134\/russian\/SECPLAYER.pdf) as well.\n\nThere are $N$ players participating in a knockout tournament. The $i$-th player has the rating $A_i$. No two players have the same rating.\n\n$N-1$ matches are played in the tournament. In each match, $2$ random players are chosen out of the remaining players, and the player with the higher rating wins. The losing player gets eliminated from the tournament.\n\nCan you find out the expected rating of the player ending up at the second position (that is, the expected rating of the player losing in the $(N-1)$-th match)? \n\nThe expected rating of the second player can be represented as a fraction of the form $\\frac{P}{Q}$. You are required to print $P \\cdot Q^{-1} \\pmod{1 \\, 000 \\, 000 \\, 007}$. ","inputFormat":"- The first line contains $T$ - the number of test cases. Then the test cases follow.\n- The first line of each test case contains $N$ - the number of players participating in the tournament.\n- The second line contains $N$ space-separated integers $A_1, A_2, \\cdots , A_N$ - the ratings of the players.\n","inputFormatState":true,"outputFormat":"For each test case, output on a single line the expected rating of the second player modulo $1 \\, 000 \\, 000 \\, 007$.\n","outputFormatState":true,"sampleTestCases":[{"id":"1","input":"2\n2\n1 2\n3\n1 2 3\n","output":"1\n666666673\n","explanation":"- **Test Case $1$**: There is only one possible match, and the player with rating $= 1$ will be the second player.\n\n- **Test Case $2$**: The player with rating $= 1$ will be the second player with probability $\\frac{1}{3}$. The player with rating $= 2$ will be the second player with probability $\\frac{2}{3}$. Therefore, the expected rating of the second player is $1 \\cdot \\frac{1}{3} + 2 \\cdot \\frac{2}{3} = \\frac{5}{3}$.","isDeleted":false}]},"video_editorial_url":"https:\/\/youtu.be\/FYbgKpt3FLs","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"lavish315","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>lavish315<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"21-10-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cook134'>cook134<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/dynamic-programming'>dynamic-programming<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/expected-value'>expected-value<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/lavish315'>lavish315<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/math'>math<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium'>medium<\/a>","problem_difficulty_level":"Unavailable","user_zen_mode":false,"best_tag":"Dynamic Programming","editorial_url":"https:\/\/discuss.codechef.com\/problems\/SECPLAYER","time":{"view_start_date":1635100202,"submit_start_date":1635100202,"visible_start_date":1635100202,"end_date":1735669800,"current":1643797975},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=SECPLAYER","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
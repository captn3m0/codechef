{"category_name":"medium","status":"success","problem_code":"XX","problem_name":"Magical Coins","body":"You are shopping in a store that has $n$ magical stones. For each stone, there is a probability $g$ that you will put it in your bag. The value $g$ is the same for all stones, all stones are independent, and you are given the value of $g$ modulo $998\\ 244\\ 353$.\r\n\r\nSuppose when you checkout, you have $r$ stones in your bag. Then you will be charged a price of $(ar+b)^k$ magical coins, where $a, b, k$ are constants. What is the expected value of the price you will pay, for all $1\\leq k\\leq k_{\\max}$? Find the expected values modulo $998\\ 244\\ 353$.\r\n\r\n###Input\r\n- The first line contains five integers $n$, $k_{\\max}$, $a$, $b$, $g$\r\n\r\n###Output\r\n- For all $1\\le k\\le k_{\\max}$, print the expected value of the price modulo $998\\ 244\\ 353$.\r\n\r\n###Constraints\r\n- $1\\leq n\\leq 10^9$\r\n- $1\\leq k_{\\max}\\leq 5\\cdot10^5$\r\n- $1\\leq a\\leq 998\\ 244\\ 352$\r\n- $0\\leq b\\leq 998\\ 244\\ 352$\r\n- $1\\leq g\\leq 998\\ 244\\ 352$\r\n\r\n###Subtasks\r\n**Subtask #1 (5 points):**\r\n- $1\\leq n\\leq 1000$\r\n- $1\\leq k_{\\max}\\leq 1000$\r\n\r\n**Subtask #2 (20 points):**\r\n- $1\\leq n\\leq 10^9$\r\n- $1\\leq k_{\\max}\\leq 100$\r\n\r\n**Subtask #3 (50 points):**\r\n- $1\\leq n\\leq 10^9$\r\n- $1\\leq k_{\\max}\\leq 5\\cdot 10^4$\r\n\r\n**Subtask #4 (25 points):**\r\noriginal constraints\r\n\r\n###Sample Input\r\n    11 3 1 0 499122177\r\n\r\n###Sample Output\r\n    499122182 33 249561300\r\n\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"You are shopping in a store that has $n$ magical stones. For each stone, there is a probability $g$ that you will put it in your bag. The value $g$ is the same for all stones, all stones are independent, and you are given the value of $g$ modulo $998\\ 244\\ 353$.\r\n\r\nSuppose when you checkout, you have $r$ stones in your bag. Then you will be charged a price of $(ar+b)^k$ magical coins, where $a, b, k$ are constants. What is the expected value of the price you will pay, for all $1\\leq k\\leq k_{\\max}$? Find the expected values modulo $998\\ 244\\ 353$.\r\n\r\n###Input\r\n- The first line contains five integers $n$, $k_{\\max}$, $a$, $b$, $g$\r\n\r\n###Output\r\n- For all $1\\le k\\le k_{\\max}$, print the expected value of the price modulo $998\\ 244\\ 353$.\r\n\r\n###Constraints\r\n- $1\\leq n\\leq 10^9$\r\n- $1\\leq k_{\\max}\\leq 5\\cdot10^5$\r\n- $1\\leq a\\leq 998\\ 244\\ 352$\r\n- $0\\leq b\\leq 998\\ 244\\ 352$\r\n- $1\\leq g\\leq 998\\ 244\\ 352$\r\n\r\n###Subtasks\r\n**Subtask #1 (5 points):**\r\n- $1\\leq n\\leq 1000$\r\n- $1\\leq k_{\\max}\\leq 1000$\r\n\r\n**Subtask #2 (20 points):**\r\n- $1\\leq n\\leq 10^9$\r\n- $1\\leq k_{\\max}\\leq 100$\r\n\r\n**Subtask #3 (50 points):**\r\n- $1\\leq n\\leq 10^9$\r\n- $1\\leq k_{\\max}\\leq 5\\cdot 10^4$\r\n\r\n**Subtask #4 (25 points):**\r\noriginal constraints","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"11 3 1 0 499122177","output":"499122182 33 249561300","explanation":"","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"5","source_sizelimit":"50000","problem_author":"zankanotachi","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span class='m-username--link'>zankanotachi<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"23-04-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/expected-value'>expected-value<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/generating-functions'>generating-functions<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/ltime95'>ltime95<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>medium-hard<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/zankanotachi'>zankanotachi<\/a>","problem_difficulty_level":"Medium-Hard","user_zen_mode":false,"best_tag":"Generating Functions","editorial_url":"https:\/\/discuss.codechef.com\/problems\/XX","time":{"view_start_date":1619802000,"submit_start_date":1619802000,"visible_start_date":1619802000,"end_date":1735669800,"current":1643797989},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=XX","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
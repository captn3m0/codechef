{"category_name":"medium","status":"success","problem_code":"MMP","problem_name":"Min-Max Path","body":"### Read problem statements in [Mandarin](https:\/\/www.codechef.com\/download\/translated\/LTIME99\/mandarin\/MMP.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME99\/russian\/MMP.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME99\/vietnamese\/MMP.pdf) as well.\n\nThere are $N$ stones numbered $1$ through $N$. Each stone has a value written on it; for each valid $i$, the value on stone $i$ is $V_i$.\n\nYou are initially on the first stone and your goal is to jump to stone $N$ by perfoming a valid sequence of jumps. Formally, let's denote a sequence of visited stones during these jumps by $S_1, S_2, \\ldots, S_M$, where $M-1$ is the number of jumps. Then, the following conditions must be satisfied:\n- $1 = S_1 \\lt S_2 \\lt \\ldots \\lt S_M = N$\n- for each $i$ ($1 \\le i \\lt M$), $\\min(V_{S_1}, V_{S_2}, \\ldots, V_{S_i}) + \\max(V_{S_{i+1}}, \\ldots, V_{S_M}) = S_{i+1} - S_i$, which is the length of the $i$-th jump\n\nFind the minimum number of jumps needed to reach stone $N$, or report that it is impossible to reach stone $N$ using valid jumps.\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"- $1 \\leq T \\leq 50$\n- $2 \\leq N \\leq 500$\n- $1 \\leq V_i \\leq N$ for each valid $i$\n- the sum of $N$ over all test cases does not exceed $500$\n","constraintsState":true,"subtasks":"**Subtask #1 (15 points):** $V_i \\le 2$ for each valid $i$\n\n**Subtask #2 (35 points):** the sum of $N$ over all test cases does not exceed $100$\n\n**Subtask #3 (50 points):** original constraints","subtasksState":true,"statement":"### Read problem statements in [Mandarin](https:\/\/www.codechef.com\/download\/translated\/LTIME99\/mandarin\/MMP.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME99\/russian\/MMP.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME99\/vietnamese\/MMP.pdf) as well.\n\nThere are $N$ stones numbered $1$ through $N$. Each stone has a value written on it; for each valid $i$, the value on stone $i$ is $V_i$.\n\nYou are initially on the first stone and your goal is to jump to stone $N$ by perfoming a valid sequence of jumps. Formally, let's denote a sequence of visited stones during these jumps by $S_1, S_2, \\ldots, S_M$, where $M-1$ is the number of jumps. Then, the following conditions must be satisfied:\n- $1 = S_1 \\lt S_2 \\lt \\ldots \\lt S_M = N$\n- for each $i$ ($1 \\le i \\lt M$), $\\min(V_{S_1}, V_{S_2}, \\ldots, V_{S_i}) + \\max(V_{S_{i+1}}, \\ldots, V_{S_M}) = S_{i+1} - S_i$, which is the length of the $i$-th jump\n\nFind the minimum number of jumps needed to reach stone $N$, or report that it is impossible to reach stone $N$ using valid jumps.\n","inputFormat":"- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\n- The first line of each test case contains a single integer $N$.\n- The second line contains $N$ space-separated integers $V_1, V_2, \\ldots, V_N$.\n","inputFormatState":true,"outputFormat":"For each test case, print a single line containing one integer --- the minimum number of jumps, or $-1$ if it is impossible to reach stone $N$.","outputFormatState":true,"sampleTestCases":[{"id":"1","input":"3\n3\n1 2 1\n5\n1 3 4 1 2\n11\n1 4 5 3 2 8 3 4 3 7 1","output":"1\n-1\n3","explanation":"**Example case 1:** You can jump from stone $1$ to stone $N$ directly because $\\min(V_1) + \\max(V_N) = 2$ and the length of the jump is exactly $2$.\n\n**Example case 2:** It is impossible to reach stone $N$.\n\n**Example case 3:** One valid sequence of visited stones which uses the minimum number or jumps is $(1, 5, 9, 11)$. It is valid because the lengths of the jumps are:\n- first jump: $\\min(V_1) + \\max(V_5, V_9, V_{11}) = 4$\n- second jump: $\\min(V_1, V_5) + \\max(V_9, V_{11}) = 4$\n- third jump: $\\min(V_1, V_5, V_9) + \\max(V_{11}) = 2$\n","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1.5","source_sizelimit":"50000","problem_author":"dannyboy1204","problem_author_html_handle":"dannyboy1204","problem_tester":"","problem_tester_html_handle":"","date_added":"25-08-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/dannyboy1204'>dannyboy1204<\/a>","problem_difficulty_level":"Medium","user_zen_mode":false,"best_tag":"","editorial_url":"","time":{"view_start_date":1630170002,"submit_start_date":1630170002,"visible_start_date":1630170002,"end_date":1735669800,"current":1643797961},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=MMP","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
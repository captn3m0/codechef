{"category_name":"medium","status":"success","problem_code":"UNPAIR","problem_name":"No Unpaired Chefs","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME22\/mandarin\/UNPAIR.pdf\">Mandarin Chinese <\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME22\/russian\/UNPAIR.pdf\">Russian<\/a>.<\/h3>\n<p>\nCodechef has now decided to make an admin panel amongst their chefs. This way they think that it would be easier for them to control and regulate their contests. To do so, they have asked them to rate everyone including themselves by a non-negative integer.\n<\/p>\n<p>There are <b>N<\/b> chefs, numbered from <b>1<\/b> to <b>N<\/b>. Each chef has submitted a rating to the Codechef panel for other all the chefs including a rating to himself. Surprisingly for the team, for each pair of chefs (say, chef with the number <b>i<\/b> and the chef with the number <b>j<\/b>), they collaborated within themselves and gave the same rating to each other i.e. the rating that the chef <b>i<\/b> has given to the chef <b>j<\/b> is equal to the rating that the chef <b>j<\/b> has given to the chef <b>i<\/b>. The Codechef team built a rating matrix from this input from Chefs. Now, from this input rating matrix <b>M<\/b>, they will make a <i>Paired<\/i> rating matrix <b>P<\/b> as follows:<\/p>\n<ul>\n<li><b>P<\/b> is symmetric.<\/li>\n<li><b>P<sub>i, j<\/sub><\/b> is either equal to zero, or to <b>M<sub>i, j<\/sub><\/b>, where <b>M<sub>i, j<\/sub><\/b> is the rating given by i<sup>th<\/sup> chef to the j<sup>th<\/sup> chef.<\/li>\n<li>There exists <b>S<\/b> > 0, such that each entry in <b>P + P<sup>2<\/sup> + ... + P<sup>S<\/sup><\/b> is positive.<\/li>\n<li>To make things more friendly between the admin panel of Chefs, the sum of values in <b>P<\/b> is minimum possible.<\/li>\n<\/ul>\n\n<p>\nHelp the Codechef panel in selecting such a matrix <b>P<\/b> from <b>M<\/b>. Please find the minimum possible sum of entries in the matrix <b>P<\/b> such that <b>P<\/b> will still satisfy the constraints.\n<\/p>\n<h3>Input<\/h3>\n<p>The first line of the input contains <b>T<\/b>, number of test cases to follow. Then <b>T<\/b> test cases follow.<\/p>\n<p>Each test case start with a line containing an integer <b>N<\/b>, the number of chefs in Codechef team.<\/p>\n<p>Then <b>N<\/b> lines follow. Each of them contains <b>N<\/b> space-separated integers. The <b>j<\/b><sup>th<\/sup> integer in the <b>i<\/b><sup>th<\/sup> line is the rating given by chef with the number <b>i<\/b> to chef with the number <b>j<\/b>.<\/p>\n<h3>Output<\/h3>\n<p>For each test case, print the minimum sum of entries, possible for <b>P<\/b>. If it is not possible to do, print \"-1\" (without quotes).<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1<\/b> \u2264 <b>T<\/b> \u2264 <b>100<\/b><\/li>\n<li>Constraints on <b>N<\/b>:<\/li>\n<ul>\n<li>Subproblem 1 (30 points): <b> 1<\/b> \u2264 <b>N<\/b> \u2264 <b>5<\/b><\/li>\n<li>Subproblem 2 (70 points): <b>1<\/b> \u2264 <b>N<\/b> \u2264 <b>100<\/b><\/li>\n<\/ul>\n<li><b>0<\/b> \u2264 <b>M<sub>i, j<\/sub><\/b> \u2264 <b>10<sup>9<\/sup><\/b><\/li>\n<\/ul>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n2\n2\n1 0\n0 1\n2\n1 1\n1 1\n\n<b>Output:<\/b>\n-1\n2\n<\/pre>\n<p>\n<b>Explanation:<\/b><br \/><br \/>\nIn the first sample case, there are only two choices of choosing P, one is a zero-matrix, for a zero matrx, we will never be able to make <b>P + P<sup>2<\/sup> + ... + P<sup>S<\/sup><\/b> all positive. Another choice is to chose P = M, for this case also, we can never make the sum with all positive values for any S.<br \/><br \/>\nIn the second case, if one selects P such that we eliminate diagonal elements from M, we get all sum positive for S=2 itself. One can check that this is the minimum sum value for P possible to satisfy all constraints.\n<\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"pnkjjindal","problem_author_html_handle":"pnkjjindal","problem_tester":"xcwgf666","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>xcwgf666<\/span>","date_added":"14-03-2015","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/graph-theory'>\n                    graph-theory\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/ltime22'>\n                    ltime22\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>\n                    medium-hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/mst'>\n                    mst\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/pnkjjindal'>\n                    pnkjjindal\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/UNPAIR","user":{"username":null},"time":{"view_start_date":1427617800,"submit_start_date":1427617800,"visible_start_date":1427617800,"end_date":1735669800,"current":1493557953},"todo":false,"problem_status":"unattempted"}
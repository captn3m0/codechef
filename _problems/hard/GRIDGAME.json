{"category_name":"hard","status":"success","problem_code":"GRIDGAME","problem_name":"Game on a Grid","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><p>Alice and Bob are playing a game. A single pawn is placed on a grid. The grid consists of cells <b>(X, Y)<\/b> for non-negative integers <b>X<\/b> and <b>Y<\/b>. Some cells of the grid have been marked as impassable. A move consists of choosing some positive integer <b>D<\/b> and moving the pawn from <b>(X, Y)<\/b> either to <b>(X \u2212 D, Y)<\/b> or to <b>(X, Y \u2212 D)<\/b>, of course, if this cell belongs to the grid. In other words, we move the pawn a positive number of steps along the row or column towards the origin. The pawn is not allowed to land on nor pass through an impassable cell. Alice and Bob alternate moves, with Alice going first. The first player unable to make a move loses.<\/p>\n<p>Alice and Bob will play several games on the same grid, but with different starting positions of the pawn. Assuming both players play optimally, determine which player will win each game.<\/p>\n<h3>Input<\/h3>\n<p>Input will begin with an integer <b>T<\/b>, the number of test cases that follow. Each test case will begin with an integer <b>N<\/b>, the number of impassable cells. <b>N<\/b> lines follow with 2 integers each: the X and Y coordinates of an impassable cell. Following this is a line with an integer <b>Q<\/b>, the number of games to be played on this grid. <b>Q<\/b> lines follow with 2 integers each: the X and Y coordinates of the pawn.<\/p>\n<h3>Output<\/h3>\n<p>For each test case, print the winner of each of the <b>Q<\/b> games, one per line.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li>1 \u2264 <b>T<\/b> \u2264 10000 (10<sup>4<\/sup>)<\/li>\n<li>1 \u2264 <b>N<\/b> \u2264 100000 (10<sup>5<\/sup>)<\/li>\n<li>1 \u2264 <b>Q<\/b> \u2264 100000 (10<sup>5<\/sup>)<\/li>\n<li>The sum of <b>N<\/b> over all test cases will not exceed 100000 (10<sup>5<\/sup>)<\/li>\n<li>The sum of <b>Q<\/b> over all test cases will not exceed 100000 (10<sup>5<\/sup>)<\/li>\n<li>All coordinate values will be between 0 and 1000000000 (10<sup>9<\/sup>), inclusive<\/li>\n<li>All impassable cells will be distinct<\/li>\n<li>No starting position of the pawn will be impassable<\/li>\n<\/ul>\n<h3>Sample Input<\/h3>\n<pre>1\n2\n1 1\n4 2\n4\n2 2\n1 2\n3 4\n6 5\n<\/pre><h3>Sample Output<\/h3>\n<pre>Alice\nBob\nAlice\nBob\n<\/pre><h3>Explanation<\/h3>\n<p>In the first game, the pawn is at cell (2, 2). In order to win Alice can begin by moving the pawn to (1, 2). Bob's only available move is to (0, 2) since (1, 1) is impassable. Alice then moves the pawn to (0, 0), leaving Bob with no available moves.<\/p>\n<p>Here is the small portion of the table of winning and losing positions. Here X-direction goes from the left to the right and Y-direction goes from the top to the bottom. Letter <b>'A'<\/b> at the cell <b>(X, Y)<\/b> means that Alice will win when <b>(X, Y)<\/b> is the starting position of the pawn and <b>'B'<\/b> means that Bob will win. We use different background color for Alice and Bob cells for convenience. Impassable cells have black background color.<\/p>\n<p>\n<table>\n<tbody>\n<tr>\n<td><\/td>\n<td>0<\/td>\n<td>1<\/td>\n<td>2<\/td>\n<td>3<\/td>\n<td>4<\/td>\n<td>5<\/td>\n<td>6<\/td>\n<\/tr>\n<tr>\n<td>0<\/td>\n<td bgcolor=\"red\">B<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<\/tr>\n<tr>\n<td>1<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"black\"><\/td>\n<td bgcolor=\"red\">B<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<\/tr>\n<tr>\n<td>2<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"red\">B<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"black\"><\/td>\n<td bgcolor=\"red\">B<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<\/tr>\n<tr>\n<td>3<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"red\">B<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<\/tr>\n<tr>\n<td>4<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"red\">B<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<\/tr>\n<tr>\n<td>5<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"yellow\">A<\/td>\n<td bgcolor=\"red\">B<\/td>\n<\/tr>\n<\/tbody>\n<\/table>\n<\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"pieguy","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>pieguy<\/span>","problem_tester":"anton_lunyov","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>anton_lunyov<\/span>","date_added":"22-11-2012","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cook29'>\n                    cook29\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/game'>\n                    game\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>\n                    medium-hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/pieguy'>\n                    pieguy\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/GRIDGAME","user":{"username":null},"time":{"view_start_date":1356288262,"submit_start_date":1356288262,"visible_start_date":1356288262,"end_date":1735669800,"current":1493556724},"todo":false,"problem_status":"unattempted"}
{"category_name":"hard","status":"success","problem_code":"RGY","problem_name":"Chef Thanos Wants Perfect Balance","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/AUG20\/hindi\/RGY.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/AUG20\/bengali\/RGY.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/AUG20\/mandarin\/RGY.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/AUG20\/russian\/RGY.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/AUG20\/vietnamese\/RGY.pdf) as well.\r\n\r\nChef Thanos has an undirected simple graph with $N$ vertices (numbered $1$ through $N$) and $M$ edges (numbered $1$ through $M$). For each valid $i$, the $i$-th edge connects vertices $u_i$ and $v_i$. Chef Thanos wants to colour the edges in red and green so that the graph would be perfectly balanced, which means that for each vertex, the number of red edges incident to it must be equal to the number of green edges incident to it.\r\n\r\nObviously, Chef Thanos does not want to leave any edges colourless, but he immediately realised that in such a case, it generally may be impossible to make the graph perfectly balanced, so he decided to colour some of the edges yellow instead, so that it is always possible.\r\n\r\nSince Chef Thanos hates the colour yellow, his satisfaction with the graph will be greater when he uses fewer yellow edges. Can you help him choose how to colour the edges so that you remain in the surviving half of humanity?\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $M$.\r\n- $M$ lines follow. For each valid $i$, the $i$-th of these lines contains two space-separated integers $u_i$ and $v_i$.\r\n\r\n### Output\r\nPrint $M$ lines. For each valid $i$, the $i$-th of these lines should contain the integer $0$ if you want the $i$-th edge to be yellow, $1$ if you want it to be red or $-1$ if you want it to be green.\r\n\r\n### Constraints\r\n- $1 \\le N \\le 10^5$\r\n- $0 \\le M \\le 3 \\cdot 10^5$\r\n- $1 \\le u_i, v_i \\le N$ for each valid $i$\r\n- the graph does not contain any self-loops or parallel edges, but it can be disconnected\r\n- the sum of $N$ over all the test cases does not exceed $3 \\cdot 10^5$\r\n- the sum of $M$ over all the test cases does not exceed $9 \\cdot 10^5$\r\n\r\n### Scoring\r\nIf your output is invalid or you do not colour the graph in a perfectly balanced way, you will receive the Wrong Answer verdict and 0 points. Otherwise:\r\n- For each test case, let's define $R = Y\/N$, where $Y$ is the number of yellow edges you used to colour a graph with $N$ vertices. We then take the maximum of $R$ across all test cases and denote it by $R_{max}$.\r\n- If $R_{max} \\ge 3$, you will receive 0 points because you used too many yellow edges (but you will still receive the Accepted verdict).\r\n- If $2 \\le R_{max} \\lt 3$, you will receive 20 points.\r\n- If $1.5 \\le R_{max} \\lt 2$, you will receive 40 points.\r\n- If $R_{max} \\lt 1.5$, you will receive 100 points.\r\n\r\nNote that you do not have to use the smallest number of yellow edges.\r\n\r\n### Example Input\r\n```\r\n2\r\n5 6\r\n1 2\r\n2 3\r\n3 1\r\n3 4\r\n4 5\r\n5 3\r\n6 9\r\n1 2\r\n1 3\r\n1 4\r\n2 3\r\n2 4\r\n3 4\r\n3 6\r\n4 5\r\n5 6\r\n```\r\n\r\n### Example Output\r\n```\r\n-1\r\n1\r\n1\r\n-1\r\n1\r\n-1\r\n-1\r\n1\r\n0\r\n0\r\n1\r\n-1\r\n0\r\n0\r\n0\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** The graph can be perfectly balanced without using any yellow edges.\r\n\r\n![fig1](https:\/\/codechef_shared.s3.amazonaws.com\/download\/Images\/AUG20\/RGY\/1.png)\r\n\r\n**Example case 2:** The first colouring in the figure below corresponds to the output. Note, again, that you do not have to completely minimise the number of yellow edges, so even though the second colouring is also perfectly balanced and uses fewer yellow edges, both of them would receive 100 points.\r\n\r\n![fig2](https:\/\/codechef_shared.s3.amazonaws.com\/download\/Images\/AUG20\/RGY\/2.png)\r\n\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/AUG20\/hindi\/RGY.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/AUG20\/bengali\/RGY.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/AUG20\/mandarin\/RGY.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/AUG20\/russian\/RGY.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/AUG20\/vietnamese\/RGY.pdf) as well.\r\n\r\nChef Thanos has an undirected simple graph with $N$ vertices (numbered $1$ through $N$) and $M$ edges (numbered $1$ through $M$). For each valid $i$, the $i$-th edge connects vertices $u_i$ and $v_i$. Chef Thanos wants to colour the edges in red and green so that the graph would be perfectly balanced, which means that for each vertex, the number of red edges incident to it must be equal to the number of green edges incident to it.\r\n\r\nObviously, Chef Thanos does not want to leave any edges colourless, but he immediately realised that in such a case, it generally may be impossible to make the graph perfectly balanced, so he decided to colour some of the edges yellow instead, so that it is always possible.\r\n\r\nSince Chef Thanos hates the colour yellow, his satisfaction with the graph will be greater when he uses fewer yellow edges. Can you help him choose how to colour the edges so that you remain in the surviving half of humanity?\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $M$.\r\n- $M$ lines follow. For each valid $i$, the $i$-th of these lines contains two space-separated integers $u_i$ and $v_i$.\r\n\r\n### Output\r\nPrint $M$ lines. For each valid $i$, the $i$-th of these lines should contain the integer $0$ if you want the $i$-th edge to be yellow, $1$ if you want it to be red or $-1$ if you want it to be green.\r\n\r\n### Constraints\r\n- $1 \\le N \\le 10^5$\r\n- $0 \\le M \\le 3 \\cdot 10^5$\r\n- $1 \\le u_i, v_i \\le N$ for each valid $i$\r\n- the graph does not contain any self-loops or parallel edges, but it can be disconnected\r\n- the sum of $N$ over all the test cases does not exceed $3 \\cdot 10^5$\r\n- the sum of $M$ over all the test cases does not exceed $9 \\cdot 10^5$\r\n\r\n### Scoring\r\nIf your output is invalid or you do not colour the graph in a perfectly balanced way, you will receive the Wrong Answer verdict and 0 points. Otherwise:\r\n- For each test case, let's define $R = Y\/N$, where $Y$ is the number of yellow edges you used to colour a graph with $N$ vertices. We then take the maximum of $R$ across all test cases and denote it by $R_{max}$.\r\n- If $R_{max} \\ge 3$, you will receive 0 points because you used too many yellow edges (but you will still receive the Accepted verdict).\r\n- If $2 \\le R_{max} \\lt 3$, you will receive 20 points.\r\n- If $1.5 \\le R_{max} \\lt 2$, you will receive 40 points.\r\n- If $R_{max} \\lt 1.5$, you will receive 100 points.\r\n\r\nNote that you do not have to use the smallest number of yellow edges.\r\n\r\n### Example Input\r\n```\r\n2\r\n5 6\r\n1 2\r\n2 3\r\n3 1\r\n3 4\r\n4 5\r\n5 3\r\n6 9\r\n1 2\r\n1 3\r\n1 4\r\n2 3\r\n2 4\r\n3 4\r\n3 6\r\n4 5\r\n5 6\r\n```\r\n\r\n### Example Output\r\n```\r\n-1\r\n1\r\n1\r\n-1\r\n1\r\n-1\r\n-1\r\n1\r\n0\r\n0\r\n1\r\n-1\r\n0\r\n0\r\n0\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** The graph can be perfectly balanced without using any yellow edges.\r\n\r\n![fig1](https:\/\/codechef_shared.s3.amazonaws.com\/download\/Images\/AUG20\/RGY\/1.png)\r\n\r\n**Example case 2:** The first colouring in the figure below corresponds to the output. Note, again, that you do not have to completely minimise the number of yellow edges, so even though the second colouring is also perfectly balanced and uses fewer yellow edges, both of them would receive 100 points.\r\n\r\n![fig2](https:\/\/codechef_shared.s3.amazonaws.com\/download\/Images\/AUG20\/RGY\/2.png)\r\n\r\n","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"5","source_sizelimit":"50000","problem_author":"mohammed200218","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>mohammed200218<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"1-08-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/aug20'>aug20<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/daniel_1999'>daniel_1999<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/depth-first-search'>depth-first-search<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/hard'>hard<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/link-cut-tree'>link-cut-tree<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/matching'>matching<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/mohammed200218'>mohammed200218<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/mohammed200218'>mohammed200218<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/rishup_nitdgp'>rishup_nitdgp<\/a>","problem_difficulty_level":"Hard","user_zen_mode":false,"best_tag":"Depth First Search","editorial_url":"https:\/\/discuss.codechef.com\/problems\/RGY","time":{"view_start_date":1597656602,"submit_start_date":1597656602,"visible_start_date":1597656602,"end_date":1735669800,"current":1643798001},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=RGY","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"hard","status":"success","problem_code":"CHEFPOL","problem_name":"Chef and Polyhedron","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/JULY16\/mandarin\/CHEFPOL.pdf\">Mandarin Chinese<\/a>, <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/JULY16\/russian\/CHEFPOL.pdf\">Russian<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/JULY16\/vietnamese\/CHEFPOL.pdf\">Vietnamese<\/a> as well.<\/h3>\n\n<p>\nChef likes <a href=\"https:\/\/en.wikipedia.org\/wiki\/Solid_geometry\">stereometry<\/a> a lot. Recently he learned about <a href=\"https:\/\/en.wikipedia.org\/wiki\/Polyhedron\">polyhedrons<\/a>. During his assignments, he found a problem which he couldn't solve. Can you please help him in solving the problem?\n<\/p>\n\n<p>\nYou are given a <a href=\"http:\/\/mathworld.wolfram.com\/ConvexPolyhedron.html\">convex polyhedron<\/a>. Each face of polyhedron is a <a href=\"https:\/\/en.wikipedia.org\/wiki\/Regular_polygon\">regular polygon<\/a>. All <a href=\"https:\/\/en.wikipedia.org\/wiki\/Vertex_angle\">polyhedral angles<\/a> are equal. You have to find number of different ways to paint all the faces of the polyhedron in one of the <b>C<\/b> colors. Note that two painting of the polyhedron are said to be same, if one can be reached from other by a sequence of rotations or mirror reflections of the polyhedron. As this value could be large, output it by modulo <b>10<sup>9<\/sup>+7<\/b>.\n<\/p>\n\n\n<h3>Input<\/h3>\n<p>There is a single test case.<\/p>\n<p>First line of the input contains two positive integers - <b>N<\/b> (number faces of the polyhedron) and <b>C<\/b> (number of possible colors) <\/p>\n<p>Next <b>N<\/b> lines contain information about the faces of polyhedron: <\/p>\n<p>First number of each line contains an integer <b>k<sub>i<\/sub><\/b> denoting number of faces adjacent to <b>i<\/b>-th face. Next <b>k<sub>i<\/sub><\/b> integers in the same line denote the faces adjacent to <b>i<\/b>-th face. <\/p>\n\n<h3>Output<\/h3>\n<p>Output a single integer in a line denoting number of ways to color polyhedron in different ways modulo <b>10<sup>9<\/sup>+7<\/b>\n<\/p>\n\n<h3>Constraints<\/h3>\n<ul>\n<li><b>4<\/b> \u2264 <b>N<\/b> \u2264 <b>25<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>C<\/b> \u2264 <b>10<sup>9<\/sup><\/b><\/li>\n<\/ul>\n\n<h3>Subtasks<\/h3>\n<ul>\n <li><b>Subtask 1:<\/b> Polyhedron is regular. <b>Points - 20<\/b><\/li>\n <li><b>Subtask 2:<\/b> Original constraints. <b>Points - 80<\/b><\/li>\n<\/ul>\n\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n6 2\n4 2 3 4 5\n4 1 3 5 6\n4 1 2 4 6\n4 1 3 5 6\n4 1 2 4 6\n4 2 3 4 5\n\n<b>Output:<\/b>\n10\n\n<\/pre>\n\n<pre><b>Input:<\/b>\n4 4\n3 2 3 4\n3 1 3 4\n3 1 2 4\n3 1 2 3\n\n<b>Output:<\/b>\n35\n<\/pre>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"mgch","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>mgch<\/span>","problem_tester":"mugurelionut","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>mugurelionut<\/span>","date_added":"21-06-2016","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/burnside'>\n                    burnside\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/hard'>\n                    hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/july16'>\n                    july16\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/mgch'>\n                    mgch\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/CHEFPOL","user":{"username":null},"time":{"view_start_date":1468402200,"submit_start_date":1468402200,"visible_start_date":1468402200,"end_date":1735669800,"current":1493556640},"todo":false,"problem_status":"unattempted"}
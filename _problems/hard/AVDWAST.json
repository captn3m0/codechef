{"category_name":"hard","status":"success","problem_code":"AVDWAST","problem_name":"Avoid Wasting","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><p>Today Tomya buys <b>N<\/b> retort pouches of food in Chef Ciel's restaurant. The <b>i<\/b>-th retort pouch contains <b>V<sub>i<\/sub><\/b> units of food, and its use-by date is the <b>U<sub>i<\/sub><\/b>-th day (1-origin). Moreover, food from the <b>i<\/b>-th retort pouch can be eaten only within <b>L<sub>i<\/sub><\/b> days after it was opened. Namely, if Tomya will open the <b>i<\/b>-th retort pouch on the <b>x<sub>i<\/sub><\/b>-th day, she can eat food units from it on the <b>k<\/b>-th day if and only if <b>x<sub>i<\/sub><\/b> \u2264 <b>k<\/b> \u2264 <b>min(U<sub>i<\/sub>, x<sub>i<\/sub>+L<sub>i<\/sub>\u22121)<\/b>.<\/p>\n<p>The retort pouches in Ciel's restaurant are designed in such a way that if <b>V<sub>i<\/sub> &lt; V<sub>j<\/sub><\/b>, then <b>U<sub>i<\/sub> \u2264 U<sub>j<\/sub><\/b>.<\/p>\n<p>Tomya will eat at most two units of food everyday. However after the <b>min(U<sub>i<\/sub>, x<sub>i<\/sub>+L<sub>i<\/sub>\u22121)<\/b>-th day, uneaten food units in the <b>i<\/b>-th retort pouch must be discarded. Your task is to decide when to open each of the retort pouches and which food unit(s) to eat each day in such a way that the number of discarded units will be minimum.<\/p>\n<p><b>There is also a restriction that once you open some pouch, food units from previously opened pouches should be discarded.<\/b><\/p>\n<p><b>The above restriction is an addition to the problem statement that was made after the contest. We are extremely sorry about that. We all had missed the possibility to achieve better score without this restriction in some situations. We are grateful to <a href=\"http:\/\/www.codechef.com\/users\/mikhailOK\">Mikhail Kever<\/a> for pointing out our mistake.<\/b><\/p>\n<h3>Input<\/h3>\n<p>The first line of the input contains an integer <b>T<\/b> denoting the number of test cases. The description of <b>T<\/b> test cases follows.<\/p>\n<p>The first line of each test case contains an integer <b>N<\/b> denoting the number of retort pouches.<br \/>\nEach of the following <b>N<\/b> lines contains 3 space separated integers <b>V<sub>i<\/sub><\/b>, <b>U<sub>i<\/sub><\/b>, <b>L<sub>i<\/sub><\/b> denoting the parameters of the <b>i<\/b>-th pouch.<\/p>\n<h3>Output<\/h3>\n<p>For each test case, output a single line containing the minimum number of food units which Tomya must discard.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1<\/b> \u2264 <b>T<\/b> \u2264 <b>2013<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>N<\/b> \u2264 <b>2013<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>V<sub>i<\/sub><\/b>, <b>U<sub>i<\/sub><\/b>, <b>L<sub>i<\/sub><\/b> \u2264 <b>20000000000000<\/b> (<b>2 * 10<sup>13<\/sup><\/b>)<\/li>\n<li>If <b>V<sub>i<\/sub><\/b> &lt; <b>V<sub>j<\/sub><\/b>, then <b>U<sub>i<\/sub><\/b> \u2264 <b>U<sub>j<\/sub><\/b><\/li>\n<li>The sum of <b>N<\/b> in one test file does not exceed <b>20130<\/b>.<\/li>\n<\/ul>\n<h3>Example<\/h3>\n<pre>\n<b>Input:<\/b>\n3\n3\n8 9 5\n7 5 3\n10 100 1\n3\n5 4 3\n7 8 5\n8 10 4\n1\n10000 1 10000\n\n<b>Output:<\/b>\n9\n0\n9998\n<\/pre><h3>Explanation<\/h3>\n<p><b>Example case 1.<\/b> One of the optimal ways is the following:<br \/>The 1st pouch is opened on the day <b>x<sub>1<\/sub> = 4<\/b>,<br \/>the 2nd pouch is opened on the day <b>x<sub>2<\/sub> = 1<\/b>,<br \/>the 3rd pouch is opened on the day <b>x<sub>3<\/sub> = 8<\/b>,<br \/>then<br \/>the 1st pouch is available at the interval <b>[4, 8]<\/b>,<br \/>the 2nd pouch is available at the interval <b>[1, 3]<\/b>,<br \/>the 3rd pouch is available at the interval <b>[8, 8]<\/b>.<br \/>On days 1, 2, 3, Tomya eats 2 units of the 2nd pouch each day.<br \/>On days 4, 5, 6, 7 Tomya eats 2 units of the 1st pouch each day.<br \/>On day 8, Tomya eats 2 units of the 3rd pouch.<br \/>In this case, Tomya discard the 1 unit of the 1st pouch, and 8 units of the 3rd pouch.<\/p>\n<p><b>Example case 2.<\/b> There is only one optimal way as follows:<br \/>The 1st pouch is opened on the day <b>x<sub>1<\/sub> = 1<\/b>,<br \/>the 2nd pouch is opened on the day <b>x<sub>2<\/sub> = 3<\/b>,<br \/>the 3rd pouch is opened on the day <b>x<sub>3<\/sub> = 7<\/b>,<br \/>then<br \/>the 1st pouch is available at the interval <b>[1, 3]<\/b>,<br \/>the 2nd pouch is available at the interval <b>[3, 7]<\/b>,<br \/>the 3rd pouch is available at the interval <b>[7, 10]<\/b>.<br \/>On days 1, 2, Tomya eats 2 units of the 1st pouch each day.<br \/>On day 3, Tomya eats 1 unit of the 1st pouch and 1 unit of the 2nd pouch.<br \/>On days 4, 5, 6, Tomya eats 2 units of the 2nd pouch each day.<br \/>On days 7, 8, 9, 10, Tomya eats 2 units of the 3rd pouch each day.<br \/>In this case, Tomya can eat all units of food.<\/p>\n<p><b>Example case 3.<\/b> Please note that here <b>L<sub>1<\/sub><\/b> is larger than <b>U<sub>1<\/sub><\/b>.<\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"2.013","source_sizelimit":"50000","problem_author":"laycurse","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>laycurse<\/span>","problem_tester":"anton_lunyov","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>anton_lunyov<\/span>","date_added":"2-01-2013","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cook30'>\n                    cook30\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/greedy'>\n                    greedy\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/laycurse'>\n                    laycurse\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>\n                    medium-hard\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/AVDWAST","user":{"username":null},"time":{"view_start_date":1358709975,"submit_start_date":1358709975,"visible_start_date":1358709858,"end_date":1735669800,"current":1493556620},"todo":false,"problem_status":"unattempted"}
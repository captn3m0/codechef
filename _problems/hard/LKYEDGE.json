{"category_name":"hard","status":"success","problem_code":"LKYEDGE","problem_name":"Lucky Edge","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3>Read problems statements in <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/OCT17\/mandarin\/LKYEDGE.pdf\">mandarin chinese<\/a>, <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/OCT17\/russian\/LKYEDGE.pdf\">russian<\/a> and <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/OCT17\/vietnamese\/LKYEDGE.pdf\">vietnamese<\/a> as well.<\/h3>\n\n<p>In an undirected unweighted graph, an edge of the graph is said to be <em>lucky<\/em> if it is a part of some cycle of the graph.<\/p>\n\n<p>You are given a list <b>E<\/b> of <b>M<\/b> edges. We define <b>f(i)<\/b> as the number of intervals <b>[l, r]<\/b> (<b>1 \u2264 l \u2264 i \u2264 r \u2264 M<\/b>) such that if you build a graph from edges <b>E<sub>l<\/sub>, E<sub>l+1<\/sub>, ..., E<sub>r<\/sub><\/b>, the edge <b>E<sub>i<\/sub><\/b> will be a lucky edge in this graph.<\/p>\n\n<p>Your task is to calculate the values of <b>f(1), f(2), ..., f(M)<\/b>.<\/p>\n\n<h3>Input<\/h3>\n<p>The first line of the input contains an integer <b>T<\/b> denoting the number of test cases.<\/p>\n<p>The first line of each test case contains a single integer <b>M<\/b> denoting the number of edges.<\/p>\n<p>Each of the next <b>M<\/b> lines contains two space-separated integers <b>u<sub>i<\/sub><\/b> and <b>v<sub>i<\/sub><\/b> denoting that <b>i<\/b>-th edge connects nodes <b>u<sub>i<\/sub><\/b> and <b>v<sub>i<\/sub><\/b>.<\/p>\n\n<h3>Output<\/h3>\n<p>For each test case, output a single line containing <b>M<\/b> integers, i-th of which should be value of <b>f(i)<\/b>.<\/p>\n\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1<\/b> \u2264 <b>T<\/b> \u2264 <b>50<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>M<\/b> \u2264 <b>5,000<\/b><\/li>\n<li><b>1<\/b> \u2264 sum of <b>M<\/b> over all test-cases \u2264 <b>20,000<\/b><\/li>\n<li><b>1<\/b> \u2264  <b>u<sub>i<\/sub><\/b>, <b>v<sub>i<\/sub><\/b> \u2264 <b>10,000<\/b><\/li>\n<li><b>u<sub>i<\/sub><\/b> \u2260 <b>v<sub>i<\/sub><\/b><\/li>\n<\/ul>\n\n<h3>Subtasks<\/h3>\n<ul>\n\t<li><b>Subtask #1 (10 points): <\/b> <b>M<\/b>  \u2264 200 and sum of <b>M<\/b>  \u2264 2,300 <\/li>\n<li><b>Subtask #2 (20 points): <\/b> <b>M<\/b>  \u2264 1,000 and sum of <b>M<\/b>  \u2264 4,000 <\/li>\n\t<li><b>Subtask #3 (70 points):  <\/b> Original constraints<\/li>\n<\/ul>\n\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n2\n3\n1 2\n3 4\n2 1\n5\n1 2\n2 3\n3 4\n1 4\n4 2\n\n<b>Output:<\/b>\n1 0 1\n2 3 3 2 2\n<\/pre>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, COB, CPP 4.3.2, CPP 6.3, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, kotlin, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.5, RUBY, rust, SCALA, SCM chicken, SCM guile, SCM qobi, ST, swift, TCL, TEXT, WSPC","max_timelimit":"2","source_sizelimit":"50000","problem_author":"fudail","problem_author_html_handle":"fudail","problem_tester":"alex_2oo8","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>alex_2oo8<\/span>","date_added":"3-10-2017","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/dfs'>\n                    dfs\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/fudail'>\n                    fudail\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/hard'>\n                    hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/oct17'>\n                    oct17\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/tree-dp'>\n                    tree-dp\n                <\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/LKYEDGE","time":{"view_start_date":1508146200,"submit_start_date":1508146200,"visible_start_date":1508146200,"end_date":1735669800,"current":1514817001},"user":{"username":null},"todo":false,"problem_status":"unattempted"}
{"category_name":"hard","status":"success","problem_code":"POLCHAIN","problem_name":"Polygon Chain","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/FEB20\/hindi\/POLCHAIN.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/FEB20\/bengali\/POLCHAIN.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/FEB20\/mandarin\/POLCHAIN.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/FEB20\/russian\/POLCHAIN.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/FEB20\/vietnamese\/POLCHAIN.pdf) as well.\r\n\r\nA polygon $T$ is said to be *inside* a polygon $S$ if all points that lie strictly inside $T$ (not on the perimeter of $T$) also lie strictly inside $S$.\r\n\r\nA multiset of polygons $\\{Q_1, Q_2, \\ldots, Q_r\\}$ is said to *form a chain* if there is a permutation $p_1, p_2, \\ldots, p_r$ of the integers $1$ through $r$ such that for each $i$ ($1 \\le i \\lt r$), $Q_{p_i}$ is inside $Q_{p_{i+1}}$.\r\n\r\nYou are given $N$ convex polygons $P_1, P_2, \\ldots, P_N$ in a 2D Cartesian coordinate system. Every $10^{-100}$ seconds, you may choose one of the polygons and translate it by upto $10^{-100}$ either along the $x$-axis or along the $y$-axis.\r\n\r\nFind the minimum amount of time necessary to make all $N$ polygons form a chain or decide that it is impossible.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $N$. The descriptions of $N$ polygons follow.\r\n- For each polygon:\r\n    - The first line contains a single integer $M$ denoting the number of its vertices.\r\n    - The following $M$ lines describe the vertices in counterclockwise order. Each of these lines contains two space-separated integers $x$ and $y$ denoting the coordinates of one vertex.\r\n\r\n### Output\r\nIf it is impossible to make the polygons form a chain, print a single line containing the integer $-1$.\r\n\r\nOtherwise, print a single line containing one real number \u2015 the minimum amount of time. Your answer will be considered correct if its absolute or relative error does not exceed $10^{-6}$.\r\n\r\n### Constraints\r\n- $2 \\le N \\le 20$\r\n- the sum of $M$ over all polygons does not exceed $100$\r\n- $|x|, |y| \\le 100$\r\n\r\n### Subtasks\r\n**Subtask #1 (10 points):** $N = 2$ and both polygons are axis-aligned rectangles\r\n\r\n**Subtask #2 (20 points):** $N = 2$\r\n\r\n**Subtask #3 (20 points):** all polygons are axis-aligned rectangles\r\n\r\n**Subtask #4 (50 points):** original constraints\r\n\r\n### Example Input\r\n```\r\n2\r\n4\r\n1 3\r\n2 2\r\n3 3\r\n2 4\r\n4\r\n0 0\r\n2 0\r\n2 2\r\n0 2\r\n```\r\n\r\n### Example Output\r\n```\r\n3\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** Both $P_1$ and $P_2$ are squares. If we move $P_2$ by $1$ unit in the $x$-direction and by $2$ units in the $y$-direction, the vertices of $P_1$ become the midpoints of edges of $P_2$.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/FEB20\/hindi\/POLCHAIN.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/FEB20\/bengali\/POLCHAIN.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/FEB20\/mandarin\/POLCHAIN.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/FEB20\/russian\/POLCHAIN.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/FEB20\/vietnamese\/POLCHAIN.pdf) as well.\r\n\r\nA polygon $T$ is said to be *inside* a polygon $S$ if all points that lie strictly inside $T$ (not on the perimeter of $T$) also lie strictly inside $S$.\r\n\r\nA multiset of polygons $\\{Q_1, Q_2, \\ldots, Q_r\\}$ is said to *form a chain* if there is a permutation $p_1, p_2, \\ldots, p_r$ of the integers $1$ through $r$ such that for each $i$ ($1 \\le i \\lt r$), $Q_{p_i}$ is inside $Q_{p_{i+1}}$.\r\n\r\nYou are given $N$ convex polygons $P_1, P_2, \\ldots, P_N$ in a 2D Cartesian coordinate system. Every $10^{-100}$ seconds, you may choose one of the polygons and translate it by upto $10^{-100}$ either along the $x$-axis or along the $y$-axis.\r\n\r\nFind the minimum amount of time necessary to make all $N$ polygons form a chain or decide that it is impossible.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $N$. The descriptions of $N$ polygons follow.\r\n- For each polygon:\r\n    - The first line contains a single integer $M$ denoting the number of its vertices.\r\n    - The following $M$ lines describe the vertices in counterclockwise order. Each of these lines contains two space-separated integers $x$ and $y$ denoting the coordinates of one vertex.\r\n\r\n### Output\r\nIf it is impossible to make the polygons form a chain, print a single line containing the integer $-1$.\r\n\r\nOtherwise, print a single line containing one real number \u2015 the minimum amount of time. Your answer will be considered correct if its absolute or relative error does not exceed $10^{-6}$.\r\n\r\n### Constraints\r\n- $2 \\le N \\le 20$\r\n- the sum of $M$ over all polygons does not exceed $100$\r\n- $|x|, |y| \\le 100$\r\n\r\n### Subtasks\r\n**Subtask #1 (10 points):** $N = 2$ and both polygons are axis-aligned rectangles\r\n\r\n**Subtask #2 (20 points):** $N = 2$\r\n\r\n**Subtask #3 (20 points):** all polygons are axis-aligned rectangles\r\n\r\n**Subtask #4 (50 points):** original constraints\r\n\r\n### Example Input\r\n```\r\n2\r\n4\r\n1 3\r\n2 2\r\n3 3\r\n2 4\r\n4\r\n0 0\r\n2 0\r\n2 2\r\n0 2\r\n```\r\n\r\n### Example Output\r\n```\r\n3\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** Both $P_1$ and $P_2$ are squares. If we move $P_2$ by $1$ unit in the $x$-direction and by $2$ units in the $y$-direction, the vertices of $P_1$ become the midpoints of edges of $P_2$.\r\n","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"jtnydv25","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span class='m-username--link'>jtnydv25<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"6-02-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/feb20'>feb20<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/geometry'>geometry<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/hard'>hard<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/jtnydv25'>jtnydv25<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/tmwilliamlin'>tmwilliamlin<\/a>","problem_difficulty_level":"Hard","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/POLCHAIN","time":{"view_start_date":1136053800,"submit_start_date":1136053800,"visible_start_date":1136053800,"end_date":1735669800,"current":1643797999},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=POLCHAIN","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
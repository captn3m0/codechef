{"category_name":"hard","status":"success","problem_code":"BEARTRAP","problem_name":"Bear and Cat Trap","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/MARCH17\/mandarin\/BEARTRAP.pdf?v=1\">Mandarin Chinese<\/a>, <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/MARCH17\/russian\/BEARTRAP.pdf?v=1\">Russian<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/MARCH17\/vietnamese\/BEARTRAP.pdf?v=1\">Vietnamese<\/a> as well.<\/h3>\n\n<p>This is an interactive problem.\nIt means that every time you output something, you must finish with a newline character and flush the output.\nFor example, in C++ use the fflush(stdout) function, in Java \u2014 call System.out.flush(), in Python \u2014 sys.stdout.flush(), and in Pascal \u2014 flush(output).\nOnly after flushing the output will you be able to read from the input again.<\/p>\n\n<p>Limak is a little polar bear.\nOne of his favorite games is the Cat Trap (also known as Black Cat, Chat Noir or Circle The Cat).\nThe goal of the game is to prevent a cat from running away.\nLimak loves it because cats are usually afraid of him (for no reason) and don't want to play with him.\nYou can try that game yourself: <a href = \"http:\/\/www.gamedesign.jp\/flash\/chatnoir\/chatnoir.html\">http:\/\/www.gamedesign.jp\/flash\/chatnoir\/chatnoir.html<\/a>.<\/p>\n\n<p>In this problem, your task is to win in a modified version of the game.\nThe differences are:<\/p>\n\n<ol>\n<li>The grid is a regular hexagon of side N = 20.<\/li>\n<li>Initially no cells are blocked.<\/li>\n<li>You must win in <b>M<\/b> turns (i.e. you can block at most <b>M<\/b> cells).<\/li>\n<li>The cat follows some particular strategy, described below.<\/li>\n<\/ol>\n<br>\n\n<p>Rows are numbered -(N-1) through N-1 from top to bottom, so the row 0 is in the middle.\nColumns are numbered -(N-1) through N-1 from left to right, where the column 0 is the diagonal that contains the first cell of the top row and the last cell of the bottom row.\nFor example, for N = 3 the grid would look like this (blue arrows are pointing at the column 0):<\/p>\n\n<p><img src= \"https:\/\/codechef_shared.s3.amazonaws.com\/download\/upload\/MARCH17\/beartrap1.png\" height=\"240\"\/><\/p>\n\n<p>Let (r, c) denote the cell at the intersection of the r-th row and the c-th column.\nThe description above implies that the cell (r,c) has at most six adjacent cells: (r,c+1), (r-1,c+1), (r-1,c), (r,c-1), (r+1,c-1), (r+1,c).<\/p>\n\n<p>A <b>border cell<\/b> is a cell with fewer than six adjacent cells (there are exactly 6*(N-1) border cells).\nFor any not-blocked cell X we define <b>the distance to the border<\/b> as the minimum number of moves the cat would need to reach a border cell, assuming that he starts from X and no more cells will be blocked.\nIn particular, the distance to the border is 0 for all not-blocked border cells.\nThe distance to the border is infinite if a cell is blocked or the cat can't reach any border cell.<\/p>\n\n<p>The cat starts in the cell (0, 0), i.e. in the middle of the grid.\nIn each turn of the game:<\/p>\n\n<ol>\n<li>The cat moves first.\nIf he is in a border cell, he runs away and you lose.\nIf he can't reach any border cell, you win (i.e. when the cat is in a connected component bounded by blocked cells).\nOtherwise, the cat moves to one of the adjacent cells with the minimum distance to the border.\nFor example, if three adjacent cells are blocked, two cells have the distance to the border equal to 15, and one cell has the distance to the border equal to 17, then the cat chooses one of the two adjacent cells with the distance 15.\nAlso, in the very first move the cat chooses any of six adjacent cells, because all of them have the same distance to the border.<\/li>\n<li>Then you can block one cell.\nYou can't block a cell if it's already blocked or it contains the cat.<\/p>\n<\/ol>\n\n\n\n<h3>Interaction<\/h3>\n\n<p>The first line of the input contains two integers <b>T<\/b> and <b>M<\/b> denoting the number of test cases and the maximum allowed number of times you can block a cell (per test case).\nAt the beginning of each test case, the cat starts in the cell (0, 0) and no cells are blocked.<\/p>\n\n<p>When the cat is supposed to move, you should read from the input, a line that is either \"WIN\" or \"CAT r c\" (both without the quotes).\nA line \"WIN\" means that the cat can't reach the border anymore and you should proceed to the next test case (and again read the first move of the cat), unless it's the last test case \u2014 then you should terminate your program.\nA line \"CAT r c\" means that the cat moves to the cell (r, c).<\/p>\n\n<p>After the cat moves, you should print a line in the format \"BLOCK r c\" denoting blocking the cell (r, c).\nRemember about printing a newline character and flushing the output.\nYou can't skip a move and you can't block a cell if it's already blocked or it contains the cat.<\/p>\n\n\n\n<h3>Subtasks<\/h3>\n\n<ul>\n<li>Subtask #1 (35 points) 1 \u2264 <b>T<\/b> \u2264 10, <b>M<\/b> = 500<\/li>\n<li>Subtask #2 (65 points) 1 \u2264 <b>T<\/b> \u2264 100, <b>M<\/b> = 20<\/li>\n<\/ul>\n\n\n\n<h3>Visualizer<\/h3>\n\n<p>You need Python3 to run the visualizer: <b><a href=\"https:\/\/codechef_shared.s3.amazonaws.com\/download\/upload\/MARCH17\/BEARTRAP.py\">link<\/a>.<\/b>\nThe instructions and the example usage are provided at the bottom of the file.<\/p>\n\n\n\n\n<h3>Example<\/h3>\n\n<table border=\"1\">\n<tr>\n<td>your program<\/td>     <td>the system<\/td>\n<\/tr>\n\n<tr><td><\/td><td>2 500<\/td><\/tr>\n\n<tr><td><\/td><td>CAT 1 -1<\/td><\/tr>\n<tr><td>BLOCK -1 0<\/td><td><\/td><\/tr>\n\n<tr><td><\/td><td>CAT 1 0<\/td><\/tr>\n<tr><td>BLOCK -1 1<\/td><td><\/td><\/tr>\n\n<tr><td><\/td><td>CAT 0 0<\/td><\/tr>\n<tr><td>BLOCK 1 -1<\/td><td><\/td><\/tr>\n\n<tr><td><\/td><td>CAT 0 1<\/td><\/tr>\n<tr><td>BLOCK 0 -1<\/td><td><\/td><\/tr>\n\n<tr><td><\/td><td>CAT 1 0<\/td><\/tr>\n<tr><td>BLOCK 1 1<\/td><td><\/td><\/tr>\n\n<tr><td><\/td><td>CAT 0 0<\/td><\/tr>\n<tr><td>BLOCK 0 2<\/td><td><\/td><\/tr>\n\n<tr><td><\/td><td>CAT 0 1<\/td><\/tr>\n<tr><td>BLOCK -1 2<\/td><td><\/td><\/tr>\n\n<tr><td><\/td><td>CAT 0 0<\/td><\/tr>\n<tr><td>BLOCK 1 0<\/td><td><\/td><\/tr>\n\n<tr><td><\/td><td>WIN<\/td><\/tr>\n\n<tr><td><\/td><td>CAT 1 0<\/td><\/tr>\n<tr><td>BLOCK 5 -12<\/td><td><\/td><\/tr>\n\n<tr><td>...<\/td><td>...<\/td><\/tr>\n\n<tr><td><\/td><td>WIN<\/td><\/tr>\n\n<\/table>\n\n\n<h3>Explanation<\/h3>\n\n<p>In the provided example, there are <b>T<\/b> = 2 test cases and in each of them you are allowed to block <b>M<\/b> = 500 cells.\nNote that the example communication is invalid because the cat doesn't always move to an adjacent cell with the minimum distance to the border.\nSuch a situation won't happen in real tests.\nAnd the second test case was given only to show you how the communication looks like if there are multiple test cases.<\/p>\n\n<p>You can run the visualizer to see the simulation of the first test case.\nFor your convenience, the grid below shows the final situation, assuming that the size of the grid is N = 4 (but remember that N = 20 in all tests).<\/p>\n\n<pre><code>   . , . , \n  , . , . , \n . , # # # , \n, . # c , # , \n , . # # # . \n  , . , . , \n   , . , .<\/code><\/pre>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"4","source_sizelimit":"50000","problem_author":"errichto","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>errichto<\/span>","problem_tester":"xcwgf666","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>xcwgf666<\/span>","date_added":"23-02-2017","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/errichto'>\n                    errichto\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/hard'>\n                    hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/interactive'>\n                    interactive\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/march17'>\n                    march17\n                <\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/BEARTRAP","user":{"username":null},"time":{"view_start_date":1489397400,"submit_start_date":1489397400,"visible_start_date":1489397400,"end_date":1735669800,"current":1493556958},"todo":false,"problem_status":"unattempted"}
{"category_name":"hard","status":"success","problem_code":"QRECT","problem_name":"Rectangle Query","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/SEPT14\/mandarin\/QRECT.pdf\">Mandarin Chinese <\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/SEPT14\/russian\/QRECT.pdf\">Russian<\/a>.<\/h3>\n<p>You are given a Cartesian plane, and you are asked to support the following three kinds of operations:<\/p>\n<p><ul>\n<li><strong>I x1 y1 x2 y2<\/strong>: add an axes-parallel rectangle on the plane. The bottom-left corner has coordinates <b>(x1, y1)<\/b>, the top-right one has coordinates <b>(x2, y2)<\/b> <\/li>\n<li><strong>D index<\/strong>: remove the retangle that was added during the <strong>index<\/strong>-th addition operation<\/li>\n<li><strong>Q x1 y1 x2 y2<\/strong>: output the number of rectangles on the plane that have the common area with the rectangle with a bottom-left corner coordinates <b>(x1, y1)<\/b> and a top-right corner coordinates <b>(x2, y2)<\/b>.<br \/>\nPlease notice that, even if the two rectangles only share a common point, they are still regarded as sharing common area<\/li>\n<\/ul>\n<\/p>\n<p>Also, there can be a few same rectangles on the plane, they should be regarded as a few different rectangles.<\/p>\n<p>There are <strong>Q<\/strong> operations in all, can you fulfill them?<\/p>\n<h3>Input<\/h3>\n<p>The first line contains an integer <strong>Q<\/strong>.<\/p>\n<p>The next <strong>Q<\/strong> lines represent the operations you are to deal with. Each of them contains an operation in one of the three forms above.<\/p>\n<h3>Output<\/h3>\n<p>For each <strong>Q<\/strong>-type operation, output the result on the separate line of the output.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><span style=\"font-size: 10px;\">1 &lt;= <strong>Q\u00a0<\/strong>&lt;= 100000<\/span><\/li>\n<li><span style=\"font-size: 10px;\">1 &lt;= <strong>x1<\/strong> &lt;= <strong>x2<\/strong> &lt;= 10<sup>9<\/sup><\/span><\/li>\n<li><span style=\"font-size: 10px;\">1 &lt;= <strong>y1<\/strong> &lt;= <strong>y2<\/strong> &lt;= 10<sup>9<\/sup><\/span><\/li>\n<\/ul>\n<div>\n<h3>Example<\/h3>\n<h3>\n<pre style=\"font-size: 12px; font-weight: normal;\"><strong>Input:<\/strong>\n5\nI 1 1 2 2\nI 2 2 3 3\nQ 3 3 4 4 \nD 2\nQ 3 3 4 4\n\n<strong>Output:<\/strong>\n1\n0  <\/pre><\/h3>\n<h3>Explanation<\/h3>\n<\/div>\n<pre>In the third operation, the rectangle (2, 2)-(3, 3) has a common point with the given rectangle.\nBut in the fifth operation, as the rectangle (2, 2)-(3, 3) has been removed, so there are no rectangles that has the common area with the given rectangle.<\/pre>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"2","source_sizelimit":"50000","problem_author":"xiaodao","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>xiaodao<\/span>","problem_tester":"xcwgf666","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>xcwgf666<\/span>","date_added":"3-07-2014","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/fenwick'>\n                    fenwick\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/hard'>\n                    hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/sept14'>\n                    sept14\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/sqrt-decomp'>\n                    sqrt-decomp\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/xiaodao'>\n                    xiaodao\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/QRECT","user":{"username":null},"time":{"view_start_date":1410773400,"submit_start_date":1410773400,"visible_start_date":1410773400,"end_date":1735669800,"current":1493556801},"todo":false,"problem_status":"unattempted"}
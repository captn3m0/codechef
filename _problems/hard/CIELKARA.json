{"category_name":"hard","status":"success","problem_code":"CIELKARA","problem_name":"Ciel and Karaoke","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><p>You need to find the distance from the given piecewise-constant function to the set of all functions, satisfying Lipschitz condition with the constant <b>K<\/b>, in the space <b>L<sup>1<\/sup>(\u2212\u221e, +\u221e)<\/b>. If you understand nothing here then read the problem statement below :P<\/p>\n<p>Chef Ciel and her friends go to <i>karaoke<\/i> after the New Year's party. In karaoke, they sing songs, and moreover, recent karaoke machines can score their performance. To get a high score, one of the most important things is to sing with correct pitches.<\/p>\n<p>The correct pitch at time <b>t<\/b> for some song is represented as <b>f(t)<\/b>, where <b>f(t)<\/b> is a piecewise-constant function. In this problem, let us consider the infinitely long time <b>\u2212\u221e<\/b> &lt; <b>t<\/b> &lt; <b>+\u221e<\/b> for simplicity. Let <b>N\u22121<\/b> integers <b>A<sub>1<\/sub><\/b> &lt; <b>A<sub>2<\/sub><\/b> &lt; ... &lt; <b>A<sub>N\u22121<\/sub><\/b> denote the time moments when the correct pitch is changed. That is,<\/p>\n<ul>\n<li><b>f(t)<\/b> = <b>B<sub>0<\/sub><\/b>, for <b>\u2212\u221e<\/b> &lt; <b>t<\/b> &lt; <b>A<sub>1<\/sub><\/b>,<\/li>\n<li><b>f(t)<\/b> = <b>B<sub>k<\/sub><\/b>, for <b>A<sub>k<\/sub><\/b> \u2264 <b>t<\/b> &lt; <b>A<sub>k+1<\/sub><\/b> (<b>1<\/b> \u2264 <b>k<\/b> \u2264 <b>N\u22122<\/b>),<\/li>\n<li><b>f(t)<\/b> = <b>B<sub>N\u22121<\/sub><\/b>, for <b>A<sub>N\u22121<\/sub><\/b> \u2264 <b>t<\/b> &lt; <b>+\u221e<\/b>.<\/li><\/ul>\n<p>On the other hand, Ciel cannot change her pitch instantly. So Ciel's pitch <b>g(t)<\/b> must satisfy the condition <b>|g(x) \u2212 g(y)| \u2264 K |x \u2212 y|<\/b> for all real <b>x<\/b> and <b>y<\/b>. In particular <b>g(t)<\/b> is a continuous function and <b>|g'(t)|<\/b> \u2264 <b>K<\/b> for all <b>t<\/b> where <b>g'(t)<\/b> exists (<b>g'(t)<\/b> denotes the derivative of <b>g(t)<\/b>).<\/p>\n<p>The score assigned to Ciel by the karaoke machine is the value of the integral of <b>|f(t) \u2212 g(t)|<\/b> over the interval <b>(\u2212\u221e, +\u221e<\/b>). Your task is to calculate the minimum value of this integral over all possible functions <b>g(t)<\/b> that satisfy the above condition.<\/p>\n<h3>Input<\/h3>\n<p>The first line of the input contains an integer <b>T<\/b> denoting the number of test cases. The description of <b>T<\/b> test cases follows.<\/p>\n<p>Each test case consists of exactly 3 lines. The first line of each test case contains two space separated integers <b>N<\/b> and <b>K<\/b>. The second line contains <b>N\u22121<\/b> space separated integers <b>A<sub>1<\/sub>, A<sub>2<\/sub>, ..., A<sub>N\u22121<\/sub><\/b>. Finally, the third line contains <b>N<\/b> space separated integers <b>B<sub>0<\/sub>, B<sub>1<\/sub>, ..., B<sub>N\u22121<\/sub><\/b>.<\/p>\n<h3>Output<\/h3>\n<p>For each test case, output a single line containing the minimum value of the integral mentioned in the problem statement. The output must have an absolute or relative error at most <b>0.000001 (10<sup>\u22126<\/sup>)<\/b>. Please, note that your output should not have more than <b>1000<\/b> digits after the decimal point, otherwise you may (or may not) get <i>wrong answer<\/i> or <i>runtime error (SIGXFSZ)<\/i>.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1<\/b> \u2264 <b>T<\/b> \u2264 <b>250<\/b><\/li>\n<li><b>2<\/b> \u2264 <b>N<\/b> \u2264 <b>8<\/b><\/li>\n<li><b>1<\/b> \u2264 <b>K<\/b> \u2264 <b>4<\/b><\/li>\n<li><b>0<\/b> \u2264 <b>A<sub>1<\/sub><\/b> &lt; <b>A<sub>2<\/sub><\/b> &lt; ... &lt; <b>A<sub>N\u22121<\/sub><\/b> \u2264 <b>20130120<\/b><\/li>\n<li><b>0<\/b> \u2264 <b>B<sub>0<\/sub><\/b>, <b>B<sub>1<\/sub><\/b>, ..., <b>B<sub>N\u22121<\/sub><\/b> \u2264 <b>20130120<\/b><\/li>\n<li>It can occur that <b>B<sub>i\u22121<\/sub><\/b> = <b>B<sub>i<\/sub><\/b> for some <b>i = 1, 2, ..., N\u22121<\/b><\/li>\n<li>The sum of <b>N<sup>3<\/sup><\/b> in one test file does not exceed <b>2013<\/b><\/li>\n<\/ul>\n<h3>Example<\/h3>\n<pre>\n<b>Input:<\/b>\n3\n2 1\n1000\n900 1000\n2 2\n1000\n900 1000\n3 1\n500 1200\n20 60 30\n\n<b>Output:<\/b>\n2500.0000000000\n1250.0000000000\n625.0000000000\n<\/pre><h3>Explanation<\/h3>\n<p>The following figure corresponds to the example case 1. Here the bold red line denotes the correct pitch <b>f(t)<\/b> and the blue line denotes the optimal Ciel's pitch <b>g(t)<\/b>. The answer is the area of the green region.<\/p>\n<p><img src=\"http:\/\/www.codechef.com\/download\/CIELKARA.png\" width=\"289\" height=\"258\" \/><\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"2.013","source_sizelimit":"50000","problem_author":"laycurse","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>laycurse<\/span>","problem_tester":"anton_lunyov","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>anton_lunyov<\/span>","date_added":"2-01-2013","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cook30'>\n                    cook30\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/laycurse'>\n                    laycurse\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/math'>\n                    math\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>\n                    medium-hard\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/CIELKARA","user":{"username":null},"time":{"view_start_date":1358709987,"submit_start_date":1358709987,"visible_start_date":1358709858,"end_date":1735669800,"current":1493556958},"todo":false,"problem_status":"unattempted"}
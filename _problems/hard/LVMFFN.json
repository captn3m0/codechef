{"category_name":"hard","status":"success","problem_code":"LVMFFN","problem_name":"LOVEMUFFIN","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/JULY19\/hindi\/LVMFFN.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/JULY19\/bengali\/LVMFFN.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/JULY19\/mandarin\/LVMFFN.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/JULY19\/russian\/LVMFFN.pdf) and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/JULY19\/vietnamese\/LVMFFN.pdf) as well.\n\nOWCA has fallen and now, L.O.V.E.M.U.F.F.I.N are finally free to do whatever they want.\n\nIn order to celebrate their victory, the $N$ members of L.O.V.E.M.U.F.F.I.N (numbered $1$ through $N$) want to have some ice-cream. But first, they need to divide the loot they found in OWCA's headquarters. The loot consists of $M$ dollar bills. In the order from member $1$ to member $N$, the members of L.O.V.E.M.U.F.F.I.N start to propose plans to divide the loot, i.e. the number of dollar bills each member should receive (not necessarily the same for everyone). Whenever someone proposes a plan, a vote is held. Let's denote the current number of members of L.O.V.E.M.U.F.F.I.N by $x$. If at least $\\left\\lfloor\\frac{x}{K}\\right\\rfloor + 1$ members vote *for* a plan, this plan is accepted, the loot is distributed accordingly, no other plans are proposed and everyone goes for icecream. Otherwise, the person who proposed the plan is thrown off the roof for wasting the others' time with nonsense and the next person proposes a plan.\n\nAs we all know, all members of L.O.V.E.M.U.F.F.I.N are smart evil scientists. Therefore, during each vote and for each member, this member will vote against the currently proposed plan if they are sure that if this plan is rejected, they will gain at least as much loot as if it was accepted. Assume that all scientists act optimally and are aware that everyone else also acts optimally. We consider those who are thrown off the roof to gain exactly $-10^{100}$ dollars in loot, since they will not live to see another day.\n\nDr. D happens to be the first person to devise a plan. Can Dr. D avoid being thrown off the roof? If so, what is the maximum amount of loot Dr. D can gain? You should find the answers for multiple scenarios; in each scenario, $N$ and $M$ can be different, but $K$ is the same for all scenarios.\n\n### Input\n- The first line of the input contains two space-separated integers $K$ and $Q$.\n- Each of the next $Q$ lines contains two space-separated integers $N$ and $M$ describing a scenario.\n\n### Output\nFor each scenario, print a single line. If Dr. D can avoid being thrown off the roof, this line should contain a single integer - the maximum amount of loot. Otherwise, it should contain the string `\"Thrown off the roof.\"` (without quotes).\n\n### Constraints\n- $2 \\le K \\le 10^5$\n- $1 \\le Q \\le 5 \\cdot 10^5$\n- $1 \\le N \\le 10^{18}$\n- $2 \\le M \\le 10^{18}$\n\n### Subtasks\n**Subtask #1 (15 points):**\n- $K = 2$\n- $N, M \\le 5,000$\n- the sum of $N$ over all scenarios does not exceed $5,000$\n\n**Subtask #2 (15 points):**\n- $K = 2$\n- the sum of $N$ over all scenarios does not exceed $5 \\cdot 10^5$\n\n**Subtask #3 (70 points):** original constraints\n\n### Example Input\n```\n2 2\n5 5\n1 100\n```\n\n### Example Output\n```\n2\n100\n```\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/JULY19\/hindi\/LVMFFN.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/JULY19\/bengali\/LVMFFN.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/JULY19\/mandarin\/LVMFFN.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/JULY19\/russian\/LVMFFN.pdf) and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/JULY19\/vietnamese\/LVMFFN.pdf) as well.\n\nOWCA has fallen and now, L.O.V.E.M.U.F.F.I.N are finally free to do whatever they want.\n\nIn order to celebrate their victory, the $N$ members of L.O.V.E.M.U.F.F.I.N (numbered $1$ through $N$) want to have some ice-cream. But first, they need to divide the loot they found in OWCA's headquarters. The loot consists of $M$ dollar bills. In the order from member $1$ to member $N$, the members of L.O.V.E.M.U.F.F.I.N start to propose plans to divide the loot, i.e. the number of dollar bills each member should receive (not necessarily the same for everyone). Whenever someone proposes a plan, a vote is held. Let's denote the current number of members of L.O.V.E.M.U.F.F.I.N by $x$. If at least $\\left\\lfloor\\frac{x}{K}\\right\\rfloor + 1$ members vote *for* a plan, this plan is accepted, the loot is distributed accordingly, no other plans are proposed and everyone goes for icecream. Otherwise, the person who proposed the plan is thrown off the roof for wasting the others' time with nonsense and the next person proposes a plan.\n\nAs we all know, all members of L.O.V.E.M.U.F.F.I.N are smart evil scientists. Therefore, during each vote and for each member, this member will vote against the currently proposed plan if they are sure that if this plan is rejected, they will gain at least as much loot as if it was accepted. Assume that all scientists act optimally and are aware that everyone else also acts optimally. We consider those who are thrown off the roof to gain exactly $-10^{100}$ dollars in loot, since they will not live to see another day.\n\nDr. D happens to be the first person to devise a plan. Can Dr. D avoid being thrown off the roof? If so, what is the maximum amount of loot Dr. D can gain? You should find the answers for multiple scenarios; in each scenario, $N$ and $M$ can be different, but $K$ is the same for all scenarios.\n\n### Input\n- The first line of the input contains two space-separated integers $K$ and $Q$.\n- Each of the next $Q$ lines contains two space-separated integers $N$ and $M$ describing a scenario.\n\n### Output\nFor each scenario, print a single line. If Dr. D can avoid being thrown off the roof, this line should contain a single integer - the maximum amount of loot. Otherwise, it should contain the string `\"Thrown off the roof.\"` (without quotes).\n\n### Constraints\n- $2 \\le K \\le 10^5$\n- $1 \\le Q \\le 5 \\cdot 10^5$\n- $1 \\le N \\le 10^{18}$\n- $2 \\le M \\le 10^{18}$\n\n### Subtasks\n**Subtask #1 (15 points):**\n- $K = 2$\n- $N, M \\le 5,000$\n- the sum of $N$ over all scenarios does not exceed $5,000$\n\n**Subtask #2 (15 points):**\n- $K = 2$\n- the sum of $N$ over all scenarios does not exceed $5 \\cdot 10^5$\n\n**Subtask #3 (70 points):** original constraints","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"2 2\n5 5\n1 100","output":"2\n100","explanation":"","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"0.5","source_sizelimit":"50000","problem_author":"kmaaszraa","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span class='m-username--link'>kmaaszraa<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"4-06-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/kmaaszraa'>kmaaszraa<\/a>","problem_difficulty_level":"Hard","user_zen_mode":false,"best_tag":"","editorial_url":"","time":{"view_start_date":1563183002,"submit_start_date":1563183002,"visible_start_date":1563183002,"end_date":1735669800,"current":1643797997},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=LVMFFN","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
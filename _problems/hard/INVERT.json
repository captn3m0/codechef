{"category_name":"hard","status":"success","problem_code":"INVERT","problem_name":"Gaming Inversion","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME27\/mandarin\/INVERT.pdf\">Mandarin Chinese <\/a> , <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME27\/russian\/INVERT.pdf\">Russian<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/LTIME27\/vietnamese\/INVERT.pdf\">Vietnamese<\/a><\/h3>\n<p>Devu and Churu like to play mathematical games. Today, Devu got hold of a 1-indexed array <b>A<\/b> consisting of <b>N<\/b> integers while Churu has an empty array <b>B<\/b>. They have decided to play with these arrays and have agreed to make their moves turn by turn. Devu in his turn will choose a contiguous segment from his array, i.e, 2 integers <b>L<\/b> and <b>R<\/b> such that <b>1 \u2264 L \u2264 R \u2264 |A|<\/b>, where <b>|A|<\/b> denotes the current size of array <b>A<\/b>. He then inserts this contiguous subarray into Churu\u2019s array at some position <b>K<\/b> such that <b>1 \u2264 K \u2264 |B|+1<\/b> where <b>|B|<\/b> denotes the current size of array <b>B<\/b>.<\/p>\n<p><b>For example:<\/b> If Devu inserts a subarray of size <b>S<\/b> at position <b>X<\/b> into Churu\u2019s array, then all the elements that were present at position <b>Z<\/b> such that <b>X \u2264 Z \u2264 |B|<\/b> will get shifted towards right by <b>S<\/b> positions. Devu\u2019s array would then get rearranged to accumulate the space that was left vacant by removing the segment <b>L<\/b> to <b>R<\/b> of his array.<\/p>\n<p>In Churu's turn, he has to report the total number of inversions in array <b>B<\/b> after each of Devu's move.<\/p>\n<p>Devu is playing well during each of his moves but Churu is getting slower as the number of elements are increasing in his array <b>B<\/b>. Therefore, he asks for your help.<\/p>\n<p>You are provided with Devu's array <b>A<\/b> and a sequence of all his moves. You have to report the inversion count in churu's array <b>B<\/b> after each of Devu's move.<\/p>\n<p><b>Note : <\/b><br\/><\/br\/><\/p>\n<p>In any arbitrary array <b>C<\/b>, a pair of indices <b>x<\/b> and <b>y<\/b> such that <b>x &lt; y<\/b> and <b>C[x] > C[y]<\/b> is known as an inversion.<\/p>\n<h3>Input<\/h3>\n<p>First line of input contains two space separated integers <b>N<\/b> and <b>Q<\/b> denoting the size of an array <b>A<\/b> and number of Devu's moves. Next lines of input contains <b>N<\/b> space separated integers denoting the elements of Devu's array. Next <b>Q<\/b> lines contain the <b>Q<\/b> moves, one move per line. Each move consists of three integers <b>L<\/b>, <b>R<\/b> and <b>K<\/b> such that <b>1 \u2264 L \u2264 R \u2264 |A|<\/b> and <b>1 \u2264 K \u2264 |B|+1<\/b> holds.<\/p>\n<h3>Output<\/h3>\n<p>After each of the Devu's move, report the required answer for Churu.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<b>\n<li>1 \u2264 N, Q \u2264 10<sup>5<\/sup><\/li>\n<p><\/p><\/b><br \/>\n<b>\n<li>1 \u2264 A<sub>i<\/sub> \u2264 10<sup>9<\/sup><\/li>\n<p><\/p><\/b>\n<\/ul>\n<h3>Subtasks<\/h3>\n<ul>\n<li><b>subtask 1:<\/b> 1 \u2264 N, Q \u2264 2000 <b>( 30 pts )<\/b>, TL = 1 sec<\/li>\n<li><b>subtask 2:<\/b> 1 \u2264 N, Q \u2264 10<sup>5<\/sup>, K = |B|+1 where |B| denotes the current size of array B <b>( 30 pts )<\/b> <\/li>\n<li><b>subtask 3:<\/b> 1 \u2264 N, Q \u2264 10<sup>5<\/sup> <b>( 40 pts )<\/b><\/li>\n<\/ul>\n<h3>Example<\/h3>\n<p><b>Input<\/b><\/p>\n<pre>\n5 4\n4 3 2 5 1\n1 2 1\n3 3 2\n2 2 3\n1 1 2\n<\/pre><p>\n<b>Input<\/b><\/p>\n<pre>\n1\n2\n3\n5\n<\/pre><h3>Explanation<\/h3>\n<ul>\n<li>After Q1, <b>A<\/b> = {2, 5, 1}, <b>B<\/b> = {4, 3}. Therefore, inversion count in <b>B<\/b> is 1.<\/li>\n<li>After Q2, <b>A<\/b> = {2, 5}, <b>B<\/b> = {4, 1, 3}. Therefore, inversion count in <b>B<\/b> is 2.<\/li>\n<li>After Q3, <b>A<\/b> = {2}, <b>B<\/b> = {4, 1, 5, 3}. Therefore, inversion count in <b>B<\/b> is 3.<\/li>\n<li>After Q4, <b>A<\/b> = {}, <b>B<\/b> = {4, 2, 1, 5, 3}. Therefore, inversion count in <b>B<\/b> is 5.<\/li>\n<\/ul>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1 - 5","source_sizelimit":"50000","problem_author":"ma5termind","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #3366CC;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>3&#9733;<\/span><span>ma5termind<\/span>","problem_tester":"minimario","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #1E7D22;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>2&#9733;<\/span><span>minimario<\/span>","date_added":"9-08-2015","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/binary'>\n                    binary\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/binary-search'>\n                    binary-search\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/data-structure'>\n                    data-structure\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/hard'>\n                    hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/ltime27'>\n                    ltime27\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/ma5termind'>\n                    ma5termind\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/sqrt-decomp'>\n                    sqrt-decomp\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/INVERT","user":{"username":null},"time":{"view_start_date":1440923400,"submit_start_date":1440923400,"visible_start_date":1440923400,"end_date":1735669800,"current":1493556738},"todo":false,"problem_status":"unattempted"}
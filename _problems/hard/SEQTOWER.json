{"category_name":"hard","status":"success","problem_code":"SEQTOWER","problem_name":"Adding Up Sequences of Towers","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/COOK60\/mandarin\/SEQTOWER.pdf\">Mandarin Chinese<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/COOK60\/russian\/SEQTOWER.pdf\">Russian<\/a> as well.<\/h3>\n<p>You are given an array <b>A<\/b> consisting of prime numbers greater than 4.<\/p>\n<pre>\nFun( Sequence S )\n{\n\n        if ( S has only 1 element )    return A[S[1]]\n\n        X = S[2...last element]\n\n        return power( A[S[1]] , Fun(X) )\n\n}\n\n<\/pre><p>where <b>power(A, B)<\/b> returns <b>A<sup>B<\/sup><\/b>, and <b>A<\/b> is <b>1<\/b>-indexed.<\/p>\n<p>Fun(S) :<img src = \"https:\/\/s3.amazonaws.com\/codechef_shared\/download\/seq.png\" \/><\/p>\n<p>Now you need to find the <b>sum<\/b> of the values returned by <b>Fun(S)<\/b> for every <em>distinct sequence<\/em> <b>S<\/b>.<\/p>\n<p>Each element of <b>S<\/b> is an integer from <b>1<\/b> to <b>N<\/b>. Thus, there are <b>N<sup>N<\/sup><\/b> possible sequences in all. As the values can be large, return it modulo <b>M<\/b>.<\/p>\n<h3>Input<\/h3>\n<p>First line contains <b>T<\/b>, the number of test cases to follow.<\/p>\n<p>First line of each test case contains two space separated integers <b>N<\/b> and <b>M<\/b>.<\/p>\n<p>Second line of the test case contains <b>N<\/b> (space separated) integers of the array <b>A<\/b>.<\/p>\n<h3>Output<\/h3>\n<p>\nFor each test case, output the <b>sum<\/b> modulo <b>M<\/b> as explained above.\n<\/p>\n<h3>Constraints<\/h3>\n<p>There are two types of test files:<\/p>\n<p><b>File Type 1<\/b>:<\/p>\n<ul>\n<li>2 \u2264 <b>N<\/b> \u2264 100<\/li>\n<li>2 \u2264 <b>M<\/b> \u2264 500<\/li>\n<li>1 \u2264 <b>T<\/b> \u2264 1000<\/li>\n<li><b>A<sub>i<\/sub><\/b> is a <b>prime number<\/b> greater than <b>4<\/b> and less than <b>10<sup>6<\/sup><\/b>.<\/li>\n<p>\n<\/p><\/ul>\n<p><b>File Type 2<\/b>:<\/p>\n<ul>\n<li>2 \u2264 <b>N<\/b> \u2264 10<sup>5<\/sup><\/li>\n<li>2 \u2264 <b>M<\/b> \u2264 5000<\/li>\n<li><b>T<\/b> = 1 <\/li>\n<li><b>A<sub>i<\/sub><\/b> is a <b>prime number<\/b> greater than <b>4<\/b> and less than <b>10<sup>6<\/sup><\/b>.<\/li>\n<p><br \/>\n<\/p><\/ul>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n4\n2 23\n7 11\n4 89\n5 7 13 11\n4 90\n5 5 5 5\n4 100\n5 11 7 17\n\n<b>Output:<\/b>\n10\n27\n80\n64\n\n<\/pre><h3>Explanation:<\/h3>\n<p> Test Case 1 : Answer will be (power(7,7)+power(7,11)+power(11,7)+power(11,11) )%23 <\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"2","source_sizelimit":"50000","problem_author":"devuy11","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;<\/span><span>devuy11<\/span>","problem_tester":"adurysk","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>adurysk<\/span>","date_added":"21-06-2015","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cook60'>\n                    cook60\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/devuy11'>\n                    devuy11\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/maths'>\n                    maths\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>\n                    medium-hard\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/SEQTOWER","user":{"username":null},"time":{"view_start_date":1437330604,"submit_start_date":1437330604,"visible_start_date":1437330600,"end_date":1735669800,"current":1493556846},"todo":false,"problem_status":"unattempted"}
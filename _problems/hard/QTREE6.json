{"category_name":"hard","status":"success","problem_code":"QTREE6","problem_name":"Query on a tree VI","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/DEC13\/mandarin\/QTREE6.pdf\">Mandarin Chinese <\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/DEC13\/russian\/QTREE6_1.pdf\">Russian<\/a>.<\/h3>\n<p>You are given a tree (an acyclic undirected connected graph) with <strong>n<\/strong> nodes. The tree nodes are numbered from 1 to <strong>n<\/strong>. Each node has a color, white or black. All the nodes are black initially. We will ask you to perfrom some instructions of the following form:<\/p>\n<ul>\n<li><strong>0 u<\/strong>: ask for how many nodes are connected to <strong>u<\/strong>, two nodes are connected if all the node on the path from <strong>u<\/strong> to <strong>v<\/strong> (inclusive <strong>u<\/strong> and <strong>v<\/strong>) have the same color.<\/li>\n<li><strong>1 u<\/strong>: toggle the color of <strong>u<\/strong> (that is, from black to white, or from white to black).<\/li>\n<\/ul>\n<h3>Input<\/h3>\n<p>The first line contains a number <strong>n<\/strong> that denotes the number of nodes in the tree (1 \u2264 <strong>n<\/strong> \u2264 10<sup>5<\/sup>). In each of the following <strong>n-1<\/strong> lines, there will be two numbers (<strong>u<\/strong>, <strong>v<\/strong>) that describes an edge of the tree (1 \u2264 <strong>u<\/strong>, <strong>v<\/strong> \u2264 <strong>n<\/strong>). The next line contains a number <strong>m<\/strong> denoting number of operations we are going to process (1 \u2264 <strong>m<\/strong> \u2264 10<sup>5<\/sup>). Each of the following <strong>m<\/strong> lines describe an operation (<strong>t<\/strong>, <strong>u<\/strong>) as we mentioned above(0 \u2264 <strong>t<\/strong> \u2264 1, 1 \u2264 <strong>u<\/strong> \u2264 <strong>n<\/strong>).<\/p>\n<h3>Output<\/h3>\n<p>For each query operation, output the corresponding result.<\/p>\n<h3>Example<\/h3>\n<pre style=\"text-align: left;\"><strong>Input 1:<\/strong><br \/>5\n1 2\n1 3\n1 4\n1 5\n3\n0 1\n1 1\n0 1\n<strong>Output 1:<\/strong><br \/>5\n1<\/pre><pre style=\"text-align: left;\"><strong><br \/>Input 2:<br \/><\/strong>7\n1 2\n1 3\n2 4\n2 5\n3 6\n3 7\n4\n0 1\n1 1\n0 2\n0 3\n<strong><br \/><br \/>Output 2:<\/strong><br \/>7\n3\n3<br \/><br \/><br \/><strong>Warning: large input\/output data,be careful with certain languages<\/strong><\/pre><p>\u00a0<\/p>\n<p>\u00a0<\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"xiaodao","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>xiaodao<\/span>","problem_tester":"gerald","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>gerald<\/span>","date_added":"7-11-2013","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/dec13'>\n                    dec13\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/hard'>\n                    hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/heavy-light'>\n                    heavy-light\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/link-cut-tree'>\n                    link-cut-tree\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/xiaodao'>\n                    xiaodao\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/QTREE6","user":{"username":null},"time":{"view_start_date":1387186200,"submit_start_date":1387186200,"visible_start_date":1387186200,"end_date":1735669800,"current":1493556808},"todo":false,"problem_status":"unattempted"}
{"contest_code":"DEC14","contest_name":"December Challenge 2014","status":"success","problem_code":"RIN","problem_name":"Course Selection","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3>Read problems statements in <a href=\"\/download\/translated\/DEC14\/mandarin\/RIN.pdf\" target=\"_blank\">Mandarin Chinese <\/a> and <a href=\"\/download\/translated\/DEC14\/russian\/RIN.pdf\" target=\"_blank\">Russian<\/a>.<\/h3>\r\n<p>Rin is attending a university.<\/p>\r\n<p>She has <b>M<\/b> semesters to finish her program, and that program has <b>N<\/b> required courses. Each course must be taken in exactly one of the semesters.<\/p>\r\n<p>Some courses have prerequisites: for each <b>i<\/b> from 1 to <b>K<\/b>, she must take course <b>A[i]<\/b> before course <b>B[i]<\/b>.<\/p>\r\n<p>The same course may be taught by different professors in different semesters, and how well she does will depend on which professor teaches her. Additionally, some courses may not be taught every semester.<\/p>\r\n<p>We are given an array <b>X<\/b> representing this information. For each course <b>i<\/b> and each semester <b>j<\/b>, <b>X[i][j]<\/b> = -1 if course <b>i<\/b> is not taught in semester <b>j<\/b>. Otherwise, <b>X[i][j]<\/b> will be an integer between 0 and 100: the expected score Rin will get if she takes course <b>i<\/b> in semester <b>j<\/b>.<\/p>\r\n<p>Rin may take any number of courses per semester, including none, as long as they are taught that semester and she has already taken any required prerequisite courses.<\/p>\r\n<p>Help Rin to find the maximal average score she can get over her whole program.<\/p>\r\n<h3>Input<\/h3>\r\n<p>The first line contain 3 integers: <b>N<\/b>, <b>M<\/b> and <b>K<\/b>.<\/p>\r\n<p>This is followed by <b>N<\/b> lines, each containing <b>M<\/b> integers. The <b>j<\/b><sup>th<\/sup> integer on the <b>i<\/b><sup>th<\/sup> line represents the value of <b>X[i][j]<\/b>.<\/p>\r\n<p>This is followed by <b>K<\/b> lines, each containing two integers: <b>A[i]<\/b> and <b>B[i]<\/b>.<\/p>\r\n<h3>Output<\/h3>\r\n<p>Output one real number: the maximal average score, rounded to 2 digits after the decimal point.<\/p>\r\n<h3>Constraints<\/h3>\r\n<ul>\r\n<li>1 \u2264 <b>M<\/b>, <b>N<\/b> \u2264 100<\/li>\r\n<li>0 \u2264 <b>K<\/b> \u2264 100<\/li>\r\n<li>-1 \u2264 <b>X[i][j]<\/b> \u2264 100<\/li>\r\n<li>1 \u2264 <b>A[i]<\/b>, <b>B[i]<\/b> \u2264 <b>N<\/b><\/li>\r\n<li>For each <b>i<\/b>, <b>A[i]<\/b> \u2260 <b>B[i]<\/b>.<\/li>\r\n<li>For different <b>i<\/b> and <b>j<\/b>, (<b>A[i]<\/b>, <b>B[i]<\/b>) \u2260 (<b>A[j]<\/b>, <b>B[j]<\/b>).<\/li>\r\n<li>We guarantee there exists a way to take these <b>N<\/b> courses in <b>M<\/b> semesters.<\/li>\r\n<\/ul>\r\n<h3>Subtasks<\/h3>\r\n<p><b>Subtask 1<\/b>: (20 Points) A course can have at most 1 pre request course.<\/p>\r\n<p><b>Subtask 2<\/b>: (80 Points) Refer to constraints above<\/p>\r\n<h3>Example<\/h3>\r\n<pre><b>Input 1:<\/b>\r\n3 2 2\r\n70 100\r\n100 80\r\n100 90\r\n1 2\r\n1 3\r\n\r\n<b>Output 1:<\/b>\r\n80.00\r\n\r\n<b>Input 2:<\/b>\r\n4 5 4\r\n20 -1 100 -1 -1\r\n100 30 -1 -1 -1\r\n100 -1 30 20 40\r\n100 30 40 50 20\r\n1 2\r\n1 3\r\n2 4\r\n3 4\r\n\r\n<b>Output 2:<\/b>\r\n32.50\r\n<\/pre>\r\n<h3>Explanation<\/h3>\r\n<p><b>Example case 1<\/b><\/p>\r\n<p>The only way she can finish these 3 courses is: take course 1 in the first semester, then take courses 2 and 3 in the second semester. The average score is (70 + 80 + 90) \/ 3 = 80.00.<\/p>\r\n<p><b>Example case 2<\/b><\/p>\r\n<p>The optimal solution is: take course 1 in semester 1, course 2 in semester 2, course 3 in semester 3 and course 4 in semester 4.<\/p>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"cgy4ever","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;<\/span><span>cgy4ever<\/span>","problem_tester":"xiaodao","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span>xiaodao<\/span>","date_added":"9-10-2014","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cgy4ever'>\n                    cgy4ever\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/dec14'>\n                    dec14\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/graph'>\n                    graph\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/hard'>\n                    hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/maxflow'>\n                    maxflow\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/RIN","user":{"username":null},"time":{"view_start_date":1417771800,"submit_start_date":1417771800,"visible_start_date":1418643000,"end_date":1418635800,"current":1493557251},"todo":false,"problem_status":"unattempted"}
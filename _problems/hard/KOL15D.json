{"category_name":"hard","status":"success","problem_code":"KOL15D","problem_name":"Seats","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><p>\nThere are <b>N<\/b> seats in a theatre, all of them in a single row. The seats are numbered from 1 to <b>N<\/b>. You are given two types of events:\n<\/p>\n<ul>\n<li><b>1<\/b> \u2014 A person arrives. Persons are numbered from 1 in order of their arrival.<\/li>\n<li><b>2 i<\/b> \u2014 Person <b>i<\/b> leaves the theatre.<\/li>\n<\/ul>\n<p>\nA person arriving in the theatre chooses a seat according to the following algorithm:<br\/>\nIf the entire theatre is empty, the person will occupy seat 1.<br\/>\nOtherwise, he will occupy the seat which is farthest possible from any nearest seated persons. In other words, in the seat which maximizes the minimum distance to any other person currently seated. If there are many such seats, the person will occupy the leftmost of them.\n<\/p>\n\n<h3>Input<\/h3>\nThe first line of input contains 2 space-separated integers: the first is <b>N<\/b>, denoting the number of seats, and the second is <b>Q<\/b>, denoting the number of events.\nThen <b>Q<\/b> events follow in the format described above.\n\n<h3>Output<\/h3>\nFor each person arriving, output the seat number that he occupies.\n\n<h3>Constraints<\/h3>\n<ul>\n<li>1 \u2264 N \u2264 10<sup>18<\/sup><\/li>\n<li>1 \u2264 Q \u2264 2 * 10<sup>5<\/sup><\/li>\n<li>Each query is valid.<\/li>\n<\/ul>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n2 7\n1\n1\n2 1\n1\n2 2\n2 3\n1\n\n<b>Output:<\/b>\n1\n2\n1\n1\n<\/pre>\n\n<br><b>Explanation:<\/b><br>\nInitially both seats are empty (x denotes empty seat and number denotes id of person occupying it):<br>\nxx<br><br>\n\nQuery 1: Person #1 arrives and takes seat 1 (so output 1):<br>\n1x<br><br>\n\nQuery 2: Person #2 arrives and takes seat 2 (so output 2):<br>\n12<br><br>\n\nQuery 3: Person #1 leaves:<br>\nx2<br><br>\n\nQuery 4: Person #3 arrives and takes seat 1 (so output 1):<br>\n32<br><br>\n\nQuery 5: Person #2 leaves:<br>\n3x<br><br>\n\nQuery 6 Person #3 leaves:<br>\nxx<br><br>\n\nQuery 7: Person #4 arrives and takes seat 1 (so output 1):<br>\n4x<br><br>\n\n\n","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.5","max_timelimit":"2","source_sizelimit":"50000","problem_author":"balajiganapath","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>balajiganapath<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"11-10-2015","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/acmkol15'>acmkol15<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/balajiganapath'>balajiganapath<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/maps'>maps<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/medium-hard'>medium-hard<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/tree'>tree<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/tree-based'>tree-based<\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/KOL15D","time":{"view_start_date":1446296400,"submit_start_date":1446296400,"visible_start_date":1446296400,"end_date":1735669800,"current":1525198968},"user":{"username":""},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}
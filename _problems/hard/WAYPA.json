{"category_name":"hard","status":"success","problem_code":"WAYPA","problem_name":"Trip and Palindromes","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/DEC15\/mandarin\/WAYPA.pdf\">Mandarin Chinese<\/a>, <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/DEC15\/russian\/WAYPA.pdf\">Russian<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/DEC15\/vietnamese\/WAYPA.pdf\">Vietnamese<\/a> as well.<\/h3>\n\n\n<p>Serega is an avid traveller. He has already visited numerous exotic places, and now wants to embark on a journey to Treeland. There are <b>N<\/b> cities in Treeland that Serega wants to visit. Also, roads have been laid between some <b>N-1<\/b> pairs of cities in Treeland. Roads are bidirectional, and there exists a unique path between any two Treeland cities.\n<\/p>\n<p>Each of Treeland's roads has its own class, wich is specified using a single digit. Serega's journey is a path between some cities, i.e. he never visits one city more than once. But Serega wants to select a path such that the sequence of classes on the path is a palindrome. Of course, Serega wants to visit as many cities as possible. Please help Him.\n<\/p>\n\n\n<h3>Input<\/h3>\nThe first line of input contains a single integer <b>T<\/b> denoting the number of test cases. The description of <b>T<\/b> test cases follows.\n<p>The first line of each case contains a single integer <b>N<\/b>. The next <b>N-1<\/b> lines contain the roads. Each line contains three integers <b>v<\/b>, <b>u<\/b> and <b>c<\/b>, meaning that there is a road of class <b>c<\/b> between the <b>v<\/b><sup>th<\/sup> and <b>u<\/b><sup>th<\/sup> (assuming 1-indexing) cities of Treeland.<\/p>\n\n<h3>Output<\/h3>\n<p>For each test case, you should output the maximum number of cities that Serega can visit.<\/p>\n\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1 \u2264 T \u2264 3*10<sup>5<\/sup><\/b><\/li>\n<li><b>1 \u2264 N \u2264 10<sup>5<\/sup><\/b><\/li>\n<li>Sum of N over all test cases in a single file will not be greater then <b>3*10<sup>5<\/sup><\/b><\/li>\n<li><b>0 \u2264 c \u2264 9<\/b><\/li>\n<li><b>1 \u2264 u, v \u2264 N<\/b><\/li>\n<li>The roads form a tree.<\/li>\n<\/ul>\n\n<h3>Subtasks<\/h3>\n<ul>\n<li>Subtask #1 (15 points): <b>1 \u2264 N \u2264 10<sup>2<\/sup><\/b> <\/li>\n<li>Subtask #2: (85 points): <b>1 \u2264 N \u2264 10<sup>5<\/sup><\/b> <\/li>\n<\/ul>\n<p> <\/p>\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n1\n8\n1 2 1\n1 3 0\n3 4 1\n4 5 2\n1 6 0\n6 7 1\n7 8 2\n\n<b>Output:<\/b>\n7\n<\/pre>\n<p> <\/p>\n<h3>Explanation<\/h3>\n<p>Sequence of classes on the path between the cities <b>5<\/b> and <b>8<\/b> is <b>210012<\/b>.<\/p>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"5","source_sizelimit":"50000","problem_author":"gomelfk","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>gomelfk<\/span>","problem_tester":"xcwgf666","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>xcwgf666<\/span>","date_added":"1-11-2015","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/binary-search'>\n                    binary-search\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/centroid-decomp'>\n                    centroid-decomp\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/dec15'>\n                    dec15\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/gomelfk'>\n                    gomelfk\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/hard'>\n                    hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/hashing'>\n                    hashing\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/WAYPA","user":{"username":null},"time":{"view_start_date":1450085400,"submit_start_date":1450085400,"visible_start_date":1450085400,"end_date":1735669800,"current":1493556895},"todo":false,"problem_status":"unattempted"}
{"category_name":"hard","status":"success","problem_code":"EGGFREE","problem_name":"Egg-free DAG","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/hindi\/EGGFREE.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/bengali\/EGGFREE.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/mandarin\/EGGFREE.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/russian\/EGGFREE.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/vietnamese\/EGGFREE.pdf) as well.\r\n\r\nLet's call a directed graph *egg-free* if it is acyclic and for any three pairwise distinct vertices $x$, $y$ and $z$, if the graph contains edges $x \\rightarrow y$ and $x \\rightarrow z$, then it also contains an edge $y \\rightarrow z$ and\/or an edge $z \\rightarrow y$.\r\n\r\nYou are given an undirected graph with $N$ vertices (numbered $1$ through $N$) and $M$ edges (numbered $1$ through $M$). Find a way to assign a direction to each of its edges such that the resulting directed graph is egg-free, or determine that it is impossible. If there are multiple solutions, you may find any one.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $M$.\r\n- $M$ lines follow. For each valid $i$, the $i$-th of these lines contains two space-separated integers $u_i$ and $v_i$ denoting an edge between vertices $u_i$ and $v_i$.\r\n\r\n### Output\r\nFor each test case:\r\n- If it is impossible to assign a direction to each edge in such a way that the resulting graph is egg-free, print a single line containing the string `\"No solution\"` (without quotes).\r\n- Otherwise, print a single line containing a string with length $M$. For each valid $i$, the $i$-th character of this string should be '^' if you want to direct the $i$-th edge from $u_i$ to $v_i$, or 'v' if you want to direct it from $v_i$ to $u_i$.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 5$\r\n- $1 \\le N, M \\le 200,000$\r\n- $1 \\le u_i, v_i \\le N$ for each valid $i$\r\n- $u_i \\neq v_i$ for each valid $i$\r\n- each pair of vertices is connected by at most one edge\r\n\r\n### Subtasks\r\n**Subtask #1 (10 points):** $N, M \\le 20$\r\n\r\n**Subtask #2 (20 points):** $N, M \\le 200$\r\n\r\n**Subtask #3 (70 points):** original constraints\r\n\r\n### Example Input\r\n```\r\n2\r\n3 3\r\n1 2\r\n2 3\r\n3 1\r\n7 6\r\n1 2\r\n2 3\r\n3 4\r\n4 5\r\n5 6\r\n6 7\r\n```\r\n\r\n### Example Output\r\n```\r\n^^v\r\n^^^^^^\r\n```\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/hindi\/EGGFREE.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/bengali\/EGGFREE.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/mandarin\/EGGFREE.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/russian\/EGGFREE.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/vietnamese\/EGGFREE.pdf) as well.\r\n\r\nLet's call a directed graph *egg-free* if it is acyclic and for any three pairwise distinct vertices $x$, $y$ and $z$, if the graph contains edges $x \\rightarrow y$ and $x \\rightarrow z$, then it also contains an edge $y \\rightarrow z$ and\/or an edge $z \\rightarrow y$.\r\n\r\nYou are given an undirected graph with $N$ vertices (numbered $1$ through $N$) and $M$ edges (numbered $1$ through $M$). Find a way to assign a direction to each of its edges such that the resulting directed graph is egg-free, or determine that it is impossible. If there are multiple solutions, you may find any one.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $M$.\r\n- $M$ lines follow. For each valid $i$, the $i$-th of these lines contains two space-separated integers $u_i$ and $v_i$ denoting an edge between vertices $u_i$ and $v_i$.\r\n\r\n### Output\r\nFor each test case:\r\n- If it is impossible to assign a direction to each edge in such a way that the resulting graph is egg-free, print a single line containing the string `\"No solution\"` (without quotes).\r\n- Otherwise, print a single line containing a string with length $M$. For each valid $i$, the $i$-th character of this string should be '^' if you want to direct the $i$-th edge from $u_i$ to $v_i$, or 'v' if you want to direct it from $v_i$ to $u_i$.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 5$\r\n- $1 \\le N, M \\le 200,000$\r\n- $1 \\le u_i, v_i \\le N$ for each valid $i$\r\n- $u_i \\neq v_i$ for each valid $i$\r\n- each pair of vertices is connected by at most one edge\r\n\r\n### Subtasks\r\n**Subtask #1 (10 points):** $N, M \\le 20$\r\n\r\n**Subtask #2 (20 points):** $N, M \\le 200$\r\n\r\n**Subtask #3 (70 points):** original constraints","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"2\r\n3 3\r\n1 2\r\n2 3\r\n3 1\r\n7 6\r\n1 2\r\n2 3\r\n3 4\r\n4 5\r\n5 6\r\n6 7","output":"^^v\r\n^^^^^^","explanation":"","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"3","source_sizelimit":"50000","problem_author":"gainullinildar","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span class='m-username--link'>gainullinildar<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"25-02-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/chordal-graph'>chordal-graph<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/gainullinildar'>gainullinildar<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/hard'>hard<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/march20'>march20<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/tmwilliamlin'>tmwilliamlin<\/a>","problem_difficulty_level":"Hard","user_zen_mode":false,"best_tag":"Chordal Graph","editorial_url":"https:\/\/discuss.codechef.com\/problems\/EGGFREE","time":{"view_start_date":1112031000,"submit_start_date":1112031000,"visible_start_date":1112031000,"end_date":1735669800,"current":1643797993},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=EGGFREE","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
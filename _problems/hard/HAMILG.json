{"category_name":"hard","status":"success","problem_code":"HAMILG","problem_name":"A game on a graph","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3>Read problems statements in <a href=\"\/download\/translated\/JULY15\/mandarin\/HAMILG.pdf\" target=\"_blank\">Mandarin Chinese <\/a> and <a href=\"\/download\/translated\/JULY15\/russian\/HAMILG.pdf\" target=\"_blank\">Russian<\/a>.<\/h3>\r\n<p>Two players, Askar and Bob, play a game with a token on an undirected graph <b>G<\/b>. The game goes as follows:<\/p>\r\n<ul>\r\n<li>Askar chooses a starting vertex and places the token on this vertex.<\/li>\r\n<li>The players now alternate turns; Bob moves first.<\/li>\r\n<li>In his turn, each player has to move the token along exactly one edge to another vertex.<\/li>\r\n<li>It's not allowed to move the token to some vertex if it was on that vertex earlier during the game (including the starting vertex).<\/li>\r\n<li>The player who can't make a move loses.<\/li>\r\n<\/ul>\r\n<p>A vertex <tt>v<\/tt> is called a winning vertex if Askar is able to win after choosing this <tt>v<\/tt> as the starting vertex. Assume that both players play optimally.<\/p>\r\n<p>Given the graph <b>G<\/b>, determine how many winning vertices exist.<\/p>\r\n<h3>Input<\/h3>\r\n<ul>\r\n<li>The first line of the input contains an integer <b>T<\/b> - the number of test cases.<\/li>\r\n<li>The first line of each test case contains two integers <b>N<\/b> and <b>M<\/b>, denoting the number of vertices and the number of edges of <b>G<\/b>.<\/li>\r\n<li>The following <b>M<\/b> lines describe the edges of <b>G<\/b>. Each of these lines contains two integers <b>x<\/b> and <b>y<\/b>, denoting an edge between vertices <b>x<\/b> and <b>y<\/b>.<\/li>\r\n<\/ul>\r\n<h3>Output<\/h3>\r\n<p>For each test case, output a single line containing the number of winning vertices.<\/p>\r\n<h3>Constraints<\/h3>\r\n<p>\u00a0<\/p>\r\n<ul>\r\n<li><b>1<\/b> \u2264 <b>T<\/b> \u2264 <b>100<\/b><\/li>\r\n<li><b>N-1<\/b> \u2264 <b>M<\/b> \u2264 <b>N(N-1)\/2<\/b><\/li>\r\n<li><b>1<\/b> \u2264 <b>x,y<\/b> \u2264 <b>N<\/b><\/li>\r\n<li><b>x<\/b> \u2260 <b>y<\/b><\/li>\r\n<li>All unordered pairs <b>(x,y)<\/b> will be distinct<\/li>\r\n<li>The graph in each test case will be connected<\/li>\r\n<li>Sum of <b>M<\/b> over all test cases in a single file will never exceed <b>10<sup>6<\/sup><\/b>. <\/li>\r\n<\/ul>\r\n<p>\u00a0<\/p>\r\n<h3>Subtasks<\/h3>\r\n<p><i>Subtask 1 (8 points)<\/i>: <b>1 \u2264 N \u2264 18<\/b><\/p>\r\n<p><i>Subtask 2 (19 points)<\/i>: <b>1 \u2264 N \u2264 40<\/b><\/p>\r\n<p><i>Subtask 3 (26 points)<\/i>: <b>1 \u2264 N \u2264 200<\/b><\/p>\r\n<p><i>Subtask 4 (47 points)<\/i>: <b>1 \u2264 N \u2264 2000<\/b><\/p>\r\n<p>The time limit is 2 seconds for subtasks 1-3 and 5 seconds for subtask 4.<\/p>\r\n<h3>Example<\/h3>\r\n<pre><b>Input:<\/b>\r\n3\r\n4 6\r\n1 2\r\n1 3\r\n4 1\r\n4 2\r\n4 3\r\n2 3\r\n8 7\r\n3 2\r\n1 2\r\n4 2\r\n5 1\r\n6 3\r\n7 1\r\n8 3\r\n3 2\r\n1 2\r\n2 3\r\n\r\n<b>Output:<\/b>\r\n0\r\n4\r\n2\r\n<\/pre>\r\n<h3>Explanation<\/h3>\r\n<p><b>Example case 1.<\/b> The graph is a complete graph with 4 vertices, so the game will always last 3 turns; in the 4th turn, Askar will have no way to move and lose.<\/p>\r\n<p><b>Example case 2.<\/b> If Askar places the token on vertex 7, Bob will have to move it to vertex 1 and Askar can then move it to vertex 5 and win. A similar strategy exists for vertices 5, 6 and 8.<\/p>\r\n<p><b>Example case 3.<\/b> If Askar places the token on vertex 1, Bob will have to move it to vertex 2 and Askar can then move it to vertex 3 and win. The case when Askar starts at vertex 3 is analogous. On the contrary, if Askar starts at vertex 2, then Bob can move the token to either vertex 1 or 3, and in both cases Askar can't make a move and loses.<\/p>","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"2 - 5","source_sizelimit":"50000","problem_author":"xellos0","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>xellos0<\/span>","problem_tester":"mugurelionut","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>mugurelionut<\/span>","date_added":"11-02-2015","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/game-theory'>\n                    game-theory\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/graphs'>\n                    graphs\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/hard'>\n                    hard\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/july15'>\n                    july15\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/matching'>\n                    matching\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/xellos0'>\n                    xellos0\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/HAMILG","user":{"username":null},"time":{"view_start_date":1436779800,"submit_start_date":1436779800,"visible_start_date":1436779800,"end_date":1735669800,"current":1493556724},"todo":false,"problem_status":"unattempted"}
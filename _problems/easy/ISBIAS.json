{"category_name":"easy","status":"success","problem_code":"ISBIAS","problem_name":"Equality","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/JAN20\/hindi\/ISBIAS.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/JAN20\/bengali\/ISBIAS.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/JAN20\/mandarin\/ISBIAS.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/JAN20\/russian\/ISBIAS.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/JAN20\/vietnamese\/ISBIAS.pdf) as well.\r\n\r\nChef Aditi keeps changing the flavours of her dishes and she wants to analyse feedback from her customers in order to improve her performance. The customers visiting Aditi's restaurant can rate the food online and Aditi knows an aggregated rating for each day. As she is busy cooking, you should perform the data analysis.\r\n\r\nYou are given a sequence $A_1, A_2, \\ldots, A_N$ of distinct integers denoting the customers' feedback during $N$ days. You should process $Q$ queries. In each query, you are given two integers $L$ and $R$. Consider any contiguous subsequence $A_p, A_{p+1}, \\ldots, A_q$, where $L \\le p < q \\le R$; let's call it a *maximal increasing subsequence* if the following conditions hold:\r\n- $A_p \\lt A_{p+1} \\ldots \\lt A_q$\r\n- if $p \\gt L$, then $A_p \\lt A_{p-1}$\r\n- if $q \\lt R$, then $A_q \\gt A_{q+1}$\r\n\r\nSimilarly, let's define a *maximal decreasing subsequence*. You should find out if the number of maximal increasing subsequences is equal to the number of maximal decreasing subsequences (with $L \\le p < q \\le R$).\r\n\r\nFor example, if $A = (10, 20, 30, 5)$, we can see that the only maximal increasing subsequence of this sequence (for $L=1$ and $R=N$) is $(10, 20, 30)$, since $(10, 20)$ does not satisfy the third condition and $(20, 30)$ does not satisfy the second condition, and there is only one maximal decreasing subsequence $(30, 5)$.\r\n\r\n### Input\r\n- The first line of the input contains two space-separated integers $N$ and $Q$.\r\n- The second line contains $N$ space-separated integers $A_1, A_2, \\ldots, A_N$.\r\n- $Q$ lines follow. Each of these lines contains two space-separated integers $L$ and $R$ describing a query.\r\n\r\n### Output\r\nFor each query, print a single line containing the string `\"YES\"` if the number of maximal increasing contiguous subsequences is equal to the number of maximal decreasing contiguous subsequences or `\"NO\"` otherwise (without quotes).\r\n\r\n### Constraints\r\n- $2 \\le N \\le 10^5$\r\n- $1 \\le Q \\le 10^5$\r\n- $1 \\le A_i \\le 10^9$ for each valid $i$\r\n- $1 \\le L \\lt R \\le N$\r\n- $A_1, A_2, \\ldots, A_N$ are pairwise distinct\r\n\r\n### Subtasks\r\n**Subtasks #1 (20 points):** $Q \\le 50$\r\n\r\n**Subtasks #2 (80 points):** original constraints\r\n\r\n### Example Input 1\r\n```\r\n4 3\r\n1 3 2 4\r\n1 4\r\n2 3\r\n2 4\r\n```\r\n\r\n### Example Output 1\r\n```\r\nNO\r\nNO\r\nYES\r\n```\r\n\r\n### Explanation 1\r\nFor the first query, there are two maximal increasing subsequences $(1, 3)$ and $(2, 4)$, but only one maximal decreasing subsequence $(3, 2)$.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/JAN20\/hindi\/ISBIAS.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/JAN20\/bengali\/ISBIAS.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/JAN20\/mandarin\/ISBIAS.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/JAN20\/russian\/ISBIAS.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/JAN20\/vietnamese\/ISBIAS.pdf) as well.\r\n\r\nChef Aditi keeps changing the flavours of her dishes and she wants to analyse feedback from her customers in order to improve her performance. The customers visiting Aditi's restaurant can rate the food online and Aditi knows an aggregated rating for each day. As she is busy cooking, you should perform the data analysis.\r\n\r\nYou are given a sequence $A_1, A_2, \\ldots, A_N$ of distinct integers denoting the customers' feedback during $N$ days. You should process $Q$ queries. In each query, you are given two integers $L$ and $R$. Consider any contiguous subsequence $A_p, A_{p+1}, \\ldots, A_q$, where $L \\le p < q \\le R$; let's call it a *maximal increasing subsequence* if the following conditions hold:\r\n- $A_p \\lt A_{p+1} \\ldots \\lt A_q$\r\n- if $p \\gt L$, then $A_p \\lt A_{p-1}$\r\n- if $q \\lt R$, then $A_q \\gt A_{q+1}$\r\n\r\nSimilarly, let's define a *maximal decreasing subsequence*. You should find out if the number of maximal increasing subsequences is equal to the number of maximal decreasing subsequences (with $L \\le p < q \\le R$).\r\n\r\nFor example, if $A = (10, 20, 30, 5)$, we can see that the only maximal increasing subsequence of this sequence (for $L=1$ and $R=N$) is $(10, 20, 30)$, since $(10, 20)$ does not satisfy the third condition and $(20, 30)$ does not satisfy the second condition, and there is only one maximal decreasing subsequence $(30, 5)$.\r\n\r\n### Input\r\n- The first line of the input contains two space-separated integers $N$ and $Q$.\r\n- The second line contains $N$ space-separated integers $A_1, A_2, \\ldots, A_N$.\r\n- $Q$ lines follow. Each of these lines contains two space-separated integers $L$ and $R$ describing a query.\r\n\r\n### Output\r\nFor each query, print a single line containing the string `\"YES\"` if the number of maximal increasing contiguous subsequences is equal to the number of maximal decreasing contiguous subsequences or `\"NO\"` otherwise (without quotes).\r\n\r\n### Constraints\r\n- $2 \\le N \\le 10^5$\r\n- $1 \\le Q \\le 10^5$\r\n- $1 \\le A_i \\le 10^9$ for each valid $i$\r\n- $1 \\le L \\lt R \\le N$\r\n- $A_1, A_2, \\ldots, A_N$ are pairwise distinct\r\n\r\n### Subtasks\r\n**Subtasks #1 (20 points):** $Q \\le 50$\r\n\r\n**Subtasks #2 (80 points):** original constraints\r\n\r\n### Example Input 1\r\n```\r\n4 3\r\n1 3 2 4\r\n1 4\r\n2 3\r\n2 4\r\n```\r\n\r\n### Example Output 1\r\n```\r\nNO\r\nNO\r\nYES\r\n```\r\n\r\n### Explanation 1\r\nFor the first query, there are two maximal increasing subsequences $(1, 3)$ and $(2, 4)$, but only one maximal decreasing subsequence $(3, 2)$.\r\n","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"sahi1422","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;<\/span><span class='m-username--link'>sahi1422<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"19-11-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/easy'>easy<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/jan20'>jan20<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/observation'>observation<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/sahi1422'>sahi1422<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/sahi1422'>sahi1422<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/vijju123'>vijju123<\/a>","problem_difficulty_level":"Easy","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/ISBIAS","time":{"view_start_date":1578907800,"submit_start_date":1578907800,"visible_start_date":1578907800,"end_date":1735669800,"current":1643797829},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=ISBIAS","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
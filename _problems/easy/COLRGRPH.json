{"category_name":"easy","status":"success","problem_code":"COLRGRPH","problem_name":"Hidden Colored Graph","body":"### Read problems statements in [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK131\/mandarin\/COLRGRPH.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK131\/russian\/COLRGRPH.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK131\/vietnamese\/COLRGRPH.pdf) and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK131\/bengali\/COLRGRPH.pdf) as well. \n\n**This is an interactive problem.**\n\nThere is a hidden undirected graph with $n$ vertices. There are no self-loops or multiple edges. Each vertex is colored black or white, and the colors are also hidden from you.\n\nTo make a query, you choose a vertex $v$. The interactor will respond with the current color of $v$, and then it will flip the colors of all vertices adjacent to $v$. A vertex is not considered adjacent to itself, so the color of $v$ doesn't change.\n\nAfter at most $6000$ queries, find the adjacency matrix of the graph.\n\nNote: The interactor is not adaptive. In other words, the graph and colors are fixed in the beginning.\n\n### Interaction\n\nBegin the interaction by reading a single integer $n$ - the number of vertices in the graph.\n\nTo ask a query, output \"`? v`\" for a vertex $v$ ($1\\le v\\le n$). Then read a single character describing the current color of $v$, where \"`B`\" denotes black and \"`W`\" denotes white. After making this query, the colors of all vertices adjacent to $v$ will flip.\n\nTo print the answer, output \"`!`\" then on the next $n$ lines print $n$ strings of length $n$, consisting of symbols \"`0`\" and \"`1`\". The $j$-th character of the $i$-th string should be \"`1`\" if and only if there is an edge between vertices $i$ and $j$. Since there are no self-loops, the main diagonal should contain only \"`0`\".\n\nIf at any time you make an invalid query or exceed the query limit, the interaction is terminated and you will receive a Wrong Answer verdict.\n\n**Remember to flush the output after printing each line!**\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"- $1\\le n\\le 100$","constraintsState":true,"subtasks":"- 30 points : $1 \\leq R \\leq 10000$\n- 70 points : $1 \\leq R \\leq 10^9$\n","subtasksState":false,"statement":"### Read problems statements in [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK131\/mandarin\/COLRGRPH.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK131\/russian\/COLRGRPH.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK131\/vietnamese\/COLRGRPH.pdf) and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK131\/bengali\/COLRGRPH.pdf) as well. \n\n**This is an interactive problem.**\n\nThere is a hidden undirected graph with $n$ vertices. There are no self-loops or multiple edges. Each vertex is colored black or white, and the colors are also hidden from you.\n\nTo make a query, you choose a vertex $v$. The interactor will respond with the current color of $v$, and then it will flip the colors of all vertices adjacent to $v$. A vertex is not considered adjacent to itself, so the color of $v$ doesn't change.\n\nAfter at most $6000$ queries, find the adjacency matrix of the graph.\n\nNote: The interactor is not adaptive. In other words, the graph and colors are fixed in the beginning.\n\n### Interaction\n\nBegin the interaction by reading a single integer $n$ - the number of vertices in the graph.\n\nTo ask a query, output \"`? v`\" for a vertex $v$ ($1\\le v\\le n$). Then read a single character describing the current color of $v$, where \"`B`\" denotes black and \"`W`\" denotes white. After making this query, the colors of all vertices adjacent to $v$ will flip.\n\nTo print the answer, output \"`!`\" then on the next $n$ lines print $n$ strings of length $n$, consisting of symbols \"`0`\" and \"`1`\". The $j$-th character of the $i$-th string should be \"`1`\" if and only if there is an edge between vertices $i$ and $j$. Since there are no self-loops, the main diagonal should contain only \"`0`\".\n\nIf at any time you make an invalid query or exceed the query limit, the interaction is terminated and you will receive a Wrong Answer verdict.\n\n**Remember to flush the output after printing each line!**","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"3\n\nW\n\nB\n\nB\n\nW","output":"\n? 1\n\n? 2\n\n? 3\n\n? 2\n\n!\n001\n001\n110","explanation":"The example is given to demonstrate how the queries work, and it is not guaranteed that the answer can be uniquely determined from the queries in the example.\n\nThe hidden graph is a path $1-3-2$. Initially, the colors for nodes $1$, $2$, $3$ are white, black, black, respectively. Denote it by the string `WBB`.\n\nThe first query asks for node $1$. The interactor responds with its color `W` then flips the color of node $3$. The colors are now `WBW`.\n\nThe second query asks for node $2$. The interactor responds with its color `B` then flips the color of node $3$. The colors are now `WBB`.\n\nThe third query asks for node $3$. The interactor responds with its color `B` then flips the colors of nodes $1$ and $2$. The colors are now `BWB`.\n\nThe fourth query asks for node $2$. The interactor responds with its color `W` then flips the color of node $3$. The colors are now `BWW`.\n\nThen the correct adjacency matrix is guessed.","isDeleted":false}]},"video_editorial_url":"https:\/\/youtu.be\/YLRmxvKkdEc","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"monogon","problem_author_html_handle":"monogon","problem_tester":"","problem_tester_html_handle":"","date_added":"24-07-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/constructive'>constructive<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cook131'>cook131<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/graphs'>graphs<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/interactive'>interactive<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/monogon'>monogon<\/a>","problem_difficulty_level":"Easy-Medium","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/COLRGRPH","time":{"view_start_date":1627492504,"submit_start_date":1627492504,"visible_start_date":1627492504,"end_date":1735669800,"current":1643797793},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=COLRGRPH","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
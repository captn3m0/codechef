{"category_name":"easy","status":"success","problem_code":"STRQ","problem_name":"Chef and Strings","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/FEB15\/mandarin\/STRQ.pdf\">Mandarin Chinese <\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/FEB15\/russian\/STRQ.pdf\">Russian<\/a>.<\/h3>\n<p>Chef likes strings a lot but moreover he likes good strings. Chef calls a string <b>str<\/b> a good string if <b>str<\/b> starts and ends at different characters. For eg : strings such as <b>abab<\/b> , <b>baccba<\/b> , <b>abc<\/b> are all good strings whereas strings like <b>aba<\/b>, <b>baab<\/b> , <b>baacaab<\/b> are not good at all .<\/p>\n<p>Today, Chef has a special string <b>P<\/b> consisting of lower case letters <b>\"c\"<\/b> , <b>\"h\"<\/b> , <b>\"e\"<\/b> and <b>\"f\"<\/b> only. Chef wants to make some queries about his string <b>P<\/b>.<\/p>\n<p>Each of chef's query has the following form <b>a b L R<\/b>. For a given query, Chef wants to count the number of good strings which starts at letter <b>a<\/b> and ends at letter <b>b<\/b> such that starting index <b>S<sub>i<\/sub><\/b> and ending index <b>E<sub>i<\/sub><\/b> of a chosen substring satisfies <b>L &lt;= S<sub>i<\/sub> &lt; E<sub>i<\/sub> &lt;= R<\/b>.<\/p>\n<p><b>NOTE<\/b><\/p>\n<p>Two substrings <b>P<sub>1<\/sub><\/b> and <b>P<sub>2<\/sub><\/b> are considered to be different if either <b>S<sub>1<\/sub> != S<sub>2<\/sub><\/b> or <b>E<sub>1<\/sub> != E<sub>2<\/sub><\/b> where <b>S<sub>1<\/sub>,E<sub>1<\/sub><\/b> and <b>S<sub>2<\/sub>,E<sub>2<\/sub><\/b> are the starting and ending index of string <b>P<sub>1<\/sub><\/b> and string <b>P<sub>2<\/sub><\/b> respectively.<\/p>\n<p>Chef is not able to accomplish this task efficiently. Can you help him ?<\/p>\n<h3>Input<\/h3>\n<p>First line of the input contains a string <b>P<\/b> denoting the chef's special string. Next line of the input contains a single integer <b>Q<\/b> denoting the number of chef's queries. Next <b>Q<\/b> lines of the input contains <b>four<\/b> space separated parameters where the first <b>two<\/b> parameters are characters denoting <b>a<\/b> and <b>b<\/b> respectively and rest <b>two<\/b> are integers denoting <b>L<\/b> and <b>R<\/b> respectively.\n<\/p>\n<h3>Output<\/h3>\n<p>For each chef's query, print the required answer.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1 &lt;= |P| &lt;= 10<sup>6<\/sup><\/b><\/li>\n<li><b>1 &lt;= Q &lt;= 10<sup>6<\/sup><\/b><\/li>\n<li><b>1 &lt;= L &lt;= R &lt;= |P|<\/b><\/li>\n<li><b>P,a,b<\/b> belongs to the set of lower case letters <b>[c,h,e,f] and a != b<\/b>.\n<\/li><li><b>All test files are strictly according to constraints.<\/b><\/li>\n<\/ul>\n<h3>Subtasks<\/h3>\n<ul>\n<li> Subtask #1: <b>1&lt;=|P|,Q&lt;=10<sup>4<\/sup> : 27 pts<\/b><\/li>\n<li> Subtask #2: <b>1&lt;=|P|,Q&lt;=10<sup>5<\/sup> : 25 pts<\/b><\/li>\n<li> Subtask #3: <b>1&lt;=|P|,Q&lt;=10<sup>6<\/sup> : 48 pts<\/b><\/li>\n<\/ul>\n<h3>Example<\/h3>\n<pre>\n<b>Input<\/b>\nchecfcheff\n5\nc h 1 10\nc f 1 10\ne c 1 10\nc f 1 5\nc f 6 10\n\n<b>Output<\/b>\n4\n8\n2\n2\n2\n<\/pre><h3>Explanation<\/h3>\n<ul>\n<li>Q1 : good strings are <b>ch<\/b> , <b>checfch<\/b> , <b>cfch<\/b> , <b>ch<\/b> <\/li>\n<li>Q2 : good strings are <b>checf<\/b> , <b>checfchef<\/b> , <b>checfcheff<\/b> , <b>cf<\/b> , <b>cfchef<\/b> , <b>cfcheff<\/b> , <b>chef<\/b> , <b>cheff<\/b><\/li>\n<\/ul>\n<h3>Warning<\/h3>\n<p>Large test data set, Prefer to use faster input\/output methods .<\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"1","source_sizelimit":"50000","problem_author":"ma5termind","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #3366CC;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>3&#9733;<\/span><span>ma5termind<\/span>","problem_tester":"shangjingbo","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #3366CC;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>3&#9733;<\/span><span>shangjingbo<\/span>","date_added":"9-10-2014","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/feb15'>\n                    feb15\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/ma5termind'>\n                    ma5termind\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/precalculation'>\n                    precalculation\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/STRQ","user":{"username":null},"time":{"view_start_date":1424079000,"submit_start_date":1424079000,"visible_start_date":1424079000,"end_date":1735669800,"current":1493558190},"todo":false,"problem_status":"unattempted"}
{"category_name":"easy","status":"success","problem_code":"NDMRK","problem_name":"Node Marking","body":"### Read problem statements in [Mandarin](https:\/\/www.codechef.com\/download\/translated\/LTIME97\/mandarin\/NDMRK.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME97\/bengali\/NDMRK.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME97\/russian\/NDMRK.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME97\/vietnamese\/NDMRK.pdf) as well.\n\nYou are given an integer $K$ and a tree of size $N$, rooted at node $1$. In one operation, you can either select a node of the tree and color its entire subtree or create a new (uncolored) copy of the given tree. Find the minimum number of operations required so that the total number of colored nodes among all trees is exactly $K$.\n\n###Input\n\n- The first line contains an integer $T$, denoting the number of test cases. Then $T$ test cases follow.\n- For each test case, the first line contains two integers $N$ and $K$, the size of the given tree and the number of nodes to be colored, respectively.\n- The next line contains $N-1$ integers $p_2,\\ldots, p_n$, where $p_i$ is the parent of node $i$.\n\n###Output\nFor each testcase, output a single integer: the minimum number of operations required to color exactly $K$ total nodes.\n\n###Constraints \n- $1 \\leq T \\leq 400$\n- $1 \\leq N \\leq 5\\cdot 10^4$\n- $1 \\leq K \\leq 10^3$\n- $1\\le p_i\\le N$\n- The input describes a valid tree rooted at node $1$\n- The sum of $N\\cdot K$ over all test cases does not exceed $10^7$\n\n###Subtasks\n- **Subtask 1 (10 points):** The tree is a simple path\n- **Subtask 2 (35 points):** $1 \\leq N,K \\leq 200$ and the sum of $N\\cdot K$ does not exceed $4\\cdot 10^4$\n- **Subtask 3 (55 points):** Original constraints\n\n\n###Sample Input\n```\n2\n3 5\n1 1\n4 6\n1 2 2\n```\n\n###Sample Output\n```\n4\n3\n```\n\n###Explanation\n\nFor the first test case:\n- Operation $1$: The subtree of node $1$ is colored (coloring a total of $3$ nodes).\n- Operation $2$: A new copy of tree is generated.\n- Operation $3$: The subtree of node $2$ of the new tree is colored.\n- Operation $4$: The subtree of node $3$ of the new tree is colored.\n\nFor the second test case:\n- Operation $1$: The subtree of node $2$ is colored (coloring a total of $3$ nodes).\n- Operation $2$: A new copy of tree is generated.\n- Operation $3$: The subtree of node $2$ is colored (coloring a total of $3$ more nodes).\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Mandarin](https:\/\/www.codechef.com\/download\/translated\/LTIME97\/mandarin\/NDMRK.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME97\/bengali\/NDMRK.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME97\/russian\/NDMRK.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME97\/vietnamese\/NDMRK.pdf) as well.\n\nYou are given an integer $K$ and a tree of size $N$, rooted at node $1$. In one operation, you can either select a node of the tree and color its entire subtree or create a new (uncolored) copy of the given tree. Find the minimum number of operations required so that the total number of colored nodes among all trees is exactly $K$.\n\n###Input\n\n- The first line contains an integer $T$, denoting the number of test cases. Then $T$ test cases follow.\n- For each test case, the first line contains two integers $N$ and $K$, the size of the given tree and the number of nodes to be colored, respectively.\n- The next line contains $N-1$ integers $p_2,\\ldots, p_n$, where $p_i$ is the parent of node $i$.\n\n###Output\nFor each testcase, output a single integer: the minimum number of operations required to color exactly $K$ total nodes.\n\n###Constraints \n- $1 \\leq T \\leq 400$\n- $1 \\leq N \\leq 5\\cdot 10^4$\n- $1 \\leq K \\leq 10^3$\n- $1\\le p_i\\le N$\n- The input describes a valid tree rooted at node $1$\n- The sum of $N\\cdot K$ over all test cases does not exceed $10^7$\n\n###Subtasks\n- **Subtask 1 (10 points):** The tree is a simple path\n- **Subtask 2 (35 points):** $1 \\leq N,K \\leq 200$ and the sum of $N\\cdot K$ does not exceed $4\\cdot 10^4$\n- **Subtask 3 (55 points):** Original constraints\n\n\n###Sample Input\n```\n2\n3 5\n1 1\n4 6\n1 2 2\n```\n\n###Sample Output\n```\n4\n3\n```\n\n###Explanation\n\nFor the first test case:\n- Operation $1$: The subtree of node $1$ is colored (coloring a total of $3$ nodes).\n- Operation $2$: A new copy of tree is generated.\n- Operation $3$: The subtree of node $2$ of the new tree is colored.\n- Operation $4$: The subtree of node $3$ of the new tree is colored.\n\nFor the second test case:\n- Operation $1$: The subtree of node $2$ is colored (coloring a total of $3$ nodes).\n- Operation $2$: A new copy of tree is generated.\n- Operation $3$: The subtree of node $2$ is colored (coloring a total of $3$ more nodes).","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"retarded_ape","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>retarded_ape<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"21-06-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/dynamic-programming'>dynamic-programming<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/ltime97'>ltime97<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/retarded_ape'>retarded_ape<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/trees'>trees<\/a>","problem_difficulty_level":"Easy-Medium","user_zen_mode":false,"best_tag":"Dynamic Programming","editorial_url":"https:\/\/discuss.codechef.com\/problems\/NDMRK","time":{"view_start_date":1624727702,"submit_start_date":1624727702,"visible_start_date":1624727702,"end_date":1735669800,"current":1643797852},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=NDMRK","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
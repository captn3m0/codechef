{"category_name":"easy","status":"success","problem_code":"TOVERLP","problem_name":"Total Overlap","body":"### Read problems statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/CCRC2021\/hindi\/TOVERLP.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/CCRC2021\/mandarin\/TOVERLP.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/CCRC2021\/vietnamese\/TOVERLP.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/CCRC2021\/bengali\/TOVERLP.pdf) as well.\r\n\r\nYou are given two sets of segments on a line, $A$ and $B$. Set $A$ contains $N$ segments (numbered $1$ through $N$); for each valid $i$, the $i$-th of these segments is $S_{A,i} = [L_{A,i}, R_{A,i}]$. Set $B$ contains $M$ segments (numbered $1$ through $M$); for each valid $i$, the $i$-th of these segments is $S_{B,i} = [L_{B,i}, R_{B,i}]$. \r\n\r\nFind $\\sum_{i=1}^N \\sum_{j=1}^M |S_{A,i} \\cap S_{B,j}|$, where $|S_{A,i} \\cap S_{B,j}|$ denotes the length of the intersection of the $i$-th segment from set $A$ and the $j$-th segment from set $B$. Note that the length of a segment $[l, r]$ is $r-l$.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $M$.\r\n- $N$ lines follow. For each valid $i$, the $i$-th of these lines contains two space-separated integers $L_{A,i}$ and $R_{A,i}$.\r\n- $M$ more lines follow. For each valid $i$, the $i$-th of these lines contains two space-separated integers $L_{B,i}$ and $R_{B,i}$.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the value of the sum.\r\n\r\n### Constraints\r\n- $1 \\leq T \\leq 10^5$\r\n- $1 \\leq N, M \\leq 10^5$\r\n- $1 \\leq L_{A,i} \\lt R_{A,i} \\leq 10^8$ for each valid $i$\r\n- $1 \\leq L_{B,i} \\lt R_{B,i} \\leq 10^8$ for each valid $i$\r\n- the sum of $N$ over all test cases does not exceed $2 \\cdot 10^5$\r\n- the sum of $M$ over all test cases does not exceed $2 \\cdot 10^5$\r\n\r\n### Example Input\r\n```\r\n3\r\n2 2\r\n1 2\r\n3 4\r\n1 3\r\n2 4\r\n1 1\r\n1 2\r\n3 4\r\n2 1\r\n5 6\r\n6 8\r\n5 8\r\n```\r\n\r\n### Example Output\r\n```\r\n2\r\n0\r\n3\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** The intersection of $S_{A,1}$ and $S_{B,1}$ is the segment $[1, 2]$. The intersection of $S_{A,2}$ and $S_{B,2}$ is $[3, 4]$. Both remaining intersections have lengths $0$, so the sum is $1 + 1 = 2$.\r\n\r\n**Example case 2:** The only two segments have an empty intersection, which has length $0$.\r\n\r\n**Example case 3:** The segment $[5, 8]$ is covered by both sets of segments, so the sum is $3$.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problems statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/CCRC2021\/hindi\/TOVERLP.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/CCRC2021\/mandarin\/TOVERLP.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/CCRC2021\/vietnamese\/TOVERLP.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/CCRC2021\/bengali\/TOVERLP.pdf) as well.\r\n\r\nYou are given two sets of segments on a line, $A$ and $B$. Set $A$ contains $N$ segments (numbered $1$ through $N$); for each valid $i$, the $i$-th of these segments is $S_{A,i} = [L_{A,i}, R_{A,i}]$. Set $B$ contains $M$ segments (numbered $1$ through $M$); for each valid $i$, the $i$-th of these segments is $S_{B,i} = [L_{B,i}, R_{B,i}]$. \r\n\r\nFind $\\sum_{i=1}^N \\sum_{j=1}^M |S_{A,i} \\cap S_{B,j}|$, where $|S_{A,i} \\cap S_{B,j}|$ denotes the length of the intersection of the $i$-th segment from set $A$ and the $j$-th segment from set $B$. Note that the length of a segment $[l, r]$ is $r-l$.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $M$.\r\n- $N$ lines follow. For each valid $i$, the $i$-th of these lines contains two space-separated integers $L_{A,i}$ and $R_{A,i}$.\r\n- $M$ more lines follow. For each valid $i$, the $i$-th of these lines contains two space-separated integers $L_{B,i}$ and $R_{B,i}$.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the value of the sum.\r\n\r\n### Constraints\r\n- $1 \\leq T \\leq 10^5$\r\n- $1 \\leq N, M \\leq 10^5$\r\n- $1 \\leq L_{A,i} \\lt R_{A,i} \\leq 10^8$ for each valid $i$\r\n- $1 \\leq L_{B,i} \\lt R_{B,i} \\leq 10^8$ for each valid $i$\r\n- the sum of $N$ over all test cases does not exceed $2 \\cdot 10^5$\r\n- the sum of $M$ over all test cases does not exceed $2 \\cdot 10^5$\r\n\r\n### Example Input\r\n```\r\n3\r\n2 2\r\n1 2\r\n3 4\r\n1 3\r\n2 4\r\n1 1\r\n1 2\r\n3 4\r\n2 1\r\n5 6\r\n6 8\r\n5 8\r\n```\r\n\r\n### Example Output\r\n```\r\n2\r\n0\r\n3\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** The intersection of $S_{A,1}$ and $S_{B,1}$ is the segment $[1, 2]$. The intersection of $S_{A,2}$ and $S_{B,2}$ is $[3, 4]$. Both remaining intersections have lengths $0$, so the sum is $1 + 1 = 2$.\r\n\r\n**Example case 2:** The only two segments have an empty intersection, which has length $0$.\r\n\r\n**Example case 3:** The segment $[5, 8]$ is covered by both sets of segments, so the sum is $3$.\r\n","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"daanish_adm","problem_author_html_handle":"daanish_adm","problem_tester":"","problem_tester_html_handle":"","date_added":"6-01-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/ccrc2021'>ccrc2021<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/coordinate-compression'>coordinate-compression<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/daanish_adm'>daanish_adm<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/difference-array'>difference-array<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>","problem_difficulty_level":"Easy-Medium","user_zen_mode":false,"best_tag":"Coordinate Compression","editorial_url":"https:\/\/discuss.codechef.com\/problems\/TOVERLP","time":{"view_start_date":1104528600,"submit_start_date":1104528600,"visible_start_date":1104528600,"end_date":1735669800,"current":1643797897},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=TOVERLP","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"easy","status":"success","problem_code":"PAIRCNT","problem_name":"Chef and Pairs","body":"### Read problem statements in [Bengali](https:\/\/www.codechef.com\/download\/translated\/JULY21\/bengali\/PAIRCNT.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/JULY21\/mandarin\/PAIRCNT.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/JULY21\/russian\/PAIRCNT.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/JULY21\/vietnamese\/PAIRCNT.pdf) as well.\n\nYou are given a tree (connected, undirected, acyclic graph) consisting of $N$ nodes. Based on this tree, you have to answer $Q$ queries. \n\nEach query is of the form:\n\n- $K\\ D\\  V_1\\ V_2\\ \\cdots\\ V_K$ - output the number of pairs $(i, j)$, $1 \\leq i \\lt j \\leq K$, such that the shortest path between nodes $V_i$ and $V_j$ in the tree has $D$ edges.\n\n### Input\n\n- The first line contains an integer $T$, the number of test cases. Then the test cases follow.\n- The first line of each test case contains two integers, $N$ and $Q$.\n- $N - 1$ lines follow. Each line consists of two integers $u$ and $v$, indicating that there is an edge between nodes $u$ and $v$ in the tree. \n- $Q$ lines follow. Each line describes a query in the format given above.\n\n### Output\nFor each query, output the answer on a new line.\n\n### Constraints\n- $1 \\leq T \\leq 5$\n- $1 \\leq N, Q \\leq 10^5$\n- $1 \\leq u, v, V_i \\leq N$\n- $0 \\leq D \\leq 10^5$\n- The sum of $K$ across all queries in a single test case is at most $10^5$.  \n\n### Subtasks\n- **Subtask 1 (20 points):** For each query, $K \\leq 10$\n- **Subtask 2 (80 points):** Original constraints\n\n### Sample Input\n```\n1\n5 2\n1 2\n1 3\n2 4\n4 5\n3 2 2 3 5\n2 4 1 3\n```\n\n### Sample Output\n```\n2\n0\n```\n\n### Explanation\n\nIn the first query, the pairs of nodes $(2, 3)$ and $(2, 5)$ have distance $2$.\n\nIn the second query, there is no pair with distance $4$.\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Bengali](https:\/\/www.codechef.com\/download\/translated\/JULY21\/bengali\/PAIRCNT.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/JULY21\/mandarin\/PAIRCNT.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/JULY21\/russian\/PAIRCNT.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/JULY21\/vietnamese\/PAIRCNT.pdf) as well.\n\nYou are given a tree (connected, undirected, acyclic graph) consisting of $N$ nodes. Based on this tree, you have to answer $Q$ queries. \n\nEach query is of the form:\n\n- $K\\ D\\  V_1\\ V_2\\ \\cdots\\ V_K$ - output the number of pairs $(i, j)$, $1 \\leq i \\lt j \\leq K$, such that the shortest path between nodes $V_i$ and $V_j$ in the tree has $D$ edges.\n\n### Input\n\n- The first line contains an integer $T$, the number of test cases. Then the test cases follow.\n- The first line of each test case contains two integers, $N$ and $Q$.\n- $N - 1$ lines follow. Each line consists of two integers $u$ and $v$, indicating that there is an edge between nodes $u$ and $v$ in the tree. \n- $Q$ lines follow. Each line describes a query in the format given above.\n\n### Output\nFor each query, output the answer on a new line.\n\n### Constraints\n- $1 \\leq T \\leq 5$\n- $1 \\leq N, Q \\leq 10^5$\n- $1 \\leq u, v, V_i \\leq N$\n- $0 \\leq D \\leq 10^5$\n- The sum of $K$ across all queries in a single test case is at most $10^5$.  \n\n### Subtasks\n- **Subtask 1 (20 points):** For each query, $K \\leq 10$\n- **Subtask 2 (80 points):** Original constraints\n\n### Sample Input\n```\n1\n5 2\n1 2\n1 3\n2 4\n4 5\n3 2 2 3 5\n2 4 1 3\n```\n\n### Sample Output\n```\n2\n0\n```\n\n### Explanation\n\nIn the first query, the pairs of nodes $(2, 3)$ and $(2, 5)$ have distance $2$.\n\nIn the second query, there is no pair with distance $4$.\n","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"4","source_sizelimit":"50000","problem_author":"aryanag_adm","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #1E7D22;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>2&#9733;<\/span><span class='m-username--link'>aryanag_adm<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"24-06-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/aryanag_adm'>aryanag_adm<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/july21'>july21<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/small-to-large'>small-to-large<\/a>","problem_difficulty_level":"Easy-Medium","user_zen_mode":false,"best_tag":"Small To Large","editorial_url":"https:\/\/discuss.codechef.com\/problems\/PAIRCNT","time":{"view_start_date":1626082200,"submit_start_date":1626082200,"visible_start_date":1626082200,"end_date":1735669800,"current":1643797857},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=PAIRCNT","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
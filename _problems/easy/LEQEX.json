{"category_name":"easy","status":"success","problem_code":"LEQEX","problem_name":"Equivalent Exchange of Triangles","body":"\"Humankind cannot gain anything without first giving something in return. To obtain, something of equal value must be lost. That is alchemy's first law of Equivalent Exchange. In those days, we really believed that to be the world's one, and only truth.\"\r\n                                  -- Alphonse Elric\r\n                                      \r\nNow, here we have an equivalent exchange law for triangles which states that two right-angled isosceles triangles of the same color can be made into a square of the same color using Alchemy.\r\n  \r\nYou are given $N$ right-angled isosceles **colored** triangles numbered from $1$ to $N$. For each triangle, the two equal sides have a length of $1$ unit. The Color of $i$-th triangle is given by $C_i$.\r\n\r\nTo create a tower, we choose some consecutive ($2 \\times k)+1$ triangles for any $k \\geq 0$. We then pick some $2 \\times k$ of them (these need not be consecutive), and form $k$ pairs of triangles such that both triangles in pair have the same color. Also, each of the $2 \\times k$ should be in exactly one pair. Then the two triangles in each pair are joined using Alchemy (following the law of equivalent exchange for triangles) to form squares and these $k$ squares are placed one upon other. The one remaining triangle is placed as a roof to the tower. This results in a tower of the height of $k$.\r\n\r\nFind the maximum height of the tower that can be formed. \r\n\r\nIn other words, you should select the largest consecutive segment of triangles, such that you can form a tower using every single one of those triangles. In particular, you leave out one triangle, which will form the roof, and the other triangles should all be paired up such that both triangles in a pair have the same colour.\r\n\r\n### Input:\r\n- The first line contains $T$, the number of test cases. Then the test cases follow. \r\n- For every test case, the first line contains $N$ denoting the number of triangles.\r\n- For every test case, the second line contains $N$ space-separated integers $C_{i}$ denoting the color of the triangles. ( $1 \\leq i \\leq N$).\r\n\r\n\r\n### Output:\r\nFor every test case, output a single integer denoting the maximum height of the tower that can be formed.\r\n\r\n### Constraints   \r\n- $1 \\leq T \\leq 100$  \r\n- $1 \\leq N \\leq 10^{5}$  \r\n- $1 \\leq C_{i} \\leq 30$ \r\n- Sum of $N$ over all test cases doesn't exceed $5\\times 10^{5}$ \r\n\r\n### Sample Input:\r\n```\r\n4\r\n14\r\n5 4 2 2 3 2 1 3 2 7 4 9 9 9\r\n3\r\n1 2 1\r\n3\r\n1 1 1\r\n5\r\n1 2 3 4 1\r\n```\r\n\r\n### Sample Output:\r\n```\r\n3\r\n1\r\n1\r\n0\r\n```\r\n\r\n### EXPLANATION:  \r\n- #$1$: The subarray $[2, 2, 3, 2, 1, 3, 2]$ results in a tower of height $3$.\r\n- #$2$: The subarray $[ 1, 2, 1 ]$ results in a tower of height $1$.\r\n- #$3$: The subarray $[ 1, 1, 1 ]$ results in a tower of height $1$. \r\n- #$4$: The subarrays $[ 1 ]$, $[ 2 ]$ , $[ 3 ]$, $[ 4 ]$ and $[ 1 ]$ all results in a tower of height $0$.\r\n    \r\n![](https:\/\/codechef_shared.s3.amazonaws.com\/download\/HYC\/External_contest_images\/DCOD2019\/problem2.png =500x500)\r\n\r\nThe above tower is possible by subarray $[2, 2, 3, 2, 1, 3, 2]$ resulting in a height of $3$ in test case $1$.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"\"Humankind cannot gain anything without first giving something in return. To obtain, something of equal value must be lost. That is alchemy's first law of Equivalent Exchange. In those days, we really believed that to be the world's one, and only truth.\"\r\n                                  -- Alphonse Elric\r\n                                      \r\nNow, here we have an equivalent exchange law for triangles which states that two right-angled isosceles triangles of the same color can be made into a square of the same color using Alchemy.\r\n  \r\nYou are given $N$ right-angled isosceles **colored** triangles numbered from $1$ to $N$. For each triangle, the two equal sides have a length of $1$ unit. The Color of $i$-th triangle is given by $C_i$.\r\n\r\nTo create a tower, we choose some consecutive ($2 \\times k)+1$ triangles for any $k \\geq 0$. We then pick some $2 \\times k$ of them (these need not be consecutive), and form $k$ pairs of triangles such that both triangles in pair have the same color. Also, each of the $2 \\times k$ should be in exactly one pair. Then the two triangles in each pair are joined using Alchemy (following the law of equivalent exchange for triangles) to form squares and these $k$ squares are placed one upon other. The one remaining triangle is placed as a roof to the tower. This results in a tower of the height of $k$.\r\n\r\nFind the maximum height of the tower that can be formed. \r\n\r\nIn other words, you should select the largest consecutive segment of triangles, such that you can form a tower using every single one of those triangles. In particular, you leave out one triangle, which will form the roof, and the other triangles should all be paired up such that both triangles in a pair have the same colour.\r\n\r\n### Input:\r\n- The first line contains $T$, the number of test cases. Then the test cases follow. \r\n- For every test case, the first line contains $N$ denoting the number of triangles.\r\n- For every test case, the second line contains $N$ space-separated integers $C_{i}$ denoting the color of the triangles. ( $1 \\leq i \\leq N$).\r\n\r\n\r\n### Output:\r\nFor every test case, output a single integer denoting the maximum height of the tower that can be formed.\r\n\r\n### Constraints   \r\n- $1 \\leq T \\leq 100$  \r\n- $1 \\leq N \\leq 10^{5}$  \r\n- $1 \\leq C_{i} \\leq 30$ \r\n- Sum of $N$ over all test cases doesn't exceed $5\\times 10^{5}$ \r\n\r\n### Sample Input:\r\n```\r\n4\r\n14\r\n5 4 2 2 3 2 1 3 2 7 4 9 9 9\r\n3\r\n1 2 1\r\n3\r\n1 1 1\r\n5\r\n1 2 3 4 1\r\n```\r\n\r\n### Sample Output:\r\n```\r\n3\r\n1\r\n1\r\n0\r\n```\r\n\r\n### EXPLANATION:  \r\n- #$1$: The subarray $[2, 2, 3, 2, 1, 3, 2]$ results in a tower of height $3$.\r\n- #$2$: The subarray $[ 1, 2, 1 ]$ results in a tower of height $1$.\r\n- #$3$: The subarray $[ 1, 1, 1 ]$ results in a tower of height $1$. \r\n- #$4$: The subarrays $[ 1 ]$, $[ 2 ]$ , $[ 3 ]$, $[ 4 ]$ and $[ 1 ]$ all results in a tower of height $0$.\r\n    \r\n![](https:\/\/codechef_shared.s3.amazonaws.com\/download\/HYC\/External_contest_images\/DCOD2019\/problem2.png =500x500)\r\n\r\nThe above tower is possible by subarray $[2, 2, 3, 2, 1, 3, 2]$ resulting in a height of $3$ in test case $1$.\r\n","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"2","source_sizelimit":"50000","problem_author":"sachin_yadav","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;<\/span><span class='m-username--link'>sachin_yadav<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"20-10-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/bitmasking'>bitmasking<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/bitwise-xor'>bitwise-xor<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/dcod2019'>dcod2019<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/sachin_yadav'>sachin_yadav<\/a>","problem_difficulty_level":"Easy-Medium","user_zen_mode":false,"best_tag":"Bitwise Xor","editorial_url":"https:\/\/discuss.codechef.com\/problems\/LEQEX","time":{"view_start_date":1572633000,"submit_start_date":1572633000,"visible_start_date":1572633000,"end_date":1735669800,"current":1643797834},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=LEQEX","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
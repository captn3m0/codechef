{"category_name":"easy","status":"success","problem_code":"CRDGAME2","problem_name":"Chef and Trump Cards","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/SEPT20\/hindi\/CRDGAME2.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/SEPT20\/bengali\/CRDGAME2.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/SEPT20\/mandarin\/CRDGAME2.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/SEPT20\/russian\/CRDGAME2.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/SEPT20\/vietnamese\/CRDGAME2.pdf) as well.\r\n\r\nChef is playing a card game with his friend Chefu. The rules of the game are as follows:\r\n- There are two piles of cards. One pile belongs to Chef and the other to Chefu. One pile may be empty.\r\n- At any moment, each card used in the game has a positive integer value. Whenever the value of a card becomes non-positive, it is removed from the game.\r\n- The game is played in rounds. In each round, each player simultaneously draws one card from the top of his pile.\r\n- If one player's pile is empty, this player cannot draw a card and therefore loses the game. (Note that it is impossible for both piles to be empty.)\r\n- If the values of the drawn cards are equal, each player simply places the card he drew to the bottom of his pile.\r\n- Otherwise, the player whose card has the higher value wins this round. This player places the card he drew to the bottom of his pile. Then, the card his opponent drew is transferred to him and he places this card to the bottom of his pile (below the card he just drew) as well.\r\n- Whenever a card is transferred from one player to the other, the value of that card decreases by $1$.\r\n- When there is no transfer of cards between the players during $10^{100}$ consecutive rounds, each player calculates the sum of values of the cards that are currently in his pile. If one player has a higher sum, this player wins the game. Otherwise, the game ends in a draw.\r\n\r\nYou are given $N$ cards (numbered $1$ through $N$). For each valid $i$, the value of the $i$-th card is $C_i$. Your task is to distribute the cards between the players before the start of the game \u2015 assign each card to one of the players. It is not necessary to distribute the cards equally between the players in any way. After you distribute the cards, each player arranges the cards in his pile in some order he chooses (not necessarily good for this player). Once the game starts, they may not rearrange their piles anymore.\r\n\r\nFind the number of distributions of cards such that it is impossible for the game to end in a draw, regardless of how the players form their starting piles. Since this number might be large, compute it modulo $1,000,000,007$. Two distributions of cards are different if there is an integer $i$ ($1 \\le i \\le N$) such that the $i$-th card belongs to Chef in one distribution and to Chefu in the other distribution.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains a single integer $N$.\r\n- The second line contains $N$ space-separated integers $C_1, C_2, \\ldots, C_N$.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the number of ways to distribute the cards between the players such that the game does not end in a draw, modulo $1,000,000,007$.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 200$\r\n- $1 \\le N \\le 10^5$\r\n- $1 \\le C_i \\le 10^9$ for each valid $i$\r\n- the sum of $N$ over all test cases does not exceed $10^6$\r\n\r\n### Subtasks\r\n**Subtask #1 (5 points):** $N \\le 8$\r\n\r\n**Subtask #2 (25 points):** $N \\le 200$\r\n\r\n**Subtask #3 (70 points):** original constraints \r\n\r\n### Example Input\r\n```\r\n2\r\n2\r\n2 2\r\n4\r\n1 2 2 6\r\n```\r\n\r\n### Example Output\r\n```\r\n2\r\n16\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** We can only give both cards to Chef or both to Chefu. If we gave one of them to Chef and the other to Chefu, the game would end in a draw.\r\n\r\n**Example case 2:** One of the possible ways to avoid a draw is to give cards $1$ and $4$ to Chef and the rest to Chefu. Let's assume that Chef forms a pile with cards $[6,1]$ (from top to bottom); Chefu's pile is $[2,2]$. Then, the game proceeds like this:\r\n- In the first round, Chef draws the card with value $6$ and wins a card with value $2$ from Chefu, so his pile is $[1,6,1]$ and Chefu's pile is $[2]$ after this round. Note that the value of the card transferred from Chefu to Chef decreased to $1$.\r\n- In the second round, Chef draws a card with value $1$ and Chefu draws his card with value $2$, so Chefu wins the round. The value of the card that is transferred from Chef to Chefu decreases to $0$, so this card is removed from the game. After this round, Chef's pile is $[6,1]$ and Chefu's pile is $[2]$.\r\n- In the third round, Chef again draws the card with value $6$ and wins Chefu's last card. After this round, Chef's pile is $[1,6,1]$ and Chefu's pile is empty. Therefore, Chefu loses the game.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/SEPT20\/hindi\/CRDGAME2.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/SEPT20\/bengali\/CRDGAME2.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/SEPT20\/mandarin\/CRDGAME2.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/SEPT20\/russian\/CRDGAME2.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/SEPT20\/vietnamese\/CRDGAME2.pdf) as well.\r\n\r\nChef is playing a card game with his friend Chefu. The rules of the game are as follows:\r\n- There are two piles of cards. One pile belongs to Chef and the other to Chefu. One pile may be empty.\r\n- At any moment, each card used in the game has a positive integer value. Whenever the value of a card becomes non-positive, it is removed from the game.\r\n- The game is played in rounds. In each round, each player simultaneously draws one card from the top of his pile.\r\n- If one player's pile is empty, this player cannot draw a card and therefore loses the game. (Note that it is impossible for both piles to be empty.)\r\n- If the values of the drawn cards are equal, each player simply places the card he drew to the bottom of his pile.\r\n- Otherwise, the player whose card has the higher value wins this round. This player places the card he drew to the bottom of his pile. Then, the card his opponent drew is transferred to him and he places this card to the bottom of his pile (below the card he just drew) as well.\r\n- Whenever a card is transferred from one player to the other, the value of that card decreases by $1$.\r\n- When there is no transfer of cards between the players during $10^{100}$ consecutive rounds, each player calculates the sum of values of the cards that are currently in his pile. If one player has a higher sum, this player wins the game. Otherwise, the game ends in a draw.\r\n\r\nYou are given $N$ cards (numbered $1$ through $N$). For each valid $i$, the value of the $i$-th card is $C_i$. Your task is to distribute the cards between the players before the start of the game \u2015 assign each card to one of the players. It is not necessary to distribute the cards equally between the players in any way. After you distribute the cards, each player arranges the cards in his pile in some order he chooses (not necessarily good for this player). Once the game starts, they may not rearrange their piles anymore.\r\n\r\nFind the number of distributions of cards such that it is impossible for the game to end in a draw, regardless of how the players form their starting piles. Since this number might be large, compute it modulo $1,000,000,007$. Two distributions of cards are different if there is an integer $i$ ($1 \\le i \\le N$) such that the $i$-th card belongs to Chef in one distribution and to Chefu in the other distribution.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains a single integer $N$.\r\n- The second line contains $N$ space-separated integers $C_1, C_2, \\ldots, C_N$.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the number of ways to distribute the cards between the players such that the game does not end in a draw, modulo $1,000,000,007$.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 200$\r\n- $1 \\le N \\le 10^5$\r\n- $1 \\le C_i \\le 10^9$ for each valid $i$\r\n- the sum of $N$ over all test cases does not exceed $10^6$\r\n\r\n### Subtasks\r\n**Subtask #1 (5 points):** $N \\le 8$\r\n\r\n**Subtask #2 (25 points):** $N \\le 200$\r\n\r\n**Subtask #3 (70 points):** original constraints","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"2\r\n2\r\n2 2\r\n4\r\n1 2 2 6","output":"2\r\n16","explanation":"**Example case 1:** We can only give both cards to Chef or both to Chefu. If we gave one of them to Chef and the other to Chefu, the game would end in a draw.\r\n\r\n**Example case 2:** One of the possible ways to avoid a draw is to give cards $1$ and $4$ to Chef and the rest to Chefu. Let's assume that Chef forms a pile with cards $[6,1]$ (from top to bottom); Chefu's pile is $[2,2]$. Then, the game proceeds like this:\r\n- In the first round, Chef draws the card with value $6$ and wins a card with value $2$ from Chefu, so his pile is $[1,6,1]$ and Chefu's pile is $[2]$ after this round. Note that the value of the card transferred from Chefu to Chef decreased to $1$.\r\n- In the second round, Chef draws a card with value $1$ and Chefu draws his card with value $2$, so Chefu wins the round. The value of the card that is transferred from Chef to Chefu decreases to $0$, so this card is removed from the game. After this round, Chef's pile is $[6,1]$ and Chefu's pile is $[2]$.\r\n- In the third round, Chef again draws the card with value $6$ and wins Chefu's last card. After this round, Chef's pile is $[1,6,1]$ and Chefu's pile is empty. Therefore, Chefu loses the game.","isDeleted":false}]},"video_editorial_url":"https:\/\/youtu.be\/AW238OpD6BY","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"utkarsh911","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>utkarsh911<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"7-07-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/basic'>basic<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/combinatorics'>combinatorics<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/modular-arith'>modular-arith<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/observation'>observation<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/sept20'>sept20<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/utkarsh911'>utkarsh911<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/utkarsh911'>utkarsh911<\/a>","problem_difficulty_level":"Easy","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/CRDGAME2","time":{"view_start_date":1600075802,"submit_start_date":1600075802,"visible_start_date":1600075802,"end_date":1735669800,"current":1643797796},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=CRDGAME2","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
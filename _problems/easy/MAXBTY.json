{"category_name":"easy","status":"success","problem_code":"MAXBTY","problem_name":"Maximize Letter Beauty","body":"### Read problems statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/COOK116\/hindi\/MAXBTY.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK116\/mandarin\/MAXBTY.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK116\/russian\/MAXBTY.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK116\/vietnamese\/MAXBTY.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK116\/bengali\/MAXBTY.pdf) as well.\r\n\r\nChef's fans want to celebrate the special occasion of his birthday, so they are writing letters to him. Chef has received $N$ such letters from $N$ fans (numbered $1$ through $N$). Initially, for each valid $i$, he assigned a *beauty* $B_i$ to the letter from the $i$-th fan (these values may even be negative, for letters that are not written well).\r\n\r\nNow, Chef wants you to process $Q$ queries on these letters. There are two types of queries:\r\n- `Q x y`: Chef wants to choose integers $l$ and $r$ such that $1 \\le l \\le x \\le y \\le r \\le N$ and read all the letters from fans $l, l+1, \\ldots, r$. Find the maximum possible value of the sum of beauties of the letters he reads.\r\n- `U x v`: Chef reevaluates the beauty of the letter from the $x$-th fan. The new value of $B_x$ becomes $v$.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $Q$.\r\n- The second line contains $N$ space-separated integers $B_1, B_2, \\ldots, B_N$.\r\n- Each of the next $Q$ lines describes a query in the format described above.\r\n\r\n### Output\r\nFor each query of the first type, print a single line containing one integer \u2015 the maximum sum of beauties.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 5$\r\n- $1 \\le N, Q \\le 10^5$\r\n- $|B_i| \\le 10^9$ for each valid $i$\r\n- $|v| \\le 10^9$\r\n- $1 \\le x \\le y \\le N$\r\n\r\n### Example Input\r\n```\r\n1\r\n5 5\r\n-1 2 -2 1 -3\r\nQ 3 5\r\nQ 2 4\r\nU 1 1\r\nQ 2 4\r\nQ 3 5\r\n```\r\n\r\n### Example Output\r\n```\r\n-2\r\n1\r\n2\r\n-1\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** For the first query, Chef should read the letters from fans $2$, $3$, $4$ and $5$.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problems statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/COOK116\/hindi\/MAXBTY.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK116\/mandarin\/MAXBTY.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK116\/russian\/MAXBTY.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK116\/vietnamese\/MAXBTY.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK116\/bengali\/MAXBTY.pdf) as well.\r\n\r\nChef's fans want to celebrate the special occasion of his birthday, so they are writing letters to him. Chef has received $N$ such letters from $N$ fans (numbered $1$ through $N$). Initially, for each valid $i$, he assigned a *beauty* $B_i$ to the letter from the $i$-th fan (these values may even be negative, for letters that are not written well).\r\n\r\nNow, Chef wants you to process $Q$ queries on these letters. There are two types of queries:\r\n- `Q x y`: Chef wants to choose integers $l$ and $r$ such that $1 \\le l \\le x \\le y \\le r \\le N$ and read all the letters from fans $l, l+1, \\ldots, r$. Find the maximum possible value of the sum of beauties of the letters he reads.\r\n- `U x v`: Chef reevaluates the beauty of the letter from the $x$-th fan. The new value of $B_x$ becomes $v$.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $Q$.\r\n- The second line contains $N$ space-separated integers $B_1, B_2, \\ldots, B_N$.\r\n- Each of the next $Q$ lines describes a query in the format described above.\r\n\r\n### Output\r\nFor each query of the first type, print a single line containing one integer \u2015 the maximum sum of beauties.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 5$\r\n- $1 \\le N, Q \\le 10^5$\r\n- $|B_i| \\le 10^9$ for each valid $i$\r\n- $|v| \\le 10^9$\r\n- $1 \\le x \\le y \\le N$","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"1\r\n5 5\r\n-1 2 -2 1 -3\r\nQ 3 5\r\nQ 2 4\r\nU 1 1\r\nQ 2 4\r\nQ 3 5","output":"-2\r\n1\r\n2\r\n-1","explanation":"**Example case 1:** For the first query, Chef should read the letters from fans $2$, $3$, $4$ and $5$.","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"2","source_sizelimit":"50000","problem_author":"imanik","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>imanik<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"14-03-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cook116'>cook116<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy'>easy<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/imanik'>imanik<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/prefix-sum'>prefix-sum<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/segment-tree'>segment-tree<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/tmwilliamlin'>tmwilliamlin<\/a>","problem_difficulty_level":"Easy","user_zen_mode":false,"best_tag":"Segment Tree","editorial_url":"https:\/\/discuss.codechef.com\/problems\/MAXBTY","time":{"view_start_date":1584901802,"submit_start_date":1584901802,"visible_start_date":1584901802,"end_date":1735669800,"current":1643797839},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=MAXBTY","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
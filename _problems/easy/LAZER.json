{"category_name":"easy","status":"success","problem_code":"LAZER","problem_name":"Lasers Everywhere","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/hindi\/LAZER.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/bengali\/LAZER.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/mandarin\/LAZER.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/russian\/LAZER.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/vietnamese\/LAZER.pdf) as well.\r\n\r\nVivek likes playing with lasers, but his friend Divyansh says that reading biographies is much more interesting. In order to prove that lasers are fun too, Vivek proposed an interesting task involving them:\r\n\r\nYou are given $N$ points in a plane (numbered $1$ through $N$); for each valid $i$, the $i$-th point is $P_i = (i, A_i)$. There are $N-1$ line segments between them (numbered $1$ through $N-1$); for each valid $i$, the $i$-th line segment is formed by connecting the points $P_i$ and $P_{i+1}$.\r\n\r\nYou should answer $Q$ queries. In each query, a laser beam is fired horizontally to the right, from a point $(x_1, y)$ to a point $(x_2, y)$ (where it stops and does not propagate further). Find the number of line segments it collides with on the way.\r\n\r\nThe beam is considered to collide with a line segment if it intersects or touches this segment, except when the left endpoint of this segment is $(x_2, y)$ or its right endpoint is $(x_1, y)$.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $Q$. \r\n- The second line contains $N$ space-separated integers $A_1, A_2, \\ldots, A_N$.\r\n- Each of the next $Q$ lines contains three space-separated integers $x_1$, $x_2$ and $y$ describing a query.\r\n\r\n### Output\r\nFor each query, print a single line containing one integer \u2015 the number of line segments the beam collides with.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 5$\r\n- $2 \\le N \\le 100,000$\r\n- $1 \\le Q \\le 100,000$\r\n- $1 \\le A_i \\le 10^9$ for each valid $i$\r\n- $1 \\le x_1 \\lt x_2 \\le N$\r\n- $1 \\le y \\le 10^9$\r\n\r\n### Subtasks\r\n**Subtask #1 (30 points):** $N, Q \\le 2,000$\r\n\r\n**Subtask #2 (70 points):** original constraints\r\n\r\n### Example Input\r\n```\r\n1\r\n4 3\r\n1 3 5 1\r\n2 4 4\r\n1 2 3\r\n1 4 1\r\n```\r\n\r\n### Example Output\r\n```\r\n2\r\n1\r\n2\r\n```\r\n\r\n### Explanation\r\n**Example case 1:**\r\n- For the first query, the beam collides with the $2$-nd line segment and the $3$-rd line segment.\r\n- For the second query, the beam collides only with the $1$-st line segment. We do not consider it to collide with the second line segment, since its left endpoint is $(x_2,y)$.\r\n- For the third query, the beam collides with the $1$-st line segment and the $3$-rd line segment.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/hindi\/LAZER.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/bengali\/LAZER.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/mandarin\/LAZER.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/russian\/LAZER.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/MARCH20\/vietnamese\/LAZER.pdf) as well.\r\n\r\nVivek likes playing with lasers, but his friend Divyansh says that reading biographies is much more interesting. In order to prove that lasers are fun too, Vivek proposed an interesting task involving them:\r\n\r\nYou are given $N$ points in a plane (numbered $1$ through $N$); for each valid $i$, the $i$-th point is $P_i = (i, A_i)$. There are $N-1$ line segments between them (numbered $1$ through $N-1$); for each valid $i$, the $i$-th line segment is formed by connecting the points $P_i$ and $P_{i+1}$.\r\n\r\nYou should answer $Q$ queries. In each query, a laser beam is fired horizontally to the right, from a point $(x_1, y)$ to a point $(x_2, y)$ (where it stops and does not propagate further). Find the number of line segments it collides with on the way.\r\n\r\nThe beam is considered to collide with a line segment if it intersects or touches this segment, except when the left endpoint of this segment is $(x_2, y)$ or its right endpoint is $(x_1, y)$.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $Q$. \r\n- The second line contains $N$ space-separated integers $A_1, A_2, \\ldots, A_N$.\r\n- Each of the next $Q$ lines contains three space-separated integers $x_1$, $x_2$ and $y$ describing a query.\r\n\r\n### Output\r\nFor each query, print a single line containing one integer \u2015 the number of line segments the beam collides with.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 5$\r\n- $2 \\le N \\le 100,000$\r\n- $1 \\le Q \\le 100,000$\r\n- $1 \\le A_i \\le 10^9$ for each valid $i$\r\n- $1 \\le x_1 \\lt x_2 \\le N$\r\n- $1 \\le y \\le 10^9$\r\n\r\n### Subtasks\r\n**Subtask #1 (30 points):** $N, Q \\le 2,000$\r\n\r\n**Subtask #2 (70 points):** original constraints","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"1\r\n4 3\r\n1 3 5 1\r\n2 4 4\r\n1 2 3\r\n1 4 1","output":"2\r\n1\r\n2","explanation":"**Example case 1:**\r\n- For the first query, the beam collides with the $2$-nd line segment and the $3$-rd line segment.\r\n- For the second query, the beam collides only with the $1$-st line segment. We do not consider it to collide with the second line segment, since its left endpoint is $(x_2,y)$.\r\n- For the third query, the beam collides with the $1$-st line segment and the $3$-rd line segment.","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"2","source_sizelimit":"50000","problem_author":"vivek_1998299","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span class='m-username--link'>vivek_1998299<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"15-01-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/binary-indexed-tree'>binary-indexed-tree<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/march20'>march20<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/segment-tree'>segment-tree<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/sweep-line'>sweep-line<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/tmwilliamlin'>tmwilliamlin<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/vivek_1998299'>vivek_1998299<\/a>","problem_difficulty_level":"Easy-Medium","user_zen_mode":false,"best_tag":"Segment Tree","editorial_url":"https:\/\/discuss.codechef.com\/problems\/LAZER","time":{"view_start_date":1104528600,"submit_start_date":1104528600,"visible_start_date":1104528600,"end_date":1735669800,"current":1643797834},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=LAZER","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
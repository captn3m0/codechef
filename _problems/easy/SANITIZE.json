{"category_name":"easy","status":"success","problem_code":"SANITIZE","problem_name":"Low Budget Sanitization","body":"### Read problems statements in [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK128\/mandarin\/SANITIZE.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK128\/russian\/SANITIZE.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK128\/bengali\/SANITIZE.pdf) as well.\r\n\r\n**This is an Interactive Problem.**\r\n\r\nChef found a dirty-looking square plate in his kitchen. Obviously, it is full of germs. Specifically, there are $N$ germs lying in the whole plate. The plate has dimensions $M\\times M$ and can be imagined as a 2-dimensional square space bounded by the lines $X=0$, $Y=0$, $X=M$ and $Y=M$. Chef knows that each germ lies at a point with integer coordinates within this plate and no two germs lie at the same point. But he doesn't know the exact location of the germs. Each germ has a unique integer ID between $1$ and $N$.\r\n\r\nChef wants to sanitize this plate, i.e., make it germ-free. But because of low budget, he can afford only $N$ ml of sanitizer. Each germ requires $1$ ml of sanitizer to be killed. So, he needs to be careful not to waste even a single drop of it!\r\n\r\nLuckily, he also has a germ sensor with him which works as follows $-$\r\n\r\nIt send a laser beam of light along a straight line $A\\cdot x+B\\cdot y=C$ and returns two things:\r\n- The ID of the germ having the shortest perpendicular distance to this line. If there are multiple such germs, any of them may be chosen.\r\n- The distance of this germ from the line.  \r\n\r\nBut again, because of low budget, he is using a cheap model which can be used at most $2N$ times.\r\n\r\nHelp him kill all the germs. You can use the sensor or apply sanitizer in an arbitrary order. Note that the sensor does not sense killed germs.\r\n\r\n###Interaction:\r\n- The first line of input contains an integer $T$ - the number of test cases.\r\n- For each test case, first read a single line containing two integers $N$ and $M$ - the number of germs and the size of the plate.\r\n- Then you may ask queries in the following format $-$\r\n    - To use the sensor, print a single line containing $4$ space separated integers $1$, $A$, $B$, $C$ satisfying the constraints $-128\\leq A,B\\leq 128$ and $-10^9\\leq C\\leq 10^9$ where $A\\cdot x+B\\cdot y=C$ is the line you wish to query. If you ask an invalid query or exceed $2N$ queries of this type, the grader returns $-1$. Otherwise, the grader returns two space separated integers $U$ and $D$, where $U$ is the ID of the germ closest to this line and $D$ is the perpendicular distance of the germ from the line multiplied by $\\sqrt{A^2+B^2}$. It can be shown that $D$ will always be an integer under the given constraints and scaling factor.\r\n    - To apply $1$ ml of sanitizer at the point $(X, Y)$, print a single line containing $3$ space separated integers $2$, $X$, $Y$ satisfying the constraints $0\\leq X, Y\\leq M$. If there is any germ present at this point, it will be killed. Then the grader returns a single integer $V$. If you ask an invalid query or exceed $N$ queries of this type, $V=-1$. Otherwise, if all the germs are killed after this query then $V=1$ else $V=0$. As soon as you receive $1$, the test case ends and you should continue solving the remaining test cases.\r\n- If you receive $-1$ from the grader, terminate the program immediately to receive the Wrong Answer verdict otherwise you may receive any verdict.\r\n\r\n**Don't forget to flush your output after printing each line!**\r\n\r\n###Constraints: \r\n- $1\\leq T\\leq 1024$\r\n- \u200b$1\\leq M\\leq 10^9$\r\n- $1\\leq N\\leq 4096$\r\n- All germs lie at points with integer coordinates within the plate.\r\n- No two germs lie at the same point.\r\n- No two germs have the same ID.\r\n- ID of each germ lies between $1$ and $N$ inclusive.\r\n- The sum of $N$ over all test cases does not exceed $4096$.\r\n\r\n###Example:\r\n```\r\nYou          Grader\r\n\r\n             1\r\n             2 10\r\n1 1 1 2\r\n             1 4\r\n1 -1 2 -5\r\n             2 3\r\n2 1 5\r\n             0\r\n1 3 0 1\r\n             2 23\r\n2 8 0\r\n             1\r\n```\r\n\r\n###Explanation:\r\nThere are $2$ germs lying on a $10\\times 10$ plate. The germs lie on the points $(1, 5)$ and $(8, 0)$ and have IDs $1$ and $2$, respectively.\r\n\r\nThe first query is a sensor query with the line $x+y=2$. The perpendicular distance of the first germ from this line is $2\\sqrt{2}$ units and the distance of the second germ is $3\\sqrt{2}$ units. Since the first germ is closer, $U=1$ and $D=2\\sqrt{2}\\times \\sqrt{1^2+1^2}=4$ is returned.\r\n\r\nThe second query is a sensor query with the line $-x+2y=-5$. The perpendicular distance of the first germ from this line is $\\frac{14\\sqrt{5}}{5}$ units and the distance of the second germ is $\\frac{3\\sqrt{5}}{5}$ units. Since the second germ is closer, $U=2$ and $D=\\frac{3\\sqrt{5}}{5}\\times \\sqrt{(-1)^2+2^2}=3$ is returned.\r\n\r\nThe third query is applying sanitizer at the point $(1,5)$. The first germ lies at this point and is killed. Since, there is still $1$ germ alive, $V=0$ is returned.\r\n\r\nThe fourth query is a sensor query with the line $3x=1$. The only germ alive is the second germ which is at a distance of $\\frac{23}{3}$ units from this line. So, $U=2$ and $D=\\frac{23}{3}\\times \\sqrt{3^2+0^2}=23$ is returned.\r\n\r\nThe fifth query is applying sanitizer at the point $(8,0)$. The second germ lies at this point and is killed. Since, all germs are killed, $V=1$ is returned.\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problems statements in [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK128\/mandarin\/SANITIZE.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK128\/russian\/SANITIZE.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK128\/bengali\/SANITIZE.pdf) as well.\r\n\r\n**This is an Interactive Problem.**\r\n\r\nChef found a dirty-looking square plate in his kitchen. Obviously, it is full of germs. Specifically, there are $N$ germs lying in the whole plate. The plate has dimensions $M\\times M$ and can be imagined as a 2-dimensional square space bounded by the lines $X=0$, $Y=0$, $X=M$ and $Y=M$. Chef knows that each germ lies at a point with integer coordinates within this plate and no two germs lie at the same point. But he doesn't know the exact location of the germs. Each germ has a unique integer ID between $1$ and $N$.\r\n\r\nChef wants to sanitize this plate, i.e., make it germ-free. But because of low budget, he can afford only $N$ ml of sanitizer. Each germ requires $1$ ml of sanitizer to be killed. So, he needs to be careful not to waste even a single drop of it!\r\n\r\nLuckily, he also has a germ sensor with him which works as follows $-$\r\n\r\nIt send a laser beam of light along a straight line $A\\cdot x+B\\cdot y=C$ and returns two things:\r\n- The ID of the germ having the shortest perpendicular distance to this line. If there are multiple such germs, any of them may be chosen.\r\n- The distance of this germ from the line.  \r\n\r\nBut again, because of low budget, he is using a cheap model which can be used at most $2N$ times.\r\n\r\nHelp him kill all the germs. You can use the sensor or apply sanitizer in an arbitrary order. Note that the sensor does not sense killed germs.\r\n\r\n###Interaction:\r\n- The first line of input contains an integer $T$ - the number of test cases.\r\n- For each test case, first read a single line containing two integers $N$ and $M$ - the number of germs and the size of the plate.\r\n- Then you may ask queries in the following format $-$\r\n    - To use the sensor, print a single line containing $4$ space separated integers $1$, $A$, $B$, $C$ satisfying the constraints $-128\\leq A,B\\leq 128$ and $-10^9\\leq C\\leq 10^9$ where $A\\cdot x+B\\cdot y=C$ is the line you wish to query. If you ask an invalid query or exceed $2N$ queries of this type, the grader returns $-1$. Otherwise, the grader returns two space separated integers $U$ and $D$, where $U$ is the ID of the germ closest to this line and $D$ is the perpendicular distance of the germ from the line multiplied by $\\sqrt{A^2+B^2}$. It can be shown that $D$ will always be an integer under the given constraints and scaling factor.\r\n    - To apply $1$ ml of sanitizer at the point $(X, Y)$, print a single line containing $3$ space separated integers $2$, $X$, $Y$ satisfying the constraints $0\\leq X, Y\\leq M$. If there is any germ present at this point, it will be killed. Then the grader returns a single integer $V$. If you ask an invalid query or exceed $N$ queries of this type, $V=-1$. Otherwise, if all the germs are killed after this query then $V=1$ else $V=0$. As soon as you receive $1$, the test case ends and you should continue solving the remaining test cases.\r\n- If you receive $-1$ from the grader, terminate the program immediately to receive the Wrong Answer verdict otherwise you may receive any verdict.\r\n\r\n**Don't forget to flush your output after printing each line!**\r\n\r\n###Constraints: \r\n- $1\\leq T\\leq 1024$\r\n- \u200b$1\\leq M\\leq 10^9$\r\n- $1\\leq N\\leq 4096$\r\n- All germs lie at points with integer coordinates within the plate.\r\n- No two germs lie at the same point.\r\n- No two germs have the same ID.\r\n- ID of each germ lies between $1$ and $N$ inclusive.\r\n- The sum of $N$ over all test cases does not exceed $4096$.\r\n\r\n###Example:\r\n```\r\nYou          Grader\r\n\r\n             1\r\n             2 10\r\n1 1 1 2\r\n             1 4\r\n1 -1 2 -5\r\n             2 3\r\n2 1 5\r\n             0\r\n1 3 0 1\r\n             2 23\r\n2 8 0\r\n             1\r\n```\r\n\r\n###Explanation:\r\nThere are $2$ germs lying on a $10\\times 10$ plate. The germs lie on the points $(1, 5)$ and $(8, 0)$ and have IDs $1$ and $2$, respectively.\r\n\r\nThe first query is a sensor query with the line $x+y=2$. The perpendicular distance of the first germ from this line is $2\\sqrt{2}$ units and the distance of the second germ is $3\\sqrt{2}$ units. Since the first germ is closer, $U=1$ and $D=2\\sqrt{2}\\times \\sqrt{1^2+1^2}=4$ is returned.\r\n\r\nThe second query is a sensor query with the line $-x+2y=-5$. The perpendicular distance of the first germ from this line is $\\frac{14\\sqrt{5}}{5}$ units and the distance of the second germ is $\\frac{3\\sqrt{5}}{5}$ units. Since the second germ is closer, $U=2$ and $D=\\frac{3\\sqrt{5}}{5}\\times \\sqrt{(-1)^2+2^2}=3$ is returned.\r\n\r\nThe third query is applying sanitizer at the point $(1,5)$. The first germ lies at this point and is killed. Since, there is still $1$ germ alive, $V=0$ is returned.\r\n\r\nThe fourth query is a sensor query with the line $3x=1$. The only germ alive is the second germ which is at a distance of $\\frac{23}{3}$ units from this line. So, $U=2$ and $D=\\frac{23}{3}\\times \\sqrt{3^2+0^2}=23$ is returned.\r\n\r\nThe fifth query is applying sanitizer at the point $(8,0)$. The second germ lies at this point and is killed. Since, all germs are killed, $V=1$ is returned.","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"https:\/\/youtu.be\/KtfvPod8dAY","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"jay_1048576","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>jay_1048576<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"8-04-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/cook128'>cook128<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/geometry'>geometry<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/jay_1048576'>jay_1048576<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/math'>math<\/a>","problem_difficulty_level":"Easy-Medium","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/SANITIZE","time":{"view_start_date":1618772404,"submit_start_date":1618772404,"visible_start_date":1618772404,"end_date":1735669800,"current":1643797877},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=SANITIZE","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
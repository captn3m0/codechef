{"category_name":"easy","status":"success","problem_code":"ARRQRY","problem_name":"Convolution","body":"You are given two integer sequences $A_1, A_2, \\ldots, A_N$ and $B_1, B_2, \\ldots, B_M$. For any two sequences $U_1, U_2, \\ldots, U_p$ and $V_1, V_2, \\ldots, V_q$, we define\r\n$$Score(U, V) = \\sum_{i=1}^p \\sum_{j=1}^q  U_i \\cdot V_j \\,.$$\r\n\r\nYou should process $Q$ queries of three types:\r\n- $1$ $L$ $R$ $X$: Add $X$ to each of the elements $A_L, A_{L+1}, \\ldots, A_R$.\r\n- $2$ $L$ $R$ $X$: Add $X$ to each of the elements $B_L, B_{L+1}, \\ldots, B_R$.\r\n- $3$: Print $Score(A, B)$ modulo $998,244,353$.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two integers, $N$ and $M$, denoting the length of $A$ and $B$ respectively.\r\n- The second line contains $N$ integers, elements of $A$.\r\n- The third line contains $M$ integers, elements of $B$.\r\n- The next line will contain an integer, $Q$, number of queries.\r\n- Each of the next $Q$ lines will contain one of $3$ kinds of updates as mentioned in the statement\r\n\r\nIt\u2019s guaranteed that each update is a valid update operation.\r\n\r\n### Output\r\nFor each query of the third type, print a single line containing one integer - the answer to that query.\r\n\r\n### Constraints \r\n- $1 \\le T \\le 10$\r\n- $2 \\le N, M, Q \\le 10^5$\r\n- $0 \\le |A_i|, |B_i|, |X| \\le 10^5$\r\n\r\n### Example Input\r\n```\r\n1\r\n3 4\r\n2 -1 5\r\n3 3 2 4\r\n6\r\n3\r\n1 2 3 -2\r\n3\r\n1 1 3 1\r\n2 2 4 2\r\n3\r\n```\r\n\r\n### Example Output\r\n```\r\n72\r\n24\r\n90\r\n```\r\n\r\n### Explanation\r\nBefore the first operation, $A = [2, -1, 5],\\ B = [3, 3, 2, 4]$\r\n\r\nSo, for the first operation,\r\n$Score(A,\\ B) = 2*3 + 2*3 + 2*2 + 2*4$ $+ (-1)*3$ $+ (-1)*3$ $+ (-1)*2$ $+$ $(-1)*4$ $+  5*3$ $+ 5*3$ $+ 5*2$ $+ 5*4$ $= 72.$\r\n\r\nAfter the second query $A = [2, -3, 3]$, $B = [3, 3, 2, 4]$\r\n\r\nSo, for the third query, $Score(A, B) = 2*3 + 2*3 + 2*2$ $+ 2*4$ $+ (-3)*3$ $+ (-3)*3$ $+ (-3)*2$ $+ (-3)*4$ $+  3*3$ $+ 3*3$ $+ 3*2$ $+ 3*4$ $= 24$.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"You are given two integer sequences $A_1, A_2, \\ldots, A_N$ and $B_1, B_2, \\ldots, B_M$. For any two sequences $U_1, U_2, \\ldots, U_p$ and $V_1, V_2, \\ldots, V_q$, we define\r\n$$Score(U, V) = \\sum_{i=1}^p \\sum_{j=1}^q  U_i \\cdot V_j \\,.$$\r\n\r\nYou should process $Q$ queries of three types:\r\n- $1$ $L$ $R$ $X$: Add $X$ to each of the elements $A_L, A_{L+1}, \\ldots, A_R$.\r\n- $2$ $L$ $R$ $X$: Add $X$ to each of the elements $B_L, B_{L+1}, \\ldots, B_R$.\r\n- $3$: Print $Score(A, B)$ modulo $998,244,353$.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two integers, $N$ and $M$, denoting the length of $A$ and $B$ respectively.\r\n- The second line contains $N$ integers, elements of $A$.\r\n- The third line contains $M$ integers, elements of $B$.\r\n- The next line will contain an integer, $Q$, number of queries.\r\n- Each of the next $Q$ lines will contain one of $3$ kinds of updates as mentioned in the statement\r\n\r\nIt\u2019s guaranteed that each update is a valid update operation.\r\n\r\n### Output\r\nFor each query of the third type, print a single line containing one integer - the answer to that query.\r\n\r\n### Constraints \r\n- $1 \\le T \\le 10$\r\n- $2 \\le N, M, Q \\le 10^5$\r\n- $0 \\le |A_i|, |B_i|, |X| \\le 10^5$\r\n\r\n### Example Input\r\n```\r\n1\r\n3 4\r\n2 -1 5\r\n3 3 2 4\r\n6\r\n3\r\n1 2 3 -2\r\n3\r\n1 1 3 1\r\n2 2 4 2\r\n3\r\n```\r\n\r\n### Example Output\r\n```\r\n72\r\n24\r\n90\r\n```\r\n\r\n### Explanation\r\nBefore the first operation, $A = [2, -1, 5],\\ B = [3, 3, 2, 4]$\r\n\r\nSo, for the first operation,\r\n$Score(A,\\ B) = 2*3 + 2*3 + 2*2 + 2*4$ $+ (-1)*3$ $+ (-1)*3$ $+ (-1)*2$ $+$ $(-1)*4$ $+  5*3$ $+ 5*3$ $+ 5*2$ $+ 5*4$ $= 72.$\r\n\r\nAfter the second query $A = [2, -3, 3]$, $B = [3, 3, 2, 4]$\r\n\r\nSo, for the third query, $Score(A, B) = 2*3 + 2*3 + 2*2$ $+ 2*4$ $+ (-3)*3$ $+ (-3)*3$ $+ (-3)*2$ $+ (-3)*4$ $+  3*3$ $+ 3*3$ $+ 3*2$ $+ 3*4$ $= 24$.\r\n","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"https:\/\/youtu.be\/ajenkcNauxs","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"2","source_sizelimit":"50000","problem_author":"msi_cse_buet","problem_author_html_handle":"msi_cse_buet","problem_tester":"","problem_tester_html_handle":"","date_added":"4-12-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/msi_cse_buet'>msi_cse_buet<\/a>","problem_difficulty_level":"Easy","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/ARRQRY","time":{"view_start_date":1578249000,"submit_start_date":1578249000,"visible_start_date":1578249000,"end_date":1735669800,"current":1643797766},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=ARRQRY","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
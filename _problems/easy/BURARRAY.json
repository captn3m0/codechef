{"category_name":"easy","status":"success","problem_code":"BURARRAY","problem_name":"Igzi and Burly Array","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/LTIME73\/hindi\/BURARRAY.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME73\/bengali\/BURARRAY.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/LTIME73\/mandarin\/BURARRAY.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME73\/russian\/BURARRAY.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME73\/vietnamese\/BURARRAY.pdf) as well.\n\nChef's friend Igzi is often at the coding gym, working out his mind muscles. When he is there, he asks Chef to guard his most prized posession: a sequence $A_1, A_2, \\ldots, A_N$. Initially, for each $i$ ($1 \\le i \\le N$), $A_i = i$ held. However, Chef sometimes gets bored and starts playing with the sequence. Since $N$ can be very large, Chef has a lot of fun with it and he would like to share it with you.\n\nYou should process $Q$ queries of two types:\n- `1 x`: set $A_x = 0$\n- `2 l r`: find the maximum element in the subsequence $A_l, A_{l+1}, \\ldots, A_r$\n\nSince Chef does not want to make Igzi angry, the queries are encoded so that they have to be processed online:\n- For each query, let's denote the sum of answers to all previous queries of type 2, modulo $N$, by $s$. (Initially, $s = 0$.)\n- For each query of the first type, you are given an integer $y$. You can compute $x$ as $y + s$.\n- For each query of the second type, you are given two integers $p$ and $q$. You can compute $l$ as $p + s$ and $r$ as $q + s$.\n\n### Input\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\n- The first line of each test case contains two space-separated integers $N$ and $Q$.\n- The following $Q$ lines describe queries.\n    - Each of these lines starts with an integer $t$ denoting the type of the current query: $t = 1$ for a query of the first type or $t = 2$ for a query of the second type.\n    - For a query of the first type, it is followed by a space and an integer $y$.\n    - For a query of the second type, it is followed by a space and two space-separated integers $p$ and $q$.\n\n### Output\nFor each query of the second type, print a single line containing one integer \u2015 the maximum of the given subsequence.\n\n### Constraints\n- $1 \\le T \\le 10$\n- $1 \\le N \\le 10^{18}$\n- $1 \\le Q \\le 500,000$\n- $1 \\le l \\le r \\le N$\n- $1 \\le x \\le N$\n- the sum of $Q$ over all test cases does not exceed $1,000,000$\n\n### Subtasks\n**Subtask #1 (10 points):** $N, Q \\le 1,000$\n\n**Subtask #2 (10 points):** $N \\le 100,000$\n\n**Subtask #3 (30 points):** each query of the second type appears after all queries of the first type\n\n**Subtask #4 (50 points):** original constraints\n\n### Example Input\n```\n1\n7 9\n2 2 5\n1 0\n2 -3 0\n1 1\n2 0 3\n1 -4\n1 -2\n2 -4 -1\n2 -5 -3\n```\n\n### Example Output\n```\n5  \n4\n4\n0\n1\n```\n\n### Explanation\n- Query 1: $l = 2$, $r = 5$. The maximum element of the subsequence $A_2, A_3, A_4, A_5$ is $A_5 = 5$. After this query, $s$ becomes $5\\%7 = 5$.\n- Query 2: $x = 5$. $A_5$ becomes $0$.\n- Query 3: $l = 2$, $r = 5$. The maximum element of the same subsequence is now $A_4 = 4$; $s$ becomes $(5+4)\\%7 = 2$.\n- Query 4: $x = 3$, $A_3$ becomes $0$.\n- Query 5: $l = 2$, $r = 5$. The maximum element of the same subsequence is still $A_4 = 4$; $s$ becomes $(5+4+4)\\%7 = 6$.\n- Query 6: $x = 2$, $A_2$ becomes $0$.\n- Query 7: $x = 4$, $A_4$ becomes $0$.\n- Query 8: $l = 2$, $r = 5$. All elements of the same subsequence as before are $0$, so the maximum is $0$; $s$ becomes $(5+4+4+0)\\%7 = 6$.\n- Query 9: $l = 1$, $r = 3$. The maximum of the subsequence $A_1, A_2, A_3$ is $A_1 = 1$; $s$ becomes $(5+4+4+0+1)\\%7 = 0$.\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/LTIME73\/hindi\/BURARRAY.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME73\/bengali\/BURARRAY.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/LTIME73\/mandarin\/BURARRAY.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME73\/russian\/BURARRAY.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME73\/vietnamese\/BURARRAY.pdf) as well.\n\nChef's friend Igzi is often at the coding gym, working out his mind muscles. When he is there, he asks Chef to guard his most prized posession: a sequence $A_1, A_2, \\ldots, A_N$. Initially, for each $i$ ($1 \\le i \\le N$), $A_i = i$ held. However, Chef sometimes gets bored and starts playing with the sequence. Since $N$ can be very large, Chef has a lot of fun with it and he would like to share it with you.\n\nYou should process $Q$ queries of two types:\n- `1 x`: set $A_x = 0$\n- `2 l r`: find the maximum element in the subsequence $A_l, A_{l+1}, \\ldots, A_r$\n\nSince Chef does not want to make Igzi angry, the queries are encoded so that they have to be processed online:\n- For each query, let's denote the sum of answers to all previous queries of type 2, modulo $N$, by $s$. (Initially, $s = 0$.)\n- For each query of the first type, you are given an integer $y$. You can compute $x$ as $y + s$.\n- For each query of the second type, you are given two integers $p$ and $q$. You can compute $l$ as $p + s$ and $r$ as $q + s$.\n\n### Input\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\n- The first line of each test case contains two space-separated integers $N$ and $Q$.\n- The following $Q$ lines describe queries.\n    - Each of these lines starts with an integer $t$ denoting the type of the current query: $t = 1$ for a query of the first type or $t = 2$ for a query of the second type.\n    - For a query of the first type, it is followed by a space and an integer $y$.\n    - For a query of the second type, it is followed by a space and two space-separated integers $p$ and $q$.\n\n### Output\nFor each query of the second type, print a single line containing one integer \u2015 the maximum of the given subsequence.\n\n### Constraints\n- $1 \\le T \\le 10$\n- $1 \\le N \\le 10^{18}$\n- $1 \\le Q \\le 500,000$\n- $1 \\le l \\le r \\le N$\n- $1 \\le x \\le N$\n- the sum of $Q$ over all test cases does not exceed $1,000,000$\n\n### Subtasks\n**Subtask #1 (10 points):** $N, Q \\le 1,000$\n\n**Subtask #2 (10 points):** $N \\le 100,000$\n\n**Subtask #3 (30 points):** each query of the second type appears after all queries of the first type\n\n**Subtask #4 (50 points):** original constraints","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"1\n7 9\n2 2 5\n1 0\n2 -3 0\n1 1\n2 0 3\n1 -4\n1 -2\n2 -4 -1\n2 -5 -3","output":"5  \n4\n4\n0\n1","explanation":"- Query 1: $l = 2$, $r = 5$. The maximum element of the subsequence $A_2, A_3, A_4, A_5$ is $A_5 = 5$. After this query, $s$ becomes $5\\%7 = 5$.\n- Query 2: $x = 5$. $A_5$ becomes $0$.\n- Query 3: $l = 2$, $r = 5$. The maximum element of the same subsequence is now $A_4 = 4$; $s$ becomes $(5+4)\\%7 = 2$.\n- Query 4: $x = 3$, $A_3$ becomes $0$.\n- Query 5: $l = 2$, $r = 5$. The maximum element of the same subsequence is still $A_4 = 4$; $s$ becomes $(5+4+4)\\%7 = 6$.\n- Query 6: $x = 2$, $A_2$ becomes $0$.\n- Query 7: $x = 4$, $A_4$ becomes $0$.\n- Query 8: $l = 2$, $r = 5$. All elements of the same subsequence as before are $0$, so the maximum is $0$; $s$ becomes $(5+4+4+0)\\%7 = 6$.\n- Query 9: $l = 1$, $r = 3$. The maximum of the subsequence $A_1, A_2, A_3$ is $A_1 = 1$; $s$ becomes $(5+4+4+0+1)\\%7 = 0$.","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"2","source_sizelimit":"50000","problem_author":"thesitzr","problem_author_html_handle":"thesitzr","problem_tester":null,"problem_tester_html_handle":"","date_added":"23-06-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/binary-search'>binary-search<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/ltime73'>ltime73<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/taran_1407'>taran_1407<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/thesitzr'>thesitzr<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/treap'>treap<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/union-find'>union-find<\/a>","problem_difficulty_level":"Easy","user_zen_mode":false,"best_tag":"Binary Search","editorial_url":"","time":{"view_start_date":1561827602,"submit_start_date":1561827602,"visible_start_date":1561827602,"end_date":1735669800,"current":1643797775},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=BURARRAY","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
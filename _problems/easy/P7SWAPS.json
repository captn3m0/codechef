{"category_name":"easy","status":"success","problem_code":"P7SWAPS","problem_name":"Permutation Swaps","body":"### Read problems statements in [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK129\/mandarin\/P7SWAPS.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK129\/russian\/P7SWAPS.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK129\/vietnamese\/P7SWAPS.pdf) and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK129\/bengali\/P7SWAPS.pdf) as well.\r\n\r\nA permutation is an array consisting of $N$ distinct integers from $1$ to $N$ in arbitrary order.\r\n\r\nChef has two permutation arrays $A$ and $P$ of length $N$. Chef performs the following three types of operations on the array $A$:\r\n- $1$ : Permute the array $A$ according to the order defined by permutation $P$.That is, replace $A$ with the array $B$ where $B[P[i]]=A[i]$.\r\n- $2 \\ x \\ y$ : Swap the elements at positions $x$ and $y$ in $A$.\r\n- $3 \\ x$ : Output the element at position $x$ in array $A$. \r\n\r\nFor each operation of type $3$, Chef wants you to output the element at position $x$ in array $A$ after all preceding operations have been applied.\r\n\r\n###Input\r\n\r\n- The first line contains an integer $T$, the number of test cases. Then the test cases follow. \r\n- The first line of each test case contains a single integer $N$.\r\n- The second line contains $N$ integers denoting elements of array $A$.\r\n- The third line contains $N$ integers denoting elements of array $P$.\r\n- The fourth line contains a single integer $Q$, denoting the number of operations to be performed.\r\n- $Q$ lines follow, each describing an operation of one of the three types above.\r\n\r\n###Output\r\nFor each test case, for each query of type $3$, output the answer in a separate line.\r\n\r\n###Constraints\r\n- $1 \\leq T \\leq 1000$\r\n- $1 \\leq N, Q \\leq 10^5$\r\n- $1 \\leq A[i],P[i], x, y \\leq N$\r\n- $A$ and $P$ are permutations.\r\n- $x\\ne y$ in type $2$ operations.\r\n- The sum of $N$ and the sum of $Q$ over all test cases do not exceed $10^5$.\r\n\r\n###Sample Input\r\n    1\r\n    3\r\n    1 2 3\r\n    2 3 1\r\n    3\r\n    1\r\n    2 2 3\r\n    3 1\r\n\r\n###Sample Output\r\n\t3\r\n\t\r\n###Explanation\r\nInitially, array $A$ is $[1,2,3]$.\r\nIt changes as follows: $[1,2,3]$ -> $[3,1,2]$ -> $[3,2,1]$.\r\nSo, we output element at position $1$ in array $A$, which is $3$.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problems statements in [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK129\/mandarin\/P7SWAPS.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK129\/russian\/P7SWAPS.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK129\/vietnamese\/P7SWAPS.pdf) and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK129\/bengali\/P7SWAPS.pdf) as well.\r\n\r\nA permutation is an array consisting of $N$ distinct integers from $1$ to $N$ in arbitrary order.\r\n\r\nChef has two permutation arrays $A$ and $P$ of length $N$. Chef performs the following three types of operations on the array $A$:\r\n- $1$ : Permute the array $A$ according to the order defined by permutation $P$.That is, replace $A$ with the array $B$ where $B[P[i]]=A[i]$.\r\n- $2 \\ x \\ y$ : Swap the elements at positions $x$ and $y$ in $A$.\r\n- $3 \\ x$ : Output the element at position $x$ in array $A$. \r\n\r\nFor each operation of type $3$, Chef wants you to output the element at position $x$ in array $A$ after all preceding operations have been applied.\r\n\r\n###Input\r\n\r\n- The first line contains an integer $T$, the number of test cases. Then the test cases follow. \r\n- The first line of each test case contains a single integer $N$.\r\n- The second line contains $N$ integers denoting elements of array $A$.\r\n- The third line contains $N$ integers denoting elements of array $P$.\r\n- The fourth line contains a single integer $Q$, denoting the number of operations to be performed.\r\n- $Q$ lines follow, each describing an operation of one of the three types above.\r\n\r\n###Output\r\nFor each test case, for each query of type $3$, output the answer in a separate line.\r\n\r\n###Constraints\r\n- $1 \\leq T \\leq 1000$\r\n- $1 \\leq N, Q \\leq 10^5$\r\n- $1 \\leq A[i],P[i], x, y \\leq N$\r\n- $A$ and $P$ are permutations.\r\n- $x\\ne y$ in type $2$ operations.\r\n- The sum of $N$ and the sum of $Q$ over all test cases do not exceed $10^5$.","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"1\r\n    3\r\n    1 2 3\r\n    2 3 1\r\n    3\r\n    1\r\n    2 2 3\r\n    3 1","output":"3","explanation":"Initially, array $A$ is $[1,2,3]$.\r\nIt changes as follows: $[1,2,3]$ -> $[3,1,2]$ -> $[3,2,1]$.\r\nSo, we output element at position $1$ in array $A$, which is $3$.","isDeleted":false}]},"video_editorial_url":"https:\/\/youtu.be\/q5--Czkw15k","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"0.5","source_sizelimit":"50000","problem_author":"ashish99hanny","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span class='m-username--link'>ashish99hanny<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"3-05-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/ashish99hanny'>ashish99hanny<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/binary-lifting'>binary-lifting<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cook129'>cook129<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy'>easy<\/a>","problem_difficulty_level":"Easy","user_zen_mode":false,"best_tag":"Binary Lifting","editorial_url":"https:\/\/discuss.codechef.com\/problems\/P7SWAPS","time":{"view_start_date":1621794602,"submit_start_date":1621794602,"visible_start_date":1621794602,"end_date":1735669800,"current":1643797855},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=P7SWAPS","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"easy","status":"success","problem_code":"JOKRBTMN","problem_name":"Joker and Batman","body":"### Read problem statements in [Russian](https:\/\/www.codechef.com\/download\/translated\/START6\/russian\/JOKRBTMN.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/START6\/mandarin\/JOKRBTMN.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/START6\/bengali\/JOKRBTMN.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/START6\/vietnamese\/JOKRBTMN.pdf) as well.\n\nDuring a fight with the Joker, Batman's eyes lose the capability to distinguish between some pairs of colors.\n\nEach color has an integer ID from $1$ to $N$. There are $M$ lists where each color belongs to exactly one list. Batman can distinguish colors belonging to different lists, but he cannot distinguish colors belonging to the same list.\n\nGiven a strip of $L$ colors, find the different number of segments Batman will see as a result of his disability. Two positions of the strip are said to belong to the same segment if they are adjacent on the strip and Batman cannot distinguish their colors. See the sample explanation for clarity.\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"- $1 \\leq T \\leq 10$\n- $1 \\leq M \\leq N \\leq 10^5$\n- $1 \\leq L \\leq 10^5$\n- $1 \\leq K_i, A_{ij}, S_i \\leq N$\n- $\\sum_{i=1}^{M} K_i = N$\n- Each color belongs to exactly one list.\n","constraintsState":true,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Russian](https:\/\/www.codechef.com\/download\/translated\/START6\/russian\/JOKRBTMN.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/START6\/mandarin\/JOKRBTMN.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/START6\/bengali\/JOKRBTMN.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/START6\/vietnamese\/JOKRBTMN.pdf) as well.\n\nDuring a fight with the Joker, Batman's eyes lose the capability to distinguish between some pairs of colors.\n\nEach color has an integer ID from $1$ to $N$. There are $M$ lists where each color belongs to exactly one list. Batman can distinguish colors belonging to different lists, but he cannot distinguish colors belonging to the same list.\n\nGiven a strip of $L$ colors, find the different number of segments Batman will see as a result of his disability. Two positions of the strip are said to belong to the same segment if they are adjacent on the strip and Batman cannot distinguish their colors. See the sample explanation for clarity.\n","inputFormat":"\n- The first line contains an integer $T$, the number of test cases. Then the test cases follow. \n- The first line contain three integers $N$, $M$, and $L$ - the number of colors, the number of lists, and the length of the strip, respectively.\n- Each of the next $M$ lines describes a list. It begins with an integer $K_i$, the length of the $i$-th list, followed by $K_i$ integers $A_{i1}, A_{i2}, \\ldots, A_{iK_i}$ - the color IDs of the $i$-th list.\n- The next line contains $L$ integers $S_1, S_2, \\ldots, S_L$ - the color IDs of the strip.\n","inputFormatState":true,"outputFormat":"For each test case, output in a single line the answer to the problem.\n","outputFormatState":true,"sampleTestCases":[{"id":"1","input":"3\n2 2 2\n1 2\n1 1\n2 1\n2 2 4\n1 1\n1 2\n1 2 2 1\n3 2 3\n2 1 3\n1 2\n1 3 1","output":"2\n3\n1","explanation":"**Test Case 1:** Since the strip is composed of colors from different lists, the answer is the length of the strip, which is $2$.\n\n**Test Case 2:** The first and second index have colors from different lists, and the third and fourth index have colors from different lists. So the strip is seen to be composed of $3$ consecutive segments.\n\n**Test Case 3:** Since the strip is composed of colors from the same list, the answer is $1$ segment.\n","isDeleted":false}]},"video_editorial_url":"https:\/\/youtu.be\/eHHyLDAQo4w","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"daanish_adm","problem_author_html_handle":"daanish_adm","problem_tester":"","problem_tester_html_handle":"","date_added":"13-04-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/daanish_adm'>daanish_adm<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/hashing'>hashing<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/simple'>simple<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/start6'>start6<\/a>","problem_difficulty_level":"Simple","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/JOKRBTMN","time":{"view_start_date":1627126200,"submit_start_date":1627126200,"visible_start_date":1627126200,"end_date":1735669800,"current":1643797831},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=JOKRBTMN","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
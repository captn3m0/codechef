{"category_name":"easy","status":"success","problem_code":"MSNG","problem_name":"Missing Number","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/OCT19\/hindi\/MSNG.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/OCT19\/bengali\/MSNG.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/OCT19\/mandarin\/MSNG.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/OCT19\/russian\/MSNG.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/OCT19\/vietnamese\/MSNG.pdf) as well.\r\n\r\nArchaeologist John and his team have unearthed the remains of an ancient civilisation. The partially destroyed walls of its houses contain strange pairs of numbers. John assumes that the first number in each pair always corresponds to a base (itself written in base $10$) and the second number in that pair is written in this base \u2015 for example, `3 2110` denotes $(2110)_3 = 2 \\cdot 3^3 + 1 \\cdot 3^2 + 1 \\cdot 3 + 0 = 66$.\r\n\r\nUnfortunately, the first number (the base) is often lost or unreadable. John made a list of pairs of numbers found on the walls, where he represents lost bases by $-1$. For example:\r\n```\r\n-1 10001\r\n3 2110\r\n-1 18565\r\n```\r\n\r\nJohn is wondering if all these pairs of numbers could represent a single common number \u2015 that is, if it is possible to choose some number $X$ in decimal representation (in base $10$) and fill in all missing bases in such a way that the second numbers in all pairs written on the walls, when converted from their bases to base $10$, are equal to $X$. For each pair with a missing base $(-1, Y)$, we may choose any integer base $B$ such that $2 \\le B \\le 36$ and $Y$ is a valid number in base $B$.\r\n\r\nSince John does not want to deal with huge numbers, he considers $X \\gt 10^{12}$ to be invalid. Still, there are too many possibilities, so he needs your help. Your task is to find the smallest common number $X$ that satisfies all conditions, or determine that no such common number exists.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains a single integer $N$.\r\n- Each of the following $N$ lines contains an integer $B$ followed by a space and a string $Y$, describing a pair of numbers found on the walls; in the string $Y$, digits $10$ through $35$ (in base $10$) are represented by letters 'A' through 'Z'.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the smallest possible common number $X$, or $-1$ if there is no valid common number.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 200$\r\n- $1 \\le N \\le 100$\r\n- $2 \\le B \\le 36$ or $B = -1$\r\n- $Y$ contains only digits '0' through '9' and letters 'A' through 'Z'\r\n- for each pair $(B, Y)$ on the input, if $B \\neq -1$, $Y$ is a valid number in base $B$\r\n- the length of string $Y$ is at most $40$\r\n\r\n### Subtasks\r\n**Subtask #1 (30 points):** there is at least one pair $(B, Y)$ such that $B \\neq -1$\r\n\r\n**Subtask #2 (70 points):** original constraints\r\n\r\n### Example Input\r\n```\r\n2\r\n3\r\n-1 10000\r\n8 20\r\n-1 16\r\n3\r\n-1 10100\r\n-1 5A\r\n-1 1011010\r\n```\r\n\r\n### Example Output\r\n```\r\n16\r\n90\r\n```\r\n\r\n### Explanation\r\n**Example case 1:**\r\n- $(10000)$ in base $2$ is $16$ in base $10$\r\n- $(20)$ in base $8$ is $16$ in base $10$\r\n- $(16)$ in base $10$ is $16$ in base $10$\r\n\r\n**Example case 2:**\r\n- $(10100)_3 = (90)_{10}$\r\n- $(5\\mathrm{A})_{16} = (90)_{10}$\r\n- $(1011010)_2 = (90)_{10}$\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/OCT19\/hindi\/MSNG.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/OCT19\/bengali\/MSNG.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/OCT19\/mandarin\/MSNG.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/OCT19\/russian\/MSNG.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/OCT19\/vietnamese\/MSNG.pdf) as well.\r\n\r\nArchaeologist John and his team have unearthed the remains of an ancient civilisation. The partially destroyed walls of its houses contain strange pairs of numbers. John assumes that the first number in each pair always corresponds to a base (itself written in base $10$) and the second number in that pair is written in this base \u2015 for example, `3 2110` denotes $(2110)_3 = 2 \\cdot 3^3 + 1 \\cdot 3^2 + 1 \\cdot 3 + 0 = 66$.\r\n\r\nUnfortunately, the first number (the base) is often lost or unreadable. John made a list of pairs of numbers found on the walls, where he represents lost bases by $-1$. For example:\r\n```\r\n-1 10001\r\n3 2110\r\n-1 18565\r\n```\r\n\r\nJohn is wondering if all these pairs of numbers could represent a single common number \u2015 that is, if it is possible to choose some number $X$ in decimal representation (in base $10$) and fill in all missing bases in such a way that the second numbers in all pairs written on the walls, when converted from their bases to base $10$, are equal to $X$. For each pair with a missing base $(-1, Y)$, we may choose any integer base $B$ such that $2 \\le B \\le 36$ and $Y$ is a valid number in base $B$.\r\n\r\nSince John does not want to deal with huge numbers, he considers $X \\gt 10^{12}$ to be invalid. Still, there are too many possibilities, so he needs your help. Your task is to find the smallest common number $X$ that satisfies all conditions, or determine that no such common number exists.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains a single integer $N$.\r\n- Each of the following $N$ lines contains an integer $B$ followed by a space and a string $Y$, describing a pair of numbers found on the walls; in the string $Y$, digits $10$ through $35$ (in base $10$) are represented by letters 'A' through 'Z'.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the smallest possible common number $X$, or $-1$ if there is no valid common number.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 200$\r\n- $1 \\le N \\le 100$\r\n- $2 \\le B \\le 36$ or $B = -1$\r\n- $Y$ contains only digits '0' through '9' and letters 'A' through 'Z'\r\n- for each pair $(B, Y)$ on the input, if $B \\neq -1$, $Y$ is a valid number in base $B$\r\n- the length of string $Y$ is at most $40$\r\n\r\n### Subtasks\r\n**Subtask #1 (30 points):** there is at least one pair $(B, Y)$ such that $B \\neq -1$\r\n\r\n**Subtask #2 (70 points):** original constraints","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"2\r\n3\r\n-1 10000\r\n8 20\r\n-1 16\r\n3\r\n-1 10100\r\n-1 5A\r\n-1 1011010","output":"16\r\n90","explanation":"**Example case 1:**\r\n- $(10000)$ in base $2$ is $16$ in base $10$\r\n- $(20)$ in base $8$ is $16$ in base $10$\r\n- $(16)$ in base $10$ is $16$ in base $10$\r\n\r\n**Example case 2:**\r\n- $(10100)_3 = (90)_{10}$\r\n- $(5\\mathrm{A})_{16} = (90)_{10}$\r\n- $(1011010)_2 = (90)_{10}$","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"jarvisnaharoy","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #1E7D22;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>2&#9733;<\/span><span class='m-username--link'>jarvisnaharoy<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"16-07-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/jarvisnaharoy'>jarvisnaharoy<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/oct19'>oct19<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/r_64'>r_64<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/simple'>simple<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/type-conversion'>type-conversion<\/a>","problem_difficulty_level":"Simple","user_zen_mode":false,"best_tag":"Type Conversion","editorial_url":"https:\/\/discuss.codechef.com\/problems\/MSNG","time":{"view_start_date":1571045400,"submit_start_date":1571045400,"visible_start_date":1571045400,"end_date":1735669800,"current":1643797848},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=MSNG","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
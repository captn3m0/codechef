{"category_name":"easy","status":"success","problem_code":"CHFIMPRS","problem_name":"Impressing Chefina","body":"### Read problems statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/COOK118\/hindi\/CHFIMPRS.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK118\/mandarin\/CHFIMPRS.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK118\/russian\/CHFIMPRS.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK118\/vietnamese\/CHFIMPRS.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK118\/bengali\/CHFIMPRS.pdf) as well.\r\n\r\nChef has a matrix $A$ with $N$ rows (numbered $1$ through $N$) and $M$ columns (numbered $1$ through $M$); an element in row $i$ and column $j$ is denoted by $A_{i, j}$. He is going to play a game on this matrix with Chefina. In the game, Chef lists the elements of the matrix row by row in an alternating pattern, starting from the top left corner \u2015 he writes down the first row from left to right, the second row from right to left, and so on. Chefina also lists the elements of the matrix row by row, but she starts from the top right corner and writes down the first row from right to left, the second row from left to right, and so on.\r\n\r\nChefina gets impressed if the sequences written by Chef and Chefina turn out to be the same. Chef can rearrange the matrix in any way he chooses in order to impress Chefina. In the rearranged matrix, the number of occurrences of each integer must be the same as in the original matrix.\r\n\r\nFor example, if the initial matrix is\r\n```\r\n1 1\r\n1 2\r\n```\r\nthen there are four possible rearrangements:\r\n```\r\n1 1     1 1     1 2     2 1\r\n1 2     2 1     1 1     1 1\r\n```\r\n\r\nFind one way in which Chef can rearrange the matrix to impress Chefina or determine that it is impossible.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $M$. \r\n- $N$ lines follow. For each $i$ ($1 \\le i \\le N$), the $i$-th of these lines contains $M$ space-separated integers $A_{i, 1}, A_{i, 2}, \\ldots, A_{i, M}$.\r\n\r\n### Output\r\nFor each test case:\r\n- If it is impossible to rearrange the matrix in such a way that Chefina gets impressed, print a single line containing the integer $-1$.\r\n- Otherwise, print $N$ lines describing your rearranged matrix. For each $i$ ($1 \\le i \\le N$), the $i$-th of these lines should contain $M$ space-separated integers \u2015 the elements in the $i$-th row of the rearranged matrix. This matrix must have the same number of occurrences of each integer as the original matrix.\r\n\r\nIf there is more than one possible answer, you may find any one.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 10^5$\r\n- $1 \\le N, M \\le 300$\r\n- $1 \\le A_{i, j} \\le 10^5$ for each valid $i, j$\r\n- the sum of $N \\cdot M$ over all test cases does not exceed $5 \\cdot 10^5$\r\n\r\n### Example Input\r\n```\r\n3\r\n1 2\r\n1 1\r\n2 2\r\n1 1\r\n2 1\r\n3 3\r\n1 2 3\r\n6 5 4\r\n7 8 9\r\n```\r\n\r\n### Example Output\r\n```\r\n1 1\r\n-1\r\n-1\r\n```\r\n\t\r\n### Explanation\r\n**Example case 1:** The sequence printed by Chef is always $[1, 1]$ and the sequence printed by Chefina is also always $[1, 1]$, so Chef does not need to change the matrix and Chefina will be impressed.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problems statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/COOK118\/hindi\/CHFIMPRS.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK118\/mandarin\/CHFIMPRS.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK118\/russian\/CHFIMPRS.pdf), [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/COOK118\/vietnamese\/CHFIMPRS.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK118\/bengali\/CHFIMPRS.pdf) as well.\r\n\r\nChef has a matrix $A$ with $N$ rows (numbered $1$ through $N$) and $M$ columns (numbered $1$ through $M$); an element in row $i$ and column $j$ is denoted by $A_{i, j}$. He is going to play a game on this matrix with Chefina. In the game, Chef lists the elements of the matrix row by row in an alternating pattern, starting from the top left corner \u2015 he writes down the first row from left to right, the second row from right to left, and so on. Chefina also lists the elements of the matrix row by row, but she starts from the top right corner and writes down the first row from right to left, the second row from left to right, and so on.\r\n\r\nChefina gets impressed if the sequences written by Chef and Chefina turn out to be the same. Chef can rearrange the matrix in any way he chooses in order to impress Chefina. In the rearranged matrix, the number of occurrences of each integer must be the same as in the original matrix.\r\n\r\nFor example, if the initial matrix is\r\n```\r\n1 1\r\n1 2\r\n```\r\nthen there are four possible rearrangements:\r\n```\r\n1 1     1 1     1 2     2 1\r\n1 2     2 1     1 1     1 1\r\n```\r\n\r\nFind one way in which Chef can rearrange the matrix to impress Chefina or determine that it is impossible.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $M$. \r\n- $N$ lines follow. For each $i$ ($1 \\le i \\le N$), the $i$-th of these lines contains $M$ space-separated integers $A_{i, 1}, A_{i, 2}, \\ldots, A_{i, M}$.\r\n\r\n### Output\r\nFor each test case:\r\n- If it is impossible to rearrange the matrix in such a way that Chefina gets impressed, print a single line containing the integer $-1$.\r\n- Otherwise, print $N$ lines describing your rearranged matrix. For each $i$ ($1 \\le i \\le N$), the $i$-th of these lines should contain $M$ space-separated integers \u2015 the elements in the $i$-th row of the rearranged matrix. This matrix must have the same number of occurrences of each integer as the original matrix.\r\n\r\nIf there is more than one possible answer, you may find any one.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 10^5$\r\n- $1 \\le N, M \\le 300$\r\n- $1 \\le A_{i, j} \\le 10^5$ for each valid $i, j$\r\n- the sum of $N \\cdot M$ over all test cases does not exceed $5 \\cdot 10^5$","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"3\r\n1 2\r\n1 1\r\n2 2\r\n1 1\r\n2 1\r\n3 3\r\n1 2 3\r\n6 5 4\r\n7 8 9","output":"1 1\r\n-1\r\n-1","explanation":"**Example case 1:** The sequence printed by Chef is always $[1, 1]$ and the sequence printed by Chefina is also always $[1, 1]$, so Chef does not need to change the matrix and Chefina will be impressed.","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"rishup_nitdgp","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span class='m-username--link'>rishup_nitdgp<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"2-05-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/akashbhalotia'>akashbhalotia<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cook118'>cook118<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/hashing'>hashing<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/observation'>observation<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/palindrome'>palindrome<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/rishup_nitdgp'>rishup_nitdgp<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/rishup_nitdgp'>rishup_nitdgp<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/simple'>simple<\/a>","problem_difficulty_level":"Simple","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/CHFIMPRS","time":{"view_start_date":1590345002,"submit_start_date":1590345002,"visible_start_date":1590345002,"end_date":1735669800,"current":1643797784},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=CHFIMPRS","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
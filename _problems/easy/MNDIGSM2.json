{"category_name":"easy","status":"success","problem_code":"MNDIGSM2","problem_name":"Minimum Digit Sum 2","body":"### Read problem statements in [Bengali](https:\/\/www.codechef.com\/download\/translated\/SEPT21\/bengali\/MNDIGSM2.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/SEPT21\/mandarin\/MNDIGSM2.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/SEPT21\/russian\/MNDIGSM2.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/SEPT21\/vietnamese\/MNDIGSM2.pdf) as well.\n\n_This problem is similar to the problem \"MNDIGSUM\". The only differences are in the constraints and in the input format. In this problem the range for the base $B$ is $[2, R]$, the value of $n$ can be upto $10^{12}$ and the total number of queries is at most $300$. The differences are described in bold._\n\n\nLet $f(n, B)$ be the sum of digits of the integer $n$ when written in base $B$.\n\nMore formally, if $n = \\sum\\limits_{i=0}^{\\infty} a_i B^i$ where $a_i$ is an integer in the range $[0, B-1]$, then $f(n, B) = \\sum\\limits_{i=0}^{\\infty} a_i$.\n\nGiven $Q$ queries, each consisting of **two** integers $n$ and $r$. Find the value of $B$ corresponding to which $f(n, B)$ is minimum for all ${\\bf{2}} \\leq B \\leq r$. If there are multiple such values, you can print any of them.\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"- $1 \\leq Q \\leq {\\bf{300}}$\n- $2 \\leq n \\leq {\\bf{10^{12}}}$\n- $2 \\leq r \\leq {\\bf{10^{12}}}$","constraintsState":true,"subtasks":"**Subtask #1 (50 points):** original constraints\n\n*This problem is worth a total of 50 points and is meant to be complementary to the problem \"MNDIGSUM\" (also worth 50 points) which is very similar to this problem, but has slightly different constraints.*","subtasksState":true,"statement":"### Read problem statements in [Bengali](https:\/\/www.codechef.com\/download\/translated\/SEPT21\/bengali\/MNDIGSM2.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/SEPT21\/mandarin\/MNDIGSM2.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/SEPT21\/russian\/MNDIGSM2.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/SEPT21\/vietnamese\/MNDIGSM2.pdf) as well.\n\n_This problem is similar to the problem \"MNDIGSUM\". The only differences are in the constraints and in the input format. In this problem the range for the base $B$ is $[2, R]$, the value of $n$ can be upto $10^{12}$ and the total number of queries is at most $300$. The differences are described in bold._\n\n\nLet $f(n, B)$ be the sum of digits of the integer $n$ when written in base $B$.\n\nMore formally, if $n = \\sum\\limits_{i=0}^{\\infty} a_i B^i$ where $a_i$ is an integer in the range $[0, B-1]$, then $f(n, B) = \\sum\\limits_{i=0}^{\\infty} a_i$.\n\nGiven $Q$ queries, each consisting of **two** integers $n$ and $r$. Find the value of $B$ corresponding to which $f(n, B)$ is minimum for all ${\\bf{2}} \\leq B \\leq r$. If there are multiple such values, you can print any of them.","inputFormat":"- The first line contains in single integer $Q$, the number of queries\n- Each of the next $Q$ lines contain two space separated integers $n$ and $r$ respectively.","inputFormatState":true,"outputFormat":"- For each query (`n r`) find the value of the base $B$ that lies within $[{\\bf{2}}, r]$ such that $f(n, B)$ is minimum.","outputFormatState":true,"sampleTestCases":[{"id":"1","input":"3\n216 7\n256 4\n31 5","output":"6\n2\n5","explanation":"To compute $f(n, B)$, first write the integer $n$ in the form $a_0 + a_1 B + a_2 B^2 + \\dots $ such that $0 \\leq a_i < B$ and $a_i$ is an integer. It can be shown that such a representation is unique. The sum of the digits is then $\\sum\\limits_{i=0}^{\\infty} a_i$ (to be computed in base 10).\n\nFor example to compute $f(216, 2)$, observe that $216 = 2^7 + 2^6 + 2^4 + 2^3$, and so the sum of digits is $1 + 1 + 1 + 1 = 4$.\nSimilarly, to compute  $f(216, 100)$, write $216$ as $2 * 100 + 16$ and so the sum of digits is $2 + 16 = 18$.\n\n\n**Test case $1$:** We have $f(216, 2) = f(216, 3) = 4$, $f(216, 4) = 6$, $f(216, 5) = 8$, $f(216, 6 = 1)$ and finally $f(216, 7) = 12$. Clearly the minimum is obtained when $B = 6$.\n\n**Test case $2$:** Note that $f(256, 2) = f(256, 4)$ = $1$, therefore both the answers $2$ and $4$ will be considered correct.\n\n**Test case $3$:** $f(31, 3) = f(31, 5) = 3$ and $f(31, 4) = 7$, therefore both the answers $3$ and $5$ will be considered correct.\n","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"srikkanth_adm","problem_author_html_handle":"srikkanth_adm","problem_tester":"","problem_tester_html_handle":"","date_added":"31-08-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/math'>math<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/sept21'>sept21<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/srikkanth_adm'>srikkanth_adm<\/a>","problem_difficulty_level":"Easy-Medium","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/MNDIGSM2","time":{"view_start_date":1631525400,"submit_start_date":1631525400,"visible_start_date":1631525400,"end_date":1735669800,"current":1643797848},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=MNDIGSM2","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
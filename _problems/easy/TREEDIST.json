{"category_name":"easy","status":"success","problem_code":"TREEDIST","problem_name":"Tree Distance Sum","body":"You are given a tree consisting of $N$ nodes. The nodes are numbered from $1$ to $N$. The tree is rooted at the node $1$. \n\nA tree is a connected undirected graph with $N \u2212 1$ edges.\n\nFind the sum of the distance between nodes $x$ and $y$ over all tuples ($u, v, x, y$) satisfying the following conditions:\n\n$1)$ $u \\lt v$\n\n$2)$ $u$ is the ancestor of node $x$ and $v$ is the ancestor of node $y$.\n\n$3)$ Neither of $u$ or $v$ is the ancestor of the other.\n\nSince the sum can be enormous, print it modulo $(10^9 + 7)$.\n\n**Note**:\n- The distance between two nodes of a tree is the number of edges in the shortest path between these two nodes.\n\n- Node $x$ is considered to be the ancestor of $y$ if $x$ lies on the path from $1$ to $y$.\n\n- Usually, there is no bound on the stack memory and is equal to the total memory limit of 1.5 GB. But due to a system configuration issue, the stack limit for C++ is temporarily set to 8 MB. So, if you believe that your code requires a larger stack limit, please include [this](https:\/\/codeforces.com\/blog\/entry\/15866) in your code.\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"- $1 \\leq T \\leq 2000$\n- $1 \\leq N \\leq 10^5$\n- $1 \\le u_i, v_i \\leq N$\n- It is guaranteed that the given nodes and edges construct a tree.\n- The sum of $N$ over all test cases does not exceed $10^6$\n\n\n","constraintsState":true,"subtasks":"","subtasksState":true,"statement":"You are given a tree consisting of $N$ nodes. The nodes are numbered from $1$ to $N$. The tree is rooted at the node $1$. \n\nA tree is a connected undirected graph with $N \u2212 1$ edges.\n\nFind the sum of the distance between nodes $x$ and $y$ over all tuples ($u, v, x, y$) satisfying the following conditions:\n\n$1)$ $u \\lt v$\n\n$2)$ $u$ is the ancestor of node $x$ and $v$ is the ancestor of node $y$.\n\n$3)$ Neither of $u$ or $v$ is the ancestor of the other.\n\nSince the sum can be enormous, print it modulo $(10^9 + 7)$.\n\n**Note**:\n- The distance between two nodes of a tree is the number of edges in the shortest path between these two nodes.\n\n- Node $x$ is considered to be the ancestor of $y$ if $x$ lies on the path from $1$ to $y$.\n\n- Usually, there is no bound on the stack memory and is equal to the total memory limit of 1.5 GB. But due to a system configuration issue, the stack limit for C++ is temporarily set to 8 MB. So, if you believe that your code requires a larger stack limit, please include [this](https:\/\/codeforces.com\/blog\/entry\/15866) in your code.","inputFormat":"- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\n- The first line of each test contains an integer $N$, denoting the number of nodes in the tree.\n- $N - 1$ lines follow. The $i^{th}$ of these lines contains two space-separated integers $u_i$ and $v_i$, denoting an edge between the nodes $u_i$ and $v_i$.\n\n","inputFormatState":true,"outputFormat":"For each test case, output in a single line the sum obtained modulo $(10^9 + 7)$.\n","outputFormatState":true,"sampleTestCases":[{"id":"1","input":"4\n3\n1 2\n2 3\n3\n1 2\n1 3\n5\n1 2\n2 3\n3 4\n2 5\n6\n1 2\n1 3\n3 4\n2 5\n2 6\n\n","output":"0\n2\n8\n54\n","explanation":"**Test case $1$:** There is no such tuple satisfying the constraints.\n\n**Test case $2$:**  $(2, 3, 2, 3)$ is the only valid tuple and distance between node $2$ and node $3$ is $2$.","isDeleted":false}]},"video_editorial_url":"https:\/\/youtu.be\/TOTKSEDeX6s","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"satyam_343","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>satyam_343<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"26-08-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/dynamic-programming'>dynamic-programming<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/satyam_343'>satyam_343<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/start10'>start10<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/tree-dp'>tree-dp<\/a>","problem_difficulty_level":"Unavailable","user_zen_mode":false,"best_tag":"Dynamic Programming","editorial_url":"https:\/\/discuss.codechef.com\/problems\/TREEDIST","time":{"view_start_date":1630243804,"submit_start_date":1630243804,"visible_start_date":1630243804,"end_date":1735669800,"current":1643797899},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=TREEDIST","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"easy","status":"success","problem_code":"EVEDG","problem_name":"Even Edges","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/OCT19\/hindi\/EVEDG.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/OCT19\/bengali\/EVEDG.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/OCT19\/mandarin\/EVEDG.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/OCT19\/russian\/EVEDG.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/OCT19\/vietnamese\/EVEDG.pdf) as well.\r\n\r\nChef has a simple undirected graph with $N$ vertices (numbered $1$ through $N$) and $M$ edges. He wants to divide it into $K$ parts (subgraphs) for some integer $K$.\r\n\r\nFirst, Chef divides the vertices in the graph into $K$ sets such that each vertex belongs to exactly one set; the subgraphs and sets are numbered $1$ through $K$ such that for each valid $i$, vertices from the $i$-th set belong to the $i$-th subgraph. Then, Chef checks all the edges in the graph. For an edge connecting vertices $u$ and $v$, if $u$ and $v$ are both in the $i$-th set, then this edge belongs to the $i$-th subgraph. Otherwise, this edge does not belong to any of these $K$ subgraphs.\r\n\r\nAt the end, Chef checks these $K$ subgraphs. If each subgraph contains an even number of edges, then Chef thinks that this way of dividing the graph is *delicious*.\r\n\r\nChef wants to divide the graph in a delicious way such that $K$ is the smallest possible. Find the minimum $K$ and one such way to divide the graph.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $M$.\r\n- Each of the next $M$ lines contains two space-separated integers $u$ and $v$ denoting that vertices $u$ and $v$ are connected by an edge.\r\n\r\n### Output\r\nFor each test case, print two lines. The first of these lines should contain a single integer \u2015 the minimum $K$. The second line should contain $N$ space-separated integers, where for each valid $i$, the $i$-th integer denotes the subgraph that vertex $i$ belongs to.\r\n\r\nIf there are multiple solutions, you may output any one.\r\n\r\n### Constraints \r\n- $1 \\le T \\le 3,000$\r\n- $1 \\le M \\le 100,000$\r\n- $2 \\le N \\le 100,000$\r\n- $1 \\le u \\neq v \\le N$\r\n- the graph contains no duplicate edges or self-loops\r\n- the sum of $N$ over all test cases does not exceed $10^6$\r\n- the sum of $M$ over all test cases does not exceed $10^6$\r\n\r\n### Subtasks\r\n**Subtask #1 (30 pts):** $2 \\le N \\le 10$\r\n\r\n**Subtask #2 (70 pts):** original constraints\r\n\r\n### Example Input\r\n```\r\n1\r\n5 5\r\n1 2\r\n1 3\r\n2 3\r\n2 4\r\n3 4\r\n```\r\n\r\n### Example Output\r\n```\r\n2\r\n1 2 1 1 2\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** Subgraph $1$ contains vertices $1$, $3$, $4$ and edges $(1,3)$ and $(3,4)$. Subgraph $2$ contains vertices $2$ and $5$, but no edges.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/OCT19\/hindi\/EVEDG.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/OCT19\/bengali\/EVEDG.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/OCT19\/mandarin\/EVEDG.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/OCT19\/russian\/EVEDG.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/OCT19\/vietnamese\/EVEDG.pdf) as well.\r\n\r\nChef has a simple undirected graph with $N$ vertices (numbered $1$ through $N$) and $M$ edges. He wants to divide it into $K$ parts (subgraphs) for some integer $K$.\r\n\r\nFirst, Chef divides the vertices in the graph into $K$ sets such that each vertex belongs to exactly one set; the subgraphs and sets are numbered $1$ through $K$ such that for each valid $i$, vertices from the $i$-th set belong to the $i$-th subgraph. Then, Chef checks all the edges in the graph. For an edge connecting vertices $u$ and $v$, if $u$ and $v$ are both in the $i$-th set, then this edge belongs to the $i$-th subgraph. Otherwise, this edge does not belong to any of these $K$ subgraphs.\r\n\r\nAt the end, Chef checks these $K$ subgraphs. If each subgraph contains an even number of edges, then Chef thinks that this way of dividing the graph is *delicious*.\r\n\r\nChef wants to divide the graph in a delicious way such that $K$ is the smallest possible. Find the minimum $K$ and one such way to divide the graph.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $M$.\r\n- Each of the next $M$ lines contains two space-separated integers $u$ and $v$ denoting that vertices $u$ and $v$ are connected by an edge.\r\n\r\n### Output\r\nFor each test case, print two lines. The first of these lines should contain a single integer \u2015 the minimum $K$. The second line should contain $N$ space-separated integers, where for each valid $i$, the $i$-th integer denotes the subgraph that vertex $i$ belongs to.\r\n\r\nIf there are multiple solutions, you may output any one.\r\n\r\n### Constraints \r\n- $1 \\le T \\le 3,000$\r\n- $1 \\le M \\le 100,000$\r\n- $2 \\le N \\le 100,000$\r\n- $1 \\le u \\neq v \\le N$\r\n- the graph contains no duplicate edges or self-loops\r\n- the sum of $N$ over all test cases does not exceed $10^6$\r\n- the sum of $M$ over all test cases does not exceed $10^6$\r\n\r\n### Subtasks\r\n**Subtask #1 (30 pts):** $2 \\le N \\le 10$\r\n\r\n**Subtask #2 (70 pts):** original constraints\r\n\r\n### Example Input\r\n```\r\n1\r\n5 5\r\n1 2\r\n1 3\r\n2 3\r\n2 4\r\n3 4\r\n```\r\n\r\n### Example Output\r\n```\r\n2\r\n1 2 1 1 2\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** Subgraph $1$ contains vertices $1$, $3$, $4$ and edges $(1,3)$ and $(3,4)$. Subgraph $2$ contains vertices $2$ and $5$, but no edges.\r\n","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"https:\/\/youtu.be\/xSopj_5MfJc","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"aa98","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #3366CC;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>3&#9733;<\/span><span class='m-username--link'>aa98<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"29-04-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/aa98'>aa98<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy'>easy<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/graphs'>graphs<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/oct19'>oct19<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/r_64'>r_64<\/a>","problem_difficulty_level":"Easy","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/EVEDG","time":{"view_start_date":1571045400,"submit_start_date":1571045400,"visible_start_date":1571045400,"end_date":1735669800,"current":1643797808},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=EVEDG","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
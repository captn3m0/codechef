{"category_name":"easy","status":"success","problem_code":"FUZZYLIN","problem_name":"Fuzzy Linear Combinations","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/SEPT19\/hindi\/FUZZYLIN.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/SEPT19\/bengali\/FUZZYLIN.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/SEPT19\/mandarin\/FUZZYLIN.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/SEPT19\/russian\/FUZZYLIN.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/SEPT19\/vietnamese\/FUZZYLIN.pdf) as well.\n\nChef recently took a course in linear algebra and learned about linear combinations of vectors. Therefore, in order to test his intelligence, Raj gave him a \"fuzzy\" problem to solve.\n\nA sequence of integers $B_1, B_2, \\ldots, B_M$ *generates* an integer $K$ if it is possible to find a sequence of integers $C_1, C_2, \\ldots, C_M$ such that $C_1 \\cdot B_1 + C_2 \\cdot B_2 + \\ldots + C_M \\cdot B_M = K$.\n\nIn this problem, Chef has a sequence $A_1, A_2, \\ldots, A_N$ and he should answer $Q$ queries. In each query, he is given an integer $K$; the answer to this query is the number of pairs $(l, r)$ such that $1 \\le l \\le r \\le N$ and the subsequence $(A_l, A_{l+1}, \\ldots, A_r)$ generates $K$.\n\nChef has no idea how to solve this problem \u2015 can you help him find the answers to all queries?\n\n### Input\n- The first line of the input contains a single integer $N$.\n- The second line contains $N$ space-separated integers $A_1, A_2, \\ldots, A_N$.\n- The third line contains a single integer $Q$.\n- The following $Q$ lines describe queries. Each of these lines contains a single integer $K$.\n\n### Output\nFor each query, print a single line containing one integer \u2015 the number of contiguous subsequences that generate $K$.\n\n### Constraints \n- $1 \\le N, Q \\le 10^5$\n- $1 \\le A_i \\le 10^9$ for each valid $i$\n- $1 \\le K \\le 10^6$\n\n### Subtasks\n**Subtask #1 (10 points):** $1 \\le N \\le 1,000$\n\n**Subtask #2 (90 points):** original constraints\n\n### Example Input\n```\n2\n2 4\n3\n1\n2\n8\n```\n\n### Example Output\n```\n0\n2\n3\n```\n\n### Explanation\nThe sequence $(2, 4)$ has three contiguous subsequences: $(2)$, $(4)$ and $(2, 4)$. \n- In the first query, $1$ cannot be generated by any subsequence.\n- In the second query, $2$ is generated by subsequences $(2)$ and $(2, 4)$. For example, for the subsequence $(2, 4)$, we can choose $C_1 = 1$ and $C_2 = 0$.\n- In the third query, $8$ is generated by all three subsequences.\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/SEPT19\/hindi\/FUZZYLIN.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/SEPT19\/bengali\/FUZZYLIN.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/SEPT19\/mandarin\/FUZZYLIN.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/SEPT19\/russian\/FUZZYLIN.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/SEPT19\/vietnamese\/FUZZYLIN.pdf) as well.\n\nChef recently took a course in linear algebra and learned about linear combinations of vectors. Therefore, in order to test his intelligence, Raj gave him a \"fuzzy\" problem to solve.\n\nA sequence of integers $B_1, B_2, \\ldots, B_M$ *generates* an integer $K$ if it is possible to find a sequence of integers $C_1, C_2, \\ldots, C_M$ such that $C_1 \\cdot B_1 + C_2 \\cdot B_2 + \\ldots + C_M \\cdot B_M = K$.\n\nIn this problem, Chef has a sequence $A_1, A_2, \\ldots, A_N$ and he should answer $Q$ queries. In each query, he is given an integer $K$; the answer to this query is the number of pairs $(l, r)$ such that $1 \\le l \\le r \\le N$ and the subsequence $(A_l, A_{l+1}, \\ldots, A_r)$ generates $K$.\n\nChef has no idea how to solve this problem \u2015 can you help him find the answers to all queries?\n\n### Input\n- The first line of the input contains a single integer $N$.\n- The second line contains $N$ space-separated integers $A_1, A_2, \\ldots, A_N$.\n- The third line contains a single integer $Q$.\n- The following $Q$ lines describe queries. Each of these lines contains a single integer $K$.\n\n### Output\nFor each query, print a single line containing one integer \u2015 the number of contiguous subsequences that generate $K$.\n\n### Constraints \n- $1 \\le N, Q \\le 10^5$\n- $1 \\le A_i \\le 10^9$ for each valid $i$\n- $1 \\le K \\le 10^6$\n\n### Subtasks\n**Subtask #1 (10 points):** $1 \\le N \\le 1,000$\n\n**Subtask #2 (90 points):** original constraints","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"2\n2 4\n3\n1\n2\n8","output":"0\n2\n3","explanation":"The sequence $(2, 4)$ has three contiguous subsequences: $(2)$, $(4)$ and $(2, 4)$. \n- In the first query, $1$ cannot be generated by any subsequence.\n- In the second query, $2$ is generated by subsequences $(2)$ and $(2, 4)$. For example, for the subsequence $(2, 4)$, we can choose $C_1 = 1$ and $C_2 = 0$.\n- In the third query, $8$ is generated by all three subsequences.","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"hackslash_123","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #684273;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>4&#9733;<\/span><span class='m-username--link'>hackslash_123<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"15-07-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/anand20'>anand20<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/bezout-identity'>bezout-identity<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/greatest-common-divisor'>greatest-common-divisor<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/hackslash_123'>hackslash_123<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/sept19'>sept19<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/sieve'>sieve<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/subarray'>subarray<\/a>","problem_difficulty_level":"Easy","user_zen_mode":false,"best_tag":"Greatest Common Divisor","editorial_url":"https:\/\/discuss.codechef.com\/problems\/FUZZYLIN","time":{"view_start_date":1568626202,"submit_start_date":1568626202,"visible_start_date":1568626202,"end_date":1735669800,"current":1643797815},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=FUZZYLIN","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
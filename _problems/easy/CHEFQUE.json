{"category_name":"easy","status":"success","problem_code":"CHEFQUE","problem_name":"Chef and Queries","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/COOK65\/mandarin\/CHEFQUE.pdf\">Mandarin Chinese<\/a>, <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/COOK65\/russian\/CHEFQUE.pdf\">Russian<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/COOK65\/vietnamese\/CHEFQUE.pdf\">Vietnamese<\/a> as well.<\/h3>\n\n\n<p>\nAs part of his daily job, Chef has to solve problems involving sets. Till now, Chef has been using inefficient methods to solve his set related problem, wasting a lot of his precious time. He has agreed to pay you a lot of money for solving the following problem for him efficiently.\n<\/p>\n<p>\nFirst, Chef needs to perform <b>Q<\/b> operations on a set. Each operation is either:\n<ul>\n<li>1. Add a number to the set (if this number is NOT already present in the set).<\/li>\n<li>2. Erase a number from the set (if this number exists in the set).<\/li>\n<\/ol>\n<\/p>\n\n<p>\nThen, he needs to find the sum of all elements of the set after performing these <b>Q<\/b> queries. Your job is to find this sum for him quickly.\n<\/p>\n\n<h3>Input<\/h3>\nThe first line of input contains four integers \u2014 <b>Q<\/b>, <b>S<sub>1<\/sub><\/b>, <b>A<\/b>, <b>B<\/b>. <b>S<sub>1<\/sub><\/b> is the first number in the operations. <b>A<\/b> and <b>B<\/b> are special constants explained later.\n<p>\nEvery operation <b>S<sub>i<\/sub><\/b> is represented by a single integer. If <b>S<sub>i<\/sub><\/b> is odd, then it represents the first operation, otherwise the second type, and in both of them the integer you have to add\/delete equals [<b>S<sub>i<\/sub><\/b> \/ 2], where [] is the greatest integer (or floor) function.\n<p> \n<b>S<sub>i<\/sub><\/b> = (<b>A<\/b>*<b>S<sub>i-1<\/sub><\/b> + <b>B<\/b>) mod <b>2<sup>32<\/sup><\/b> when <b>i<\/b> > 1.\n<\/p>\n<p>\n<b>Note:<\/b> In this problem, the time limit is very tight. Using built-in data structures, such as set\/unordered_set in C++ or TreeSet\/HashSet in Java, may lead to a Time Limit Exceed verdict.\n<\/p>\n\n<h3>Output<\/h3>\nOutput a single line containing a single integer \u2014 sum of elements in the set after <b>Q<\/b> queries.\n\n<h3>Constraints<\/h3>\n<ul>\n<li>1 \u2264 <b>Q<\/b> \u2264 10<sup>7<\/sup><\/li>\n<li>1 \u2264 <b>S<sub>1<\/sub>, A, B<\/b> \u2264 10<sup>9<sup><\/li>\n<\/ul>\n\n<h3>Example<\/h3>\n<pre>\n<b>Input:<\/b>\n<tt>5 1 1 1\n<\/tt>\n<b>Output:<\/b>\n<tt>3\n<\/tt>\n\n<b>Input:<\/b>\n<tt>10000000 777777777 777777777 777777777\n<\/tt>\n<b>Output:<\/b>\n<tt>5362358669068782<\/tt>\n<\/pre>\n\n<h3>Explanation:<\/h3>\n<p>\nThe sequence {S<sub>i<\/sub>} is 1, 2, 3, 4, 5:\n<p>\nOperation 1, 1 mod 2 = 1, add number [1 \/ 2] = 0 to set, sum is 0.\n<\/p>\n<p>\nOperation 2, 2 mod 2 = 0, erase number [2 \/ 2] = 1 from set, 1 is not in set, so nothing happens, sum is 0.\n<\/p>\n<p>\nOperation 3, 3 mod 2 = 1, add number [3 \/ 2] = 1 to set, sum is 1.\n<\/p>\n<p>\nOperation 4, 4 mod 2 = 0, erase number [4 \/ 2] = 2 from set, 2 is not in set, so nothing happens, sum is 1.\n<\/p>\n<p>\nOperation 5, 5 mod 2 = 1, add number [5 \/ 2] = 2 to set, sum is 3.\n<\/p>","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.4","max_timelimit":"2","source_sizelimit":"50000","problem_author":"mgch","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span>mgch<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"9-12-2015","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/bitset'>\n                    bitset\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/cook65'>\n                    cook65\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>\n                    easy-medium\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/hashing'>\n                    hashing\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/mgch'>\n                    mgch\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/CHEFQUE","user":{"username":null},"time":{"view_start_date":1450636200,"submit_start_date":1450636200,"visible_start_date":1450636200,"end_date":1735669800,"current":1493558120},"todo":false,"problem_status":"unattempted"}
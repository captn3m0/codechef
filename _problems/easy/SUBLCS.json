{"category_name":"easy","status":"success","problem_code":"SUBLCS","problem_name":"Subsequence LCS","body":"### Read problem statements in [Mandarin](https:\/\/www.codechef.com\/download\/translated\/LTIME100\/mandarin\/SUBLCS.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME100\/bengali\/SUBLCS.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME100\/russian\/SUBLCS.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME100\/vietnamese\/SUBLCS.pdf) as well.\n\nYou are given a sequence $A_1, A_2, \\ldots, A_N$. Consider **every** pair that consists of:\n\n$1)$ One of the **longest** non-decreasing subsequences of $A$.\n\n$2)$ One of the **longest** non-increasing subsequences of $A$. \n\nFind the maximum possible length of the longest common subsequence of the two sequences in such a pair.\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"- $1 \\leq T \\leq 100$\n- $1 \\leq N \\leq 2 \\cdot 10^{5}$\n- the sum of $N$ over all test cases does not exceed $2 \\cdot 10^{5}$\n- $1 \\leq A_i \\leq N$ for each valid $i$\n","constraintsState":true,"subtasks":"**Subtask #1 (20 points):** \n- $T  \\leq 90$\n- $N \\leq 1000$\n- the sum of $N$ over all test cases does not exceed $5000$\n- the numbers in the sequence $A$ are pairwise distinct\n\n**Subtask #2 (20 points):** \n- $T \\leq 42$\n- $N \\leq 1000$\n- the sum of $N$ over all test cases does not exceed $5000$\n\n**Subtask #3 (60 points):** original constraints\n","subtasksState":true,"statement":"### Read problem statements in [Mandarin](https:\/\/www.codechef.com\/download\/translated\/LTIME100\/mandarin\/SUBLCS.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME100\/bengali\/SUBLCS.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME100\/russian\/SUBLCS.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME100\/vietnamese\/SUBLCS.pdf) as well.\n\nYou are given a sequence $A_1, A_2, \\ldots, A_N$. Consider **every** pair that consists of:\n\n$1)$ One of the **longest** non-decreasing subsequences of $A$.\n\n$2)$ One of the **longest** non-increasing subsequences of $A$. \n\nFind the maximum possible length of the longest common subsequence of the two sequences in such a pair.","inputFormat":"- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\n\n- The first line of each test case contains an integer $N$.\n\n- The second line contains $N$ space-separated integers $A_1, A_2, \\ldots, A_N$.","inputFormatState":true,"outputFormat":"- For each test case, print a single line containing one integer \u2015 the maximum possible length of the longest common subsequence of any longest non-decreasing subsequence of $A$ and any longest non-increasing subsequence of $A$.\n","outputFormatState":true,"sampleTestCases":[{"id":"1","input":"4\n8\n6 5 1 2 7 8 4 3\n6\n1 6 5 2 3 4\n7\n2 5 3 3 1 3 7\n6\n6 1 4 2 4 5","output":"0\n1\n3\n2","explanation":"**Example case 1:** No pair of subsequences, containing one of the longest non-decreasing subsequences and one of longest non-increasing subsequences have a number in common. Hence, the answer is $0$.\n\n**Example case 2:** The maximum length of the longest common subsequence is $1$ and it can be achieved by choosing the longest non-decreasing subsequence $\\{1,2,3,4\\}$ and the longest non-increasing subsequence $\\{6,5,2\\}$. The longest common subsequence of those two subsequences is $\\{2\\}$.\n\n**Example case 3:** The maximum length of the longest common subsequence is $3$ and it can be achieved by choosing the longest non-decreasing subsequence $\\{2,3,3,3,7\\}$ and the longest non-increasing subsequence $\\{5,3,3,3\\}$. The longest common subsequence of those two subsequences is $\\{3,3,3\\}$.\n\n**Example case 4:** The maximum length of the longest common subsequence is $2$ and it can be achieved by choosing the longest non-decreasing subsequence $\\{1,4,4,5\\}$ and the longest non-increasing subsequence $\\{6,4,4\\}$. The longest common subsequence of those two subsequences is $\\{4,4\\}$.","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"losmi247","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span class='m-username--link'>losmi247<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"18-09-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/greedy'>greedy<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/longest-inc-subsequence'>longest-inc-subsequence<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/losmi247'>losmi247<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/ltime100'>ltime100<\/a>","problem_difficulty_level":"Unavailable","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/SUBLCS","time":{"view_start_date":1632585602,"submit_start_date":1632585602,"visible_start_date":1632585602,"end_date":1735669800,"current":1643797889},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=SUBLCS","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"easy","status":"success","problem_code":"SIMGAM","problem_name":"A Simple Game","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/NOV19\/hindi\/SIMGAM.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/NOV19\/bengali\/SIMGAM.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/NOV19\/mandarin\/SIMGAM.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/NOV19\/vietnamese\/SIMGAM.pdf) as well.\r\n\r\nChef is in need of money, so he decided to play a game with Ramsay. In this game, there are $N$ rows of coins (numbered $1$ through $N$). For each valid $i$, the $i$-th row contains $C_i$ coins with values $A_{i, 1}, A_{i, 2}, \\ldots, A_{i, C_i}$.\r\n\r\nChef and Ramsay alternate turns; Chef plays first. In each turns, the current player can choose one row that still contains coins and take one of the coins remaining in this row. Chef may only take the the first (leftmost) remaining coin in the chosen row, while Ramsay may only take the last (rightmost) remaining coin in the chosen row. The game ends when there are no coins left.\r\n\r\nEach player wants to maximise the sum of values of the coins he took. Assuming that both Chef and Ramsay play optimally, what is the maximum amount of money (sum of values of coins) Chef can earn through this game?\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains a single integer $N$.\r\n- $N$ lines follow. For each valid $i$, the $i$-th of these lines contains an integer $C_i$, followed by a space and $C_i$ space-separated integers $A_{i, 1}, A_{i, 2}, \\ldots, A_{i, C_i}$.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the maximum amount of money Chef can earn.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 10$\r\n- $1 \\le N \\le 10^4$\r\n- $1 \\le C_i \\le 10$ for each valid $i$\r\n- $1 \\le A_{i, j} \\le 10^5$ for each valid $i$ and $j$\r\n\r\n### Subtasks\r\n**Subtask #1 (20 points):** $N = 1$\r\n\r\n**Subtask #2 (80 points):** original constraints\r\n\r\n### Example Input\r\n```\r\n1\r\n2\r\n4 5 2 3 4\r\n2 1 6\r\n```\r\n\r\n### Example Output\r\n```\r\n8\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** One optimal sequence of moves is: Chef takes the coin with value $5$, Ramsay takes $4$, Chef takes $2$, Ramsay takes $3$, Chef takes $1$ and Ramsay takes $6$. At the end, Chef has $5+2+1 = 8$ units of money.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/NOV19\/hindi\/SIMGAM.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/NOV19\/bengali\/SIMGAM.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/NOV19\/mandarin\/SIMGAM.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/NOV19\/vietnamese\/SIMGAM.pdf) as well.\r\n\r\nChef is in need of money, so he decided to play a game with Ramsay. In this game, there are $N$ rows of coins (numbered $1$ through $N$). For each valid $i$, the $i$-th row contains $C_i$ coins with values $A_{i, 1}, A_{i, 2}, \\ldots, A_{i, C_i}$.\r\n\r\nChef and Ramsay alternate turns; Chef plays first. In each turns, the current player can choose one row that still contains coins and take one of the coins remaining in this row. Chef may only take the the first (leftmost) remaining coin in the chosen row, while Ramsay may only take the last (rightmost) remaining coin in the chosen row. The game ends when there are no coins left.\r\n\r\nEach player wants to maximise the sum of values of the coins he took. Assuming that both Chef and Ramsay play optimally, what is the maximum amount of money (sum of values of coins) Chef can earn through this game?\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains a single integer $N$.\r\n- $N$ lines follow. For each valid $i$, the $i$-th of these lines contains an integer $C_i$, followed by a space and $C_i$ space-separated integers $A_{i, 1}, A_{i, 2}, \\ldots, A_{i, C_i}$.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the maximum amount of money Chef can earn.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 10$\r\n- $1 \\le N \\le 10^4$\r\n- $1 \\le C_i \\le 10$ for each valid $i$\r\n- $1 \\le A_{i, j} \\le 10^5$ for each valid $i$ and $j$\r\n\r\n### Subtasks\r\n**Subtask #1 (20 points):** $N = 1$\r\n\r\n**Subtask #2 (80 points):** original constraints\r\n\r\n### Example Input\r\n```\r\n1\r\n2\r\n4 5 2 3 4\r\n2 1 6\r\n```\r\n\r\n### Example Output\r\n```\r\n8\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** One optimal sequence of moves is: Chef takes the coin with value $5$, Ramsay takes $4$, Chef takes $2$, Ramsay takes $3$, Chef takes $1$ and Ramsay takes $6$. At the end, Chef has $5+2+1 = 8$ units of money.\r\n","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"anay07","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span class='m-username--link'>anay07<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"6-09-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/anay07'>anay07<\/a>","problem_difficulty_level":"Easy","user_zen_mode":false,"best_tag":"","editorial_url":"","time":{"view_start_date":1541539800,"submit_start_date":1541539800,"visible_start_date":1541539800,"end_date":1735669800,"current":1643797881},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=SIMGAM","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
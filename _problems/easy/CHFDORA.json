{"category_name":"easy","status":"success","problem_code":"CHFDORA","problem_name":"Doraemon","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/JAN20\/hindi\/CHFDORA.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/JAN20\/bengali\/CHFDORA.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/JAN20\/mandarin\/CHFDORA.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/JAN20\/russian\/CHFDORA.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/JAN20\/vietnamese\/CHFDORA.pdf) as well.\r\n\r\nDoraemon has a matrix with $N$ rows (numbered $1$ through $N$) and $M$ columns (numbered $1$ through $M$). Let's denote the element in row $i$ and column $j$ by $A_{i,j}$. Next, let's define a sub-row of a row $r$ as a sequence $A_{r, x}, A_{r, x+1}, \\ldots, A_{r, y}$ for some $x$ and $y$ ($1 \\le x \\le y \\le M$) and a sub-column of a column $c$ by $A_{x, c}, A_{x+1, c}, \\ldots, A_{y, c}$ for some $x$ and $y$ ($1 \\le x \\le y \\le N$).\r\n\r\nYou need to find the number of pairs (sub-row of some row, sub-column of some column) with the following properties:\r\n1. Both sequences (the sub-row and the sub-column) have the same length.\r\n2. This length is odd.\r\n3. The central elements of both sequences are the same (they correspond to the same element of the matrix).\r\n4. Both sequences are palindromes.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $M$. \r\n- $N$ lines follow. For each $i$ ($1 \\le i \\le N$), the $i$-th of these lines contains $M$ space-separated integers $A_{i, 1}, A_{i, 2}, \\ldots, A_{i, M}$.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the number of valid pairs.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 100$\r\n- $1 \\le N, M$\r\n- $N \\cdot M \\le 10^5$\r\n- $1 \\le A_{i, j} \\le 10^6$ for each valid $i, j$\r\n- the sum of $N \\cdot M$ over all test cases does not exceed $3 \\cdot 10^5$\r\n\r\n### Subtasks\r\n**Subtask #1 (30 points):**\r\n- $T \\le 10$\r\n- $N \\cdot M \\le 10^3$  \r\n\r\n**Subtask #2 (70 points):** original constraints\r\n\r\n### Example Input\r\n```\r\n1\r\n3 3\r\n2 1 2\r\n1 1 1\r\n2 1 2\r\n```\r\n\r\n### Example Output\r\n```\r\n10\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** Each element forms a valid pair (where the sub-row and sub-column contain only this element) and the middle row and middle column also form one valid pair.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/JAN20\/hindi\/CHFDORA.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/JAN20\/bengali\/CHFDORA.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/JAN20\/mandarin\/CHFDORA.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/JAN20\/russian\/CHFDORA.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/JAN20\/vietnamese\/CHFDORA.pdf) as well.\r\n\r\nDoraemon has a matrix with $N$ rows (numbered $1$ through $N$) and $M$ columns (numbered $1$ through $M$). Let's denote the element in row $i$ and column $j$ by $A_{i,j}$. Next, let's define a sub-row of a row $r$ as a sequence $A_{r, x}, A_{r, x+1}, \\ldots, A_{r, y}$ for some $x$ and $y$ ($1 \\le x \\le y \\le M$) and a sub-column of a column $c$ by $A_{x, c}, A_{x+1, c}, \\ldots, A_{y, c}$ for some $x$ and $y$ ($1 \\le x \\le y \\le N$).\r\n\r\nYou need to find the number of pairs (sub-row of some row, sub-column of some column) with the following properties:\r\n1. Both sequences (the sub-row and the sub-column) have the same length.\r\n2. This length is odd.\r\n3. The central elements of both sequences are the same (they correspond to the same element of the matrix).\r\n4. Both sequences are palindromes.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $M$. \r\n- $N$ lines follow. For each $i$ ($1 \\le i \\le N$), the $i$-th of these lines contains $M$ space-separated integers $A_{i, 1}, A_{i, 2}, \\ldots, A_{i, M}$.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the number of valid pairs.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 100$\r\n- $1 \\le N, M$\r\n- $N \\cdot M \\le 10^5$\r\n- $1 \\le A_{i, j} \\le 10^6$ for each valid $i, j$\r\n- the sum of $N \\cdot M$ over all test cases does not exceed $3 \\cdot 10^5$\r\n\r\n### Subtasks\r\n**Subtask #1 (30 points):**\r\n- $T \\le 10$\r\n- $N \\cdot M \\le 10^3$  \r\n\r\n**Subtask #2 (70 points):** original constraints","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"1\r\n3 3\r\n2 1 2\r\n1 1 1\r\n2 1 2","output":"10","explanation":"**Example case 1:** Each element forms a valid pair (where the sub-row and sub-column contain only this element) and the middle row and middle column also form one valid pair.","isDeleted":false}]},"video_editorial_url":"https:\/\/youtu.be\/5Jg8YI2n3IU","languages_supported":"CPP14, C, JAVA, PYTH 3.6, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"rishup_nitdgp","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span class='m-username--link'>rishup_nitdgp<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"1-10-2019","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/2-d-array'>2-d-array<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/brute-force'>brute-force<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy'>easy<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/jan20'>jan20<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/observation'>observation<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/rishup_nitdgp'>rishup_nitdgp<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/rishup_nitdgp'>rishup_nitdgp<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/vijju123'>vijju123<\/a>","problem_difficulty_level":"Easy","user_zen_mode":false,"best_tag":"Brute Force","editorial_url":"https:\/\/discuss.codechef.com\/problems\/CHFDORA","time":{"view_start_date":1578907800,"submit_start_date":1578907800,"visible_start_date":1578907800,"end_date":1735669800,"current":1643797784},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=CHFDORA","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
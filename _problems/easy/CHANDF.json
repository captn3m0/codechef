{"category_name":"easy","status":"success","problem_code":"CHANDF","problem_name":"Chef and Bitwise Product","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/MAY20\/hindi\/CHANDF.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/MAY20\/bengali\/CHANDF.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/MAY20\/mandarin\/CHANDF.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/MAY20\/russian\/CHANDF.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/MAY20\/vietnamese\/CHANDF.pdf) as well.\r\n\r\nChef got interested in bits and wanted to learn about them, so his friend Pintu gave him a special function $F(X,Y,Z) = (X \\wedge Z) \\cdot (Y \\wedge Z)$, where $\\wedge$ is the [bitwise AND](https:\/\/en.wikipedia.org\/wiki\/Bitwise_operation#AND) operator and $X, Y, Z$ are non-negative integers.\r\n\r\nPintu wants Chef to maximise the function $F(X,Y,Z)$ for given $X$ and $Y$ by choosing an appropriate $Z$. However, to make it interesting, Pintu also gave Chef limits $L$ and $R$ for $Z$. In other words, he wants Chef to find a non-negative integer $Z$ ($L \\le Z \\le R$) such that $F(X,Y,Z) = \\mathrm{max}_{L \\le k \\le R} \\left( F(X,Y,k) \\right)$. If there is more than one such value of $Z$, he should find the smallest one in the range $[L, R]$.\r\n\r\nSince Chef is busy cooking in the kitchen, he needs you to help him solve this problem.\r\n\r\nNote: $X$, $Y$, $L$ and $R$ are chosen in such a way that $\\mathrm{max}_{L \\le k \\le R} \\left( F(X,Y,k) \\right)$ never exceeds $2^{62}$.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first and only line of each test case contains four space-separated integers $X$, $Y$, $L$ and $R$.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the smallest value of $Z$ in the given range that maximises $F$.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 10^5$\r\n- $0 \\le X,Y \\le 10^{12}$\r\n- $0 \\le L \\le R \\le 10^{12}$\r\n\r\n### Subtasks\r\n**Subtask #1 (15 points)**:\r\n- $L = 0$\r\n- $R \\ge 2 \\cdot \\mathrm{max}(X,Y)$\r\n\r\n**Subtask #2 (25 points)**: $L = 0$\r\n\r\n**Subtask #3 (60 points)**: original constraints\r\n\r\n### Example Input\r\n```\r\n2\r\n7 12 4 17\r\n7 12 0 8\r\n```\r\n\r\n### Example Output\r\n```\r\n15\r\n7\r\n```\r\n\r\n### Explanation\r\n**Example case 1**: Here, $Z = 15$ maximises the function, since $F(7,12,15) = 84$. It is impossible to reach $F \\gt 84$ with any $Z$ in the given range.\r\n\r\n**Example case 2**: The smallest $Z$ which maximises $F$ is $Z = 7$, and the value of $F$ for this $Z$ is $28$.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/MAY20\/hindi\/CHANDF.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/MAY20\/bengali\/CHANDF.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/MAY20\/mandarin\/CHANDF.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/MAY20\/russian\/CHANDF.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/MAY20\/vietnamese\/CHANDF.pdf) as well.\r\n\r\nChef got interested in bits and wanted to learn about them, so his friend Pintu gave him a special function $F(X,Y,Z) = (X \\wedge Z) \\cdot (Y \\wedge Z)$, where $\\wedge$ is the [bitwise AND](https:\/\/en.wikipedia.org\/wiki\/Bitwise_operation#AND) operator and $X, Y, Z$ are non-negative integers.\r\n\r\nPintu wants Chef to maximise the function $F(X,Y,Z)$ for given $X$ and $Y$ by choosing an appropriate $Z$. However, to make it interesting, Pintu also gave Chef limits $L$ and $R$ for $Z$. In other words, he wants Chef to find a non-negative integer $Z$ ($L \\le Z \\le R$) such that $F(X,Y,Z) = \\mathrm{max}_{L \\le k \\le R} \\left( F(X,Y,k) \\right)$. If there is more than one such value of $Z$, he should find the smallest one in the range $[L, R]$.\r\n\r\nSince Chef is busy cooking in the kitchen, he needs you to help him solve this problem.\r\n\r\nNote: $X$, $Y$, $L$ and $R$ are chosen in such a way that $\\mathrm{max}_{L \\le k \\le R} \\left( F(X,Y,k) \\right)$ never exceeds $2^{62}$.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first and only line of each test case contains four space-separated integers $X$, $Y$, $L$ and $R$.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2015 the smallest value of $Z$ in the given range that maximises $F$.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 10^5$\r\n- $0 \\le X,Y \\le 10^{12}$\r\n- $0 \\le L \\le R \\le 10^{12}$\r\n\r\n### Subtasks\r\n**Subtask #1 (15 points)**:\r\n- $L = 0$\r\n- $R \\ge 2 \\cdot \\mathrm{max}(X,Y)$\r\n\r\n**Subtask #2 (25 points)**: $L = 0$\r\n\r\n**Subtask #3 (60 points)**: original constraints","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"2\r\n7 12 4 17\r\n7 12 0 8","output":"15\r\n7","explanation":"**Example case 1**: Here, $Z = 15$ maximises the function, since $F(7,12,15) = 84$. It is impossible to reach $F \\gt 84$ with any $Z$ in the given range.\r\n\r\n**Example case 2**: The smallest $Z$ which maximises $F$ is $Z = 7$, and the value of $F$ for this $Z$ is $28$.","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"harshil21","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span class='m-username--link'>harshil21<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"30-03-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/bitwise-operation'>bitwise-operation<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/brute-force'>brute-force<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/harshil21'>harshil21<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/harshil21'>harshil21<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/may20'>may20<\/a>","problem_difficulty_level":"Easy-Medium","user_zen_mode":false,"best_tag":"Bitwise Operation","editorial_url":"https:\/\/discuss.codechef.com\/problems\/CHANDF","time":{"view_start_date":1589189402,"submit_start_date":1589189402,"visible_start_date":1589189402,"end_date":1735669800,"current":1643797778},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=CHANDF","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
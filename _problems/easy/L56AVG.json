{"category_name":"easy","status":"success","problem_code":"L56AVG","problem_name":"Chef and Average on a Tree","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3>Read problems statements in <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/LTIME56\/mandarin\/L56AVG.pdf\">Mandarin chinese<\/a>, <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/LTIME56\/russian\/L56AVG.pdf\">Russian<\/a> and <a target=\"_blank\" \nhref=\"http:\/\/www.codechef.com\/download\/translated\/LTIME56\/vietnamese\/L56AVG.pdf\">Vietnamese<\/a> as well.<\/h3>\n\n<p>Chef has a tree with <b>N<\/b> nodes. Each node of the tree has an integer weight associated with it.<\/p>\n\n<p>Let's define the <i>cost of a sequence<\/i> of numbers as the arithmetic mean of all elements of the sequence.<\/p>\n\n<p>Next, let's define the <i>cost of a path<\/i> in the tree as the cost of the sequence of weights of all nodes belonging to the path. (It's possible for a path to contain only one node.)<\/p>\n\n<p>A set of paths in the tree is called a <i>correct path decomposition<\/i> if each node of the tree belongs to exactly one of the paths from this set. The <i>cost<\/i> of a correct decomposition is defined as the minimum of costs of all paths in this decomposition.<\/p>\n\n<p>Chef would like to find the maximum cost of a correct decomposition. Can you help him?<\/p>\n\n<h3>Input<\/h3>\n<ul>\n<li>The first line of the input contains a single integer <b>T<\/b> denoting the number of test cases. The description of <b>T<\/b> test cases follows.<\/li>\n<li>The first line of each test case contains a single integer <b>N<\/b>.<\/li>\n<li>The second line contains <b>N<\/b> space-separated integers <b>A<sub>1<\/sub>, A<sub>2<\/sub>, ..., A<sub>N<\/sub><\/b> denoting the weights of nodes of the tree.<\/li>\n<li>Each of the following <b>N-1<\/b> lines contains two space-separated integers <b>x<\/b> and <b>y<\/b> denoting an edge between nodes <b>x<\/b> and <b>y<\/b>.<\/li>\n<\/ul>\n\n<h3>Output<\/h3>\n<p>For each test case, print the maximum possible cost among all correct decompositions. You answer will be considered correct if its absolute error does not exceed 10<sup>-6<\/sup>.<\/p>\n\n<h3>Constraints<\/h3>\n<ul>\n<li>1 \u2264 <b>T<\/b> \u2264 20<\/li>\n<li>1 \u2264 <b>N<\/b> \u2264 100,000<\/li>\n<li>1 \u2264 sum of <b>N<\/b> over all test cases \u2264 200,000<\/li>\n<li>1 \u2264 <b>A<sub>i<\/sub><\/b> \u2264 100,000<\/li>\n<\/ul>\n\n<h3>Subtasks<\/h3>\n\n<p>\n<b>Subtask #1 (15 points, time limit 1 second):<\/b>\n<ul>\n<li>1 \u2264 <b>N<\/b> \u2264 200<\/li>\n<li>1 \u2264 sum of <b>N<\/b> over all testcases \u2264 400 <\/li>\n<li>for each <b>i<\/b> (1 &lt; <b>i<\/b> \u2264 <b>N<\/b>), there is an edge connecting nodes <b>i<\/b> and <b>i-1<\/b><\/li>\n<\/ul>\n<\/p>\n\n<p>\n<b>Subtask #2 (35 points, time limit 1 second):<\/b>\n<ul>\n<li>1 \u2264 <b>N<\/b> \u2264 200<\/li>\n<li>1 \u2264 sum of <b>N<\/b> over all test cases \u2264 400<\/li>\n<\/ul>\n<\/p>\n\n<p>\n<b>Subtask #3 (50 points, time limit 3 seconds):<\/b> original constraints\n<\/p>\n\n<h3>Example<\/h3>\n<pre><b>Input:<\/b>\n\t\n2\n2\n2 3\n1 2\n5\n4 3 5 2 1\n5 3\n1 3\n2 1\n3 4\n\n<b>Output:<\/b>\n\n2.5000000\n2.6666667\n<\/pre>\n\n<h3> Explanation <\/h3>\n\n<img src=\"https:\/\/codechef_shared.s3.amazonaws.com\/download\/upload\/LTIME56\/AVG-sample.png\" alt=\"https:\/\/codechef_shared.s3.amazonaws.com\/download\/upload\/LTIME56\/AVG-sample.png\" height=\"300\"\/>\n\n<p><b>Example case 1:<\/b> It's better to use one path containing both nodes (blue in the picture above) rather than keep each node in a separate one-node path, since the first way gives decomposition cost equal to (<b>A<sub>1<\/sub><\/b> + <b>A<sub>2<\/sub><\/b>) \/ 2 = (2+3) \/ 2 = 2.5, while the second one gives decomposition cost min(<b>A<sub>1<\/sub><\/b> \/ 1, <b>A<sub>2<\/sub><\/b> \/ 1) = min(2 \/ 1, 3 \/ 1) = 2.<\/p>\n\n<p><b>Example case 2:<\/b> It's optimal to decompose the tree into three paths (coloured red, green and yellow in the picture). This way, the red path has cost (<b>A<sub>3<\/sub><\/b> + <b>A<sub>4<\/sub><\/b> + <b>A<sub>5<\/sub><\/b>) \/ 3 = (5 + 2 + 1) \/ 3 = 8 \/ 3 = 2.6666667, the green path has cost <b>A<sub>1<\/sub><\/b> = 4 and the yellow path has cost <b>A<sub>2<\/sub><\/b> = 3. Thus, the cost of this decomposition is 2.6666667.<\/p>\n\n<p>It's possible to merge the green and yellow paths into one path with cost 3.5 without changing the decomposition cost. Any other decomposition has smaller cost.<\/p>\n\n<h3>Note<\/h3>: <p>The multiplier for Python has been decreased from 5 to 3.<\/p>","languages_supported":"C, CPP14, JAVA, PYTH, PYTH 3.5, PYPY, CS2, PAS fpc, PAS gpc, RUBY, PHP, GO, NODEJS, HASK, rust, SCALA, swift, D, PERL, FORT, WSPC, ADA, CAML, ICK, BF, ASM, CLPS, PRLG, ICON, SCM qobi, PIKE, ST, NICE, LUA, BASH, NEM, LISP sbcl, LISP clisp, SCM guile, JS, ERL, TCL, kotlin, PERL6, TEXT, SCM chicken, CLOJ, COB, FS","max_timelimit":"1 - 3","source_sizelimit":"50000","problem_author":"kefaa","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>kefaa<\/span>","problem_tester":"mgch","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>mgch<\/span>","date_added":"18-01-2018","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/binary-search'>binary-search<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/kefaa'>kefaa<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/ltime56'>ltime56<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/taran_1407'>taran_1407<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/tree-dp'>tree-dp<\/a>","editorial_url":"https:\/\/discuss.codechef.com\/problems\/L56AVG","time":{"view_start_date":1517073000,"submit_start_date":1517073000,"visible_start_date":1517073000,"end_date":1735669800,"current":1525198937},"user":{"username":""},"todo":false,"problem_status":"unattempted","is_direct_submittable":false}
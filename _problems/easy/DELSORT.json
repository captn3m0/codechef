{"category_name":"easy","status":"success","problem_code":"DELSORT","problem_name":"Deletion Sort","body":"### Read problems statements in [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK128\/mandarin\/DELSORT.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK128\/russian\/DELSORT.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK128\/bengali\/DELSORT.pdf) as well.\r\n\r\nYou are given an array $A$ of length $N$. \r\n\r\nLet $F(L,R)$ be the array you get from $A$ after removing all occurrences of $A_L, A_{L+1}, \\dots , A_R$. In other words, for each value in $A$ between the indices $L$ and $R$, you delete every occurrence of that value, including occurrences outside the range $[L, R]$.\r\n\r\nA pair $(L,R)$ is called good if $1\\le L\\le R\\le N$ and $F(L, R)$ is sorted in non-decreasing order. In the case that $F(L, R)$ is the empty array, we say it is sorted.\r\n\r\nCount the number of good pairs.\r\n\r\n**Example:** Suppose $A=[1,2,3,5,7,6,8,6,5,8]$. Then $F(4,6)$ is the array we get after deleting all occurrences of the numbers $5,7,6$. Thus, $F(4,6)=[1,2,3,8,8]$. This array is sorted in non-decreasing order, so the pair $(4, 6)$ is good.\r\n\r\n###Input:\r\n- The first line of the input contains an integer $T$, denoting the number of test cases.\r\n- The first line of each test case contains an integer $N$, denoting the size of the array.\r\n- The second line of each test case contains $N$ space-separated integers, denoting the array $A$.\r\n\r\n\r\n###Output:\r\nFor each test case, output the number of good subarrays in $A$, in a separate line.\r\n\r\n###Constraints \r\n\r\n- $1 \\le T \\le 10^4$\r\n- $1 \\le N \\le 2 \\times 10^5$\r\n- $1 \\le A_i \\le 10^9$\r\n- Sum of $N$ over all test cases doesn't exceed $2 \\times 10^5$.\r\n\r\n###Sample Input:\r\n```\r\n3\r\n3\r\n9 8 7\r\n5\r\n5 3 1 5 2\r\n7\r\n1 5 2 5 3 5 6\r\n\r\n```\r\n\r\n###Sample Output:\r\n```\r\n3\r\n7\r\n24\r\n```\r\n###EXPLANATION:\r\n\r\n- In the **first test case** , the good subarrays are: $(1,2), (1,3), (2,3)$.\r\n\r\n    - $(1,2)$ is a good subarray because the remaining array $[7]$ is sorted (we removed $9,8$).  \r\n  \r\n    - $(1,3)$ is a good subarray because the remaining array $[]$ is sorted (we removed $9,8,7$)\r\n \r\n    - $(2,3)$ is a good subarray because the remaining array $[9]$ is sorted  (we removed $8,7$).\r\n\r\n- In the **second test case**, the good subarrays are $(1,2), (1,3), (1,4), (1,5), (2,4), (2,5), (3,5)$.\r\n\r\n- In the **third test case**, there are 24 possible good subarrays.\r\n    - Note that $(2,2)$ is a good subarray because the remaining array $[1 , 2 , 3  , 6]$ is sorted (we removed $5 , 5$). \r\n\r\n \r\n\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problems statements in [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/COOK128\/mandarin\/DELSORT.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/COOK128\/russian\/DELSORT.pdf), and [Bengali](https:\/\/www.codechef.com\/download\/translated\/COOK128\/bengali\/DELSORT.pdf) as well.\r\n\r\nYou are given an array $A$ of length $N$. \r\n\r\nLet $F(L,R)$ be the array you get from $A$ after removing all occurrences of $A_L, A_{L+1}, \\dots , A_R$. In other words, for each value in $A$ between the indices $L$ and $R$, you delete every occurrence of that value, including occurrences outside the range $[L, R]$.\r\n\r\nA pair $(L,R)$ is called good if $1\\le L\\le R\\le N$ and $F(L, R)$ is sorted in non-decreasing order. In the case that $F(L, R)$ is the empty array, we say it is sorted.\r\n\r\nCount the number of good pairs.\r\n\r\n**Example:** Suppose $A=[1,2,3,5,7,6,8,6,5,8]$. Then $F(4,6)$ is the array we get after deleting all occurrences of the numbers $5,7,6$. Thus, $F(4,6)=[1,2,3,8,8]$. This array is sorted in non-decreasing order, so the pair $(4, 6)$ is good.\r\n\r\n###Input:\r\n- The first line of the input contains an integer $T$, denoting the number of test cases.\r\n- The first line of each test case contains an integer $N$, denoting the size of the array.\r\n- The second line of each test case contains $N$ space-separated integers, denoting the array $A$.\r\n\r\n\r\n###Output:\r\nFor each test case, output the number of good subarrays in $A$, in a separate line.\r\n\r\n###Constraints \r\n\r\n- $1 \\le T \\le 10^4$\r\n- $1 \\le N \\le 2 \\times 10^5$\r\n- $1 \\le A_i \\le 10^9$\r\n- Sum of $N$ over all test cases doesn't exceed $2 \\times 10^5$.","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"3\r\n3\r\n9 8 7\r\n5\r\n5 3 1 5 2\r\n7\r\n1 5 2 5 3 5 6","output":"3\r\n7\r\n24","explanation":"- In the **first test case** , the good subarrays are: $(1,2), (1,3), (2,3)$.\r\n\r\n    - $(1,2)$ is a good subarray because the remaining array $[7]$ is sorted (we removed $9,8$).  \r\n  \r\n    - $(1,3)$ is a good subarray because the remaining array $[]$ is sorted (we removed $9,8,7$)\r\n \r\n    - $(2,3)$ is a good subarray because the remaining array $[9]$ is sorted  (we removed $8,7$).\r\n\r\n- In the **second test case**, the good subarrays are $(1,2), (1,3), (1,4), (1,5), (2,4), (2,5), (3,5)$.\r\n\r\n- In the **third test case**, there are 24 possible good subarrays.\r\n    - Note that $(2,2)$ is a good subarray because the remaining array $[1 , 2 , 3  , 6]$ is sorted (we removed $5 , 5$).","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"2","source_sizelimit":"50000","problem_author":"akash_adm","problem_author_html_handle":"akash_adm","problem_tester":"","problem_tester_html_handle":"","date_added":"14-04-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/akash_adm'>akash_adm<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/binary-search'>binary-search<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cook128'>cook128<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/two-pointers'>two-pointers<\/a>","problem_difficulty_level":"Easy-Medium","user_zen_mode":false,"best_tag":"Binary Search","editorial_url":"https:\/\/discuss.codechef.com\/problems\/DELSORT","time":{"view_start_date":1618772404,"submit_start_date":1618772404,"visible_start_date":1618772404,"end_date":1735669800,"current":1643797799},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=DELSORT","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"easy","status":"success","problem_code":"DIAMOND","problem_name":"Need More Diamonds","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><p style=\"text-align:justify\">\n<b>Alice<\/b> and <b>Bob<\/b> have decided to play the following game. Initially there are <b>N<\/b> diamonds placed in a straight line. Diamonds numbered from 1 to <b>N<\/b> in consecutive order. Each diamond has a specific value. The value of <b>i-<\/b>th diamond is <b>V<sub>i<\/sub><\/b> for <b>i<\/b> from 1 to <b>N<\/b>. Players make moves alternatively. In each move player proceeds as follows. If there is only one diamond left the player takes it otherwise he\/she tosses the unbiased coin and if it lands on heads he\/she takes the <b>first<\/b> diamond among the diamonds that are currently present in a line, otherwise he\/she takes the<br \/>\n<b>last<\/b> diamond. What is the expected total value <b>Alice<\/b> will get, if she plays <b>first<\/b>? Note that the unbiased coin lands on heads with probability 0.5 (and hence lands on tail with the same probability). Also note that the total value is the sum of values of all diamonds that Alice will get.\n<\/p>\n<h3>Input<\/h3>\n<p style=\"text-align:justify\">\nThe first line of the input contains an integer <b>T<\/b>, the number of test cases. <b>T<\/b> test cases follow. Each test case consists of exactly 2 lines. The first line of each test case contains a single integer<br \/>\n<b>N<\/b>, the number of diamonds. The second line contains <b>N<\/b> space separated integers<br \/>\n<b>V<sub>1<\/sub><\/b>, <b>V<sub>2<\/sub><\/b>, ..., <b>V<sub>N<\/sub><\/b>, the values of diamonds in the order they lie in a line.\n<\/p>\n<h3>Output<\/h3>\n<p style=\"text-align:justify\">\nOutput for each test case should contain a single real number in a separate line, the expected total value Alice will get for this particular test. Your answer will be considered as correct if it has an absolute error less than <b>10<sup>-2<\/sup><\/b>.\n<\/p>\n<h3>Constraints<\/h3>\n<p style=\"text-align:justify\">\n1 \u2264 <b>T<\/b> \u2264 500 <br \/>\n1 \u2264 <b>N<\/b> \u2264 2000 <br \/>\n0 \u2264 <b>V<sub>i<\/sub><\/b> \u2264 999\n<\/p>\n<h3>Example<\/h3>\n<pre>\n<b>Input<\/b>\n4\n1\n100\n2\n42 0\n3\n1 4 9\n4\n5 5 5 5\n\n<b>Output<\/b>\n100.000\n21.000\n9.500\n10.000\n<\/pre><h3>Explanation<\/h3>\n<p style=\"text-align:justify\">\n<b>Case 1:<\/b> In the first move Alice has to take <b>100<\/b>, and this is the only move. Hence, the expected value Alice will get is <b>100<\/b>.\n<\/p>\n<p style=\"text-align:justify\">\n<b>Case 2: <\/b> It is quite clear that Alice will make only 1 move. As she can get <b>42<\/b> or <b>0<\/b> with<br \/>\nequal probability, the expected value she will get is equal to <b>0.5 \u2219 42 + 0.5 \u2219 0 = 21<\/b>.\n<\/p>\n<p style=\"text-align:justify\">\n<b>Case 3: <\/b> Let's consider all possible scenarios how game can proceed:\n<\/p>\n<table border=1>\n<tbody>\n<tr>\n<td>1st move<\/td>\n<td>2nd move<\/td>\n<td>3rd move<\/td>\n<td>Alice total value<\/td>\n<\/tr>\n<tr>\n<td>Alice gets 1<\/td>\n<td>Bob gets 4<\/td>\n<td>Alice gets 9<\/td>\n<td>10<\/td>\n<\/tr>\n<tr>\n<td>Alice gets 1<\/td>\n<td>Bob gets 9<\/td>\n<td>Alice gets 4<\/td>\n<td>5<\/td>\n<\/tr>\n<tr>\n<td>Alice gets 9<\/td>\n<td>Bob gets 1<\/td>\n<td>Alice gets 4<\/td>\n<td>13<\/td>\n<\/tr>\n<tr>\n<td>Alice gets 9<\/td>\n<td>Bob gets 4<\/td>\n<td>Alice gets 1<\/td>\n<td>10<\/td>\n<\/tr>\n<\/tbody>\n<\/table>\n<p style=\"text-align:justify\">\nClearly each of these scenarios will happen with probability <b>0.5 \u2219 0.5 = 0.25<\/b>. Hence the expected value Alice will get is equal to <b>0.25 \u2219 10 + 0.25 \u2219 5 + 0.25 \u2219 13 + 0.25 \u2219 10 = 9.5<\/b>.\n<\/p>\n<p style=\"text-align:justify\">\n<b>Case 4:<\/b> Out of the 4 diamonds, Alice will get some 2 of them. As all of the diamonds have the same value <b>5<\/b>, the expected value she will get is equal to <b>5 + 5 = 10<\/b>.\n<\/p>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"4","source_sizelimit":"50000","problem_author":"kaushik_iska","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #1E7D22;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>2&#9733;<\/span><span>kaushik_iska<\/span>","problem_tester":"anton_lunyov","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>anton_lunyov<\/span>","date_added":"17-09-2012","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/dynamic-programming'>\n                    dynamic-programming\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/easy'>\n                    easy\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/kaushik_iska'>\n                    kaushik_iska\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/oct12'>\n                    oct12\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/DIAMOND","user":{"username":null},"time":{"view_start_date":1350293400,"submit_start_date":1350293400,"visible_start_date":1350293400,"end_date":1735669800,"current":1493558137},"todo":false,"problem_status":"unattempted"}
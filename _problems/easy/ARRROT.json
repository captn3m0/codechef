{"category_name":"easy","status":"success","problem_code":"ARRROT","problem_name":"Array Rotation","body":"Given an array $A$ of length $N$, we can define rotation as follows. If we rotate $A$ to the right, all elements move to the right one unit, and the last element moves to the beginning. That is, it becomes $[A_N, A_1,A_2,\\ldots,A_{N-1}]$. Similarly if we rotate $A$ to the left, it becomes $[A_2,A_3,\\ldots,A_N, A_1]$.\r\n\r\nGiven an array $A$ and an integer $x$, define $f(A,x)$ to be the array $A$ rotated by the amount $x$. If $x\\ge 0$, this means we rotate it right $x$ times. If $x<0$, this means we rotate it left $|x|$ times.\r\n\r\nYou are given an array $A$ of length $N$. Then $Q$ queries follow. In each query, an integer $x$ is given. To answer the query, you should replace $A$ with $A+f(A,x)$ where $+$ denotes concatenation. After this operation, you must output the sum of all elements of $A$. Since this number can be large, output it modulo $10^9 + 7$.\r\n\r\nNote that the queries are cumulative. When you modify $A$ to answer one query, it starts that way for the next query.\r\n\r\n###Input\r\n\r\n- The first line contains an integer $N$ - the size of the initial array. \r\n- The second line contains $N$ integers $A_1,\\ldots, A_N$ - the elements of the initial array.\r\n- The third line contains an integer $Q$ - the number of queries.\r\n- The fourth line contains $Q$ space-separated integers $x_1,\\ldots, x_Q$, where $x_i$ is the parameter of the $i$-th query.\r\n\r\n###Output\r\nAfter each query, output in a single line the the sum of all elements of the current array modulo $10^9+7$.\r\n\r\n###Constraints \r\n- $ 1\\leq N\\leq 10^5$\r\n- $ 1\\leq Q\\leq 10^5$\r\n- $ -10^9\\leq A_i\\leq 10^9$ \r\n- $ -10^5 \\leq x_i\\leq 10^5$ \r\n\r\n###Subtasks\r\n\r\n**Subtask #1 (100 points):** original constraints\r\n\r\n###Sample Input\r\n    2\r\n    1 2\r\n    2\r\n    1 1\r\n\r\n\r\n###Sample Output\r\n    6\r\n    12\r\n\r\n###Explanation\r\nInitially, the array is $[1,2]$.\r\nAfter the first query, the array becomes $[1, 2] + f([1, 2], 1) = [1, 2] + [2, 1] = [1, 2, 2, 1]$. The total sum is $6$.\r\nAfter the second query, the array becomes $[1, 2, 2, 1] + f([1, 2, 2, 1], 1) = [1, 2, 2, 1] + [1, 1, 2, 2] = [1, 2, 2, 1, 1, 1, 2, 2]$. The total sum is $12$.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"Given an array $A$ of length $N$, we can define rotation as follows. If we rotate $A$ to the right, all elements move to the right one unit, and the last element moves to the beginning. That is, it becomes $[A_N, A_1,A_2,\\ldots,A_{N-1}]$. Similarly if we rotate $A$ to the left, it becomes $[A_2,A_3,\\ldots,A_N, A_1]$.\r\n\r\nGiven an array $A$ and an integer $x$, define $f(A,x)$ to be the array $A$ rotated by the amount $x$. If $x\\ge 0$, this means we rotate it right $x$ times. If $x<0$, this means we rotate it left $|x|$ times.\r\n\r\nYou are given an array $A$ of length $N$. Then $Q$ queries follow. In each query, an integer $x$ is given. To answer the query, you should replace $A$ with $A+f(A,x)$ where $+$ denotes concatenation. After this operation, you must output the sum of all elements of $A$. Since this number can be large, output it modulo $10^9 + 7$.\r\n\r\nNote that the queries are cumulative. When you modify $A$ to answer one query, it starts that way for the next query.\r\n\r\n###Input\r\n\r\n- The first line contains an integer $N$ - the size of the initial array. \r\n- The second line contains $N$ integers $A_1,\\ldots, A_N$ - the elements of the initial array.\r\n- The third line contains an integer $Q$ - the number of queries.\r\n- The fourth line contains $Q$ space-separated integers $x_1,\\ldots, x_Q$, where $x_i$ is the parameter of the $i$-th query.\r\n\r\n###Output\r\nAfter each query, output in a single line the the sum of all elements of the current array modulo $10^9+7$.\r\n\r\n###Constraints \r\n- $ 1\\leq N\\leq 10^5$\r\n- $ 1\\leq Q\\leq 10^5$\r\n- $ -10^9\\leq A_i\\leq 10^9$ \r\n- $ -10^5 \\leq x_i\\leq 10^5$ \r\n\r\n###Subtasks\r\n\r\n**Subtask #1 (100 points):** original constraints","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"2\r\n    1 2\r\n    2\r\n    1 1","output":"6\r\n    12","explanation":"Initially, the array is $[1,2]$.\r\nAfter the first query, the array becomes $[1, 2] + f([1, 2], 1) = [1, 2] + [2, 1] = [1, 2, 2, 1]$. The total sum is $6$.\r\nAfter the second query, the array becomes $[1, 2, 2, 1] + f([1, 2, 2, 1], 1) = [1, 2, 2, 1] + [1, 1, 2, 2] = [1, 2, 2, 1, 1, 1, 2, 2]$. The total sum is $12$.","isDeleted":false}]},"video_editorial_url":"https:\/\/youtu.be\/Z-PjH17p9ew","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"0.5","source_sizelimit":"50000","problem_author":"zankanotachi","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FFBF00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>5&#9733;<\/span><span class='m-username--link'>zankanotachi<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"19-04-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/ltime95'>ltime95<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/simple'>simple<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/zankanotachi'>zankanotachi<\/a>","problem_difficulty_level":"Simple","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/ARRROT","time":{"view_start_date":1619802000,"submit_start_date":1619802000,"visible_start_date":1619802000,"end_date":1735669800,"current":1643797766},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=ARRROT","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
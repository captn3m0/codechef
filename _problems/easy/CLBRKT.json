{"category_name":"easy","status":"success","problem_code":"CLBRKT","problem_name":"Doof fires Brackets","body":"You may have tried your level best to help Chef but Dr Doof has managed to come up with his masterplan in the meantime. Sadly, you have to help Chef once again. Dr Doof has designed a parenthesis-inator. It throws a stream of $N$ brackets at the target, $1$ bracket per second. The brackets can either be opening or closing. Chef appears in front of the stream at time $t$. If Chef faces an opening bracket, he gets hit. However, if he faces a closing bracket, he may choose to let it pass through him (Chef is immune to closing brackets). Chef gets a chance to counter attack Doof as soon as he finds a balanced non-empty bracket sequence. Help Chef by providing him the minimum time $x$ at which he will be able to launch his counter attack. If Chef is unable to counter attack, answer $-1$.\r\n\r\nFormally, you are given a string $S$ of length $N$ consisting only of opening brackets $($ and closing brackets $)$. The substring of $S$ starting at index $L$ and ending at index $R$, i.e. $S_L S_{L+1} \\ldots S_{R}$ is denoted by $S[L, R]$ . Consider $Q$ cases. In the $i^{\\text{th}}$ case, Chef appears at time $t_i$ $(1 \\leq t_i \\leq N)$ and faces all characters from index $t_i$ to $N$. Find the minimum index $x$ $(t_i \\leq x \\leq N)$ such that the substring $S[t_i, x]$ contains a **non-empty balanced** bracket subsequence containing the same number of opening brackets as $S[t_i, x]$ (i.e., you cannot remove any opening bracket from the substring). If such an $x$ does not exist, print $-1$.\r\n\r\nA string $X$ is called a subsequence of a string $Y$ if it is possible to obtain $X$ by erasing some (possibly zero) characters from $Y$ without changing the order of the remaining characters.\r\n\r\nA balanced bracket sequence is defined as:  \r\n- an empty string is a balanced bracket sequence.\r\n- if $s$ is a balanced bracket sequence, then so is $(s)$.\r\n- if $s$ and $t$ are balanced bracket sequences, then so is $st$.\r\n\r\n$Note :-$ The input files are large. The use of Fast I\/O is recommended.\r\n\r\n###Input\r\n\r\n- The first line contains a single integer $T$ denoting the number of testcases.\r\n- The first line of each test case contains the string $S$.\r\n- The next line contains a single integer $Q$ denoting the number of cases to consider.\r\n- The next line contains $Q$ space separated integers, each denoting $t_i$.\r\n\r\n###Output\r\n\r\nFor each query, print the minimum value of $x$ in a separate line. If no such $x$ exists, print $-1$.\r\n\r\n\r\n###Constraints \r\n\r\n- $1 \\leq T \\leq 10^3$\r\n- $1 \\leq |S| \\leq 10^7$\r\n- $1 \\leq Q \\leq 10^6$\r\n- $1 \\leq t_i \\leq N$\r\n- Every character of $S$ is either $($ or $)$.\r\n- Sum of $|S|$ and $Q$ over all testcases for a particular test file does not exceed $10^7$ and $10^6$ respectively.\r\n\r\n###Sample Input\r\n\t1\r\n\t)())((()\r\n\t3\r\n\t1 7 6\r\n\r\n###Sample Output\r\n\t3\r\n\t8\r\n\t-1\r\n\t\r\n###Explanation\r\n\r\nFor the first query, Chef chooses to let $S_1$ pass through him, gets hit by $S_2$ and finally completes a balanced bracket sequence by adding $S_3$ to $S_2$ at time $x$ = $3$.\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"You may have tried your level best to help Chef but Dr Doof has managed to come up with his masterplan in the meantime. Sadly, you have to help Chef once again. Dr Doof has designed a parenthesis-inator. It throws a stream of $N$ brackets at the target, $1$ bracket per second. The brackets can either be opening or closing. Chef appears in front of the stream at time $t$. If Chef faces an opening bracket, he gets hit. However, if he faces a closing bracket, he may choose to let it pass through him (Chef is immune to closing brackets). Chef gets a chance to counter attack Doof as soon as he finds a balanced non-empty bracket sequence. Help Chef by providing him the minimum time $x$ at which he will be able to launch his counter attack. If Chef is unable to counter attack, answer $-1$.\r\n\r\nFormally, you are given a string $S$ of length $N$ consisting only of opening brackets $($ and closing brackets $)$. The substring of $S$ starting at index $L$ and ending at index $R$, i.e. $S_L S_{L+1} \\ldots S_{R}$ is denoted by $S[L, R]$ . Consider $Q$ cases. In the $i^{\\text{th}}$ case, Chef appears at time $t_i$ $(1 \\leq t_i \\leq N)$ and faces all characters from index $t_i$ to $N$. Find the minimum index $x$ $(t_i \\leq x \\leq N)$ such that the substring $S[t_i, x]$ contains a **non-empty balanced** bracket subsequence containing the same number of opening brackets as $S[t_i, x]$ (i.e., you cannot remove any opening bracket from the substring). If such an $x$ does not exist, print $-1$.\r\n\r\nA string $X$ is called a subsequence of a string $Y$ if it is possible to obtain $X$ by erasing some (possibly zero) characters from $Y$ without changing the order of the remaining characters.\r\n\r\nA balanced bracket sequence is defined as:  \r\n- an empty string is a balanced bracket sequence.\r\n- if $s$ is a balanced bracket sequence, then so is $(s)$.\r\n- if $s$ and $t$ are balanced bracket sequences, then so is $st$.\r\n\r\n$Note :-$ The input files are large. The use of Fast I\/O is recommended.\r\n\r\n###Input\r\n\r\n- The first line contains a single integer $T$ denoting the number of testcases.\r\n- The first line of each test case contains the string $S$.\r\n- The next line contains a single integer $Q$ denoting the number of cases to consider.\r\n- The next line contains $Q$ space separated integers, each denoting $t_i$.\r\n\r\n###Output\r\n\r\nFor each query, print the minimum value of $x$ in a separate line. If no such $x$ exists, print $-1$.\r\n\r\n\r\n###Constraints \r\n\r\n- $1 \\leq T \\leq 10^3$\r\n- $1 \\leq |S| \\leq 10^7$\r\n- $1 \\leq Q \\leq 10^6$\r\n- $1 \\leq t_i \\leq N$\r\n- Every character of $S$ is either $($ or $)$.\r\n- Sum of $|S|$ and $Q$ over all testcases for a particular test file does not exceed $10^7$ and $10^6$ respectively.\r\n\r\n###Sample Input\r\n\t1\r\n\t)())((()\r\n\t3\r\n\t1 7 6\r\n\r\n###Sample Output\r\n\t3\r\n\t8\r\n\t-1\r\n\t\r\n###Explanation\r\n\r\nFor the first query, Chef chooses to let $S_1$ pass through him, gets hit by $S_2$ and finally completes a balanced bracket sequence by adding $S_3$ to $S_2$ at time $x$ = $3$.","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"1.5","source_sizelimit":"50000","problem_author":"sarthakmanna","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>sarthakmanna<\/span>","problem_tester":"","problem_tester_html_handle":"","date_added":"19-06-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/avijit_agarwal'>avijit_agarwal<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/cole2020'>cole2020<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy'>easy<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/sarthakmanna'>sarthakmanna<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/stack'>stack<\/a>","problem_difficulty_level":"Easy","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/CLBRKT","time":{"view_start_date":1594838700,"submit_start_date":1594838700,"visible_start_date":1594838700,"end_date":1735669800,"current":1643797789},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=CLBRKT","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"easy","status":"success","problem_code":"DEQUEUE","problem_name":"Minimum Popping","body":"### Read problem statements in [Bengali](https:\/\/www.codechef.com\/download\/translated\/START4\/bengali\/DEQUEUE.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/START4\/mandarin\/DEQUEUE.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/START4\/russian\/DEQUEUE.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/START4\/vietnamese\/DEQUEUE.pdf) as well.\r\n\r\nYou are given a double-ended queue $Q$. Initially, it contains elements $Q_1, Q_2, \\ldots, Q_M$ in this order. Each of these elements is an integer between $1$ and $N$ (inclusive) and each integer between $1$ and $N$ (inclusive) occurs in the queue at least once.\r\n\r\nWe want to pop some (possibly zero) elements from the front of the queue and some (not necessarily the same number, possibly zero) elements from the back. Among all the popped elements, each integer between $1$ and $N$ (inclusive) should appear at least once. Find the smallest possible total number of elements we need to pop.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $M$.\r\n- The second line contains $M$ space-separated integers $Q_1, Q_2, \\ldots, Q_M$.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2014 the minimum number of elements we need to pop.\r\n\r\n### Constraints\r\n- $1 \\leq T \\leq 10$\r\n- $1 \\leq N \\leq 10^5$\r\n- $N \\leq M \\leq 2 \\cdot 10^5$\r\n- for each $i$ ($1 \\le i \\le N$), there is at least one element equal to $i$ in the queue\r\n- the sum of $N$ over all test cases does not exceed $10^5$\r\n- the sum of $M$ over all test cases does not exceed $2 \\cdot 10^5$\r\n\r\n### Example Input\r\n```\r\n3\r\n2 2\r\n1 2\r\n2 3\r\n1 2 1\r\n3 6\r\n1 1 1 3 2 2\r\n```\r\n\r\n### Example Output\r\n```\r\n2\r\n2\r\n4\r\n```\r\n\r\n### Explanation\r\n**Example case 1:** Since $N = M$ and all elements are pairwise distinct, we have to pop everything to get each value at least once.\r\n\r\n**Example case 2:** We can pop the first $2$ or the last $2$ elements.\r\n\r\n**Example case 3:** We can pop the first element and the last $3$ elements, so the answer is $1 + 3 = 4$.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Bengali](https:\/\/www.codechef.com\/download\/translated\/START4\/bengali\/DEQUEUE.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/START4\/mandarin\/DEQUEUE.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/START4\/russian\/DEQUEUE.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/START4\/vietnamese\/DEQUEUE.pdf) as well.\r\n\r\nYou are given a double-ended queue $Q$. Initially, it contains elements $Q_1, Q_2, \\ldots, Q_M$ in this order. Each of these elements is an integer between $1$ and $N$ (inclusive) and each integer between $1$ and $N$ (inclusive) occurs in the queue at least once.\r\n\r\nWe want to pop some (possibly zero) elements from the front of the queue and some (not necessarily the same number, possibly zero) elements from the back. Among all the popped elements, each integer between $1$ and $N$ (inclusive) should appear at least once. Find the smallest possible total number of elements we need to pop.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $M$.\r\n- The second line contains $M$ space-separated integers $Q_1, Q_2, \\ldots, Q_M$.\r\n\r\n### Output\r\nFor each test case, print a single line containing one integer \u2014 the minimum number of elements we need to pop.\r\n\r\n### Constraints\r\n- $1 \\leq T \\leq 10$\r\n- $1 \\leq N \\leq 10^5$\r\n- $N \\leq M \\leq 2 \\cdot 10^5$\r\n- for each $i$ ($1 \\le i \\le N$), there is at least one element equal to $i$ in the queue\r\n- the sum of $N$ over all test cases does not exceed $10^5$\r\n- the sum of $M$ over all test cases does not exceed $2 \\cdot 10^5$","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"3\r\n2 2\r\n1 2\r\n2 3\r\n1 2 1\r\n3 6\r\n1 1 1 3 2 2","output":"2\r\n2\r\n4","explanation":"**Example case 1:** Since $N = M$ and all elements are pairwise distinct, we have to pop everything to get each value at least once.\r\n\r\n**Example case 2:** We can pop the first $2$ or the last $2$ elements.\r\n\r\n**Example case 3:** We can pop the first element and the last $3$ elements, so the answer is $1 + 3 = 4$.","isDeleted":false}]},"video_editorial_url":"https:\/\/youtu.be\/T5jzmqEEXmU","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"0.5","source_sizelimit":"50000","problem_author":"daanish_adm","problem_author_html_handle":"daanish_adm","problem_tester":"","problem_tester_html_handle":"","date_added":"30-03-2021","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/daanish_adm'>daanish_adm<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/easy'>easy<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/optimization'>optimization<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/start4'>start4<\/a>","problem_difficulty_level":"Easy","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/DEQUEUE","time":{"view_start_date":1622381400,"submit_start_date":1622381400,"visible_start_date":1622381400,"end_date":1735669800,"current":1643797801},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=DEQUEUE","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
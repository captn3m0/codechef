{"category_name":"easy","status":"success","problem_code":"UWCOI20D","problem_name":"Base Plans","body":"After fixing the mercury leak, Kim has arrived in the planning room, where he finds a square map of a field, with $N$ rows and $N$ columns. Each cell in the field is either empty, or has a lookout tower on it. Using his notes, he immediately realises that this field is where the JSA will build their new base!\r\n\r\nKim knows that Soum is a fan of symmetric base design, and will only approve of a base to be built if it is square. Furthermore, Soum also requires that all the rows in the base, and all the columns in the base have exactly one tower square in them. \r\n\r\nThis means that a base plan is valid if and only if:\r\n\r\n* It is square in shape\r\n* Every row in the base has exactly one lookout tower in it.\r\n* Every column in the base has exactly one lookout tower in it.\r\n\r\nKim notices that all the rows and all the columns in the field have exactly one tower square in them, but he knows that some of them could have been built to throw him off! Can you help Kim find how many valid base plans are possible in this field? Two base plans are considered different if one contains a cell in the grid that the other does not.\r\n\r\n\r\nPlease refer to the samples for more details.\r\n\r\n###Input:\r\n\r\n- The first line of input contains $T$, the number of testcases.\r\n- The first line of each testcase contains a single integer, $N$, representing the side length of the field.\r\n- The next $N$ lines of each testcase contain a string of length $N$, consisting of only 0 and 1. If position $j$ in string $i$ is 0, it means that this the field has no tower at $[i][j]$, and if it is 1, then this cell does have a tower at $[i][j]$.\r\n\r\nIt is guaranteed that every row in the input will have exactly one tower, and every column in the input will also have exactly one tower.\r\n\r\n###Output:\r\nFor each testcase, output a single integer $K$, representing the number of different base plans possible.\r\n\r\n\r\n###Subtasks\r\n\r\n- For all subtasks, $N \\leq 2500$ and $T \\leq 10$. \r\n- In addition, the sum of $N$ in any testfile is at most $2500$.\r\n\r\nSubtask 1 [28 points] : All the towers will be on the diagonal from the top-left to the bottom-right positions. Formally, all positions where $i = j$ have a tower. And no other position has a tower\r\n\r\nSubtask 2 [39 points] : $N \\leq 600$\r\n\r\nSubtask 3 [33 points] : $N \\leq 2500$\r\n\r\n###Sample Input:\r\n\t2\r\n\t2\r\n\t10\r\n\t01\r\n\t4\r\n\t1000\r\n\t0010\r\n\t0100\r\n\t0001\r\n\r\n###Sample Output:\r\n\t3\r\n\t8\r\n\t\r\n###Explanation:\r\n\r\n![fig1](https:\/\/s3.amazonaws.com\/codechef_shared\/uploads\/2020\/BS2.png =100x100)\r\n\r\nIn the first testcase, there are three valid base plans: The entire 2x2 square, the 1x1 square which contains only the cell (1, 1) and the 1x1 square which contains only the cell (2, 2).\r\n\r\n![fig1](https:\/\/s3.amazonaws.com\/codechef_shared\/uploads\/2020\/BS1.png =300x100)\r\n\r\nIn the second testcase, \r\n\r\n![fig1](https:\/\/s3.amazonaws.com\/codechef_shared\/uploads\/2020\/BS4.png =150x150)\r\n\r\nThere are eight valid base plans:\r\n- The 4x4 square with top left corner at (1, 1)\r\n- The 3x3 square with top left corner at (1, 1)\r\n- The 3x3 square with top left corner at (2, 2)\r\n- The 3x3 square with top left corner at (1, 1)\r\n- The 2x2 square with top left corner at (2, 2)\r\n- The 1x1 square which contains only the cell (1, 1)\r\n- The 1x1 square which contains only the cell (2, 3)\r\n- The 1x1 square which contains only the cell (3, 2)\r\n- The 1x1 square which contains only the cell (4, 4)\r\n\r\n![fig1](https:\/\/s3.amazonaws.com\/codechef_shared\/uploads\/2020\/BS3.png =400x200)\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"After fixing the mercury leak, Kim has arrived in the planning room, where he finds a square map of a field, with $N$ rows and $N$ columns. Each cell in the field is either empty, or has a lookout tower on it. Using his notes, he immediately realises that this field is where the JSA will build their new base!\r\n\r\nKim knows that Soum is a fan of symmetric base design, and will only approve of a base to be built if it is square. Furthermore, Soum also requires that all the rows in the base, and all the columns in the base have exactly one tower square in them. \r\n\r\nThis means that a base plan is valid if and only if:\r\n\r\n* It is square in shape\r\n* Every row in the base has exactly one lookout tower in it.\r\n* Every column in the base has exactly one lookout tower in it.\r\n\r\nKim notices that all the rows and all the columns in the field have exactly one tower square in them, but he knows that some of them could have been built to throw him off! Can you help Kim find how many valid base plans are possible in this field? Two base plans are considered different if one contains a cell in the grid that the other does not.\r\n\r\n\r\nPlease refer to the samples for more details.\r\n\r\n###Input:\r\n\r\n- The first line of input contains $T$, the number of testcases.\r\n- The first line of each testcase contains a single integer, $N$, representing the side length of the field.\r\n- The next $N$ lines of each testcase contain a string of length $N$, consisting of only 0 and 1. If position $j$ in string $i$ is 0, it means that this the field has no tower at $[i][j]$, and if it is 1, then this cell does have a tower at $[i][j]$.\r\n\r\nIt is guaranteed that every row in the input will have exactly one tower, and every column in the input will also have exactly one tower.\r\n\r\n###Output:\r\nFor each testcase, output a single integer $K$, representing the number of different base plans possible.\r\n\r\n\r\n###Subtasks\r\n\r\n- For all subtasks, $N \\leq 2500$ and $T \\leq 10$. \r\n- In addition, the sum of $N$ in any testfile is at most $2500$.\r\n\r\nSubtask 1 [28 points] : All the towers will be on the diagonal from the top-left to the bottom-right positions. Formally, all positions where $i = j$ have a tower. And no other position has a tower\r\n\r\nSubtask 2 [39 points] : $N \\leq 600$\r\n\r\nSubtask 3 [33 points] : $N \\leq 2500$\r\n\r\n###Sample Input:\r\n\t2\r\n\t2\r\n\t10\r\n\t01\r\n\t4\r\n\t1000\r\n\t0010\r\n\t0100\r\n\t0001\r\n\r\n###Sample Output:\r\n\t3\r\n\t8\r\n\t\r\n###Explanation:\r\n\r\n![fig1](https:\/\/s3.amazonaws.com\/codechef_shared\/uploads\/2020\/BS2.png =100x100)\r\n\r\nIn the first testcase, there are three valid base plans: The entire 2x2 square, the 1x1 square which contains only the cell (1, 1) and the 1x1 square which contains only the cell (2, 2).\r\n\r\n![fig1](https:\/\/s3.amazonaws.com\/codechef_shared\/uploads\/2020\/BS1.png =300x100)\r\n\r\nIn the second testcase, \r\n\r\n![fig1](https:\/\/s3.amazonaws.com\/codechef_shared\/uploads\/2020\/BS4.png =150x150)\r\n\r\nThere are eight valid base plans:\r\n- The 4x4 square with top left corner at (1, 1)\r\n- The 3x3 square with top left corner at (1, 1)\r\n- The 3x3 square with top left corner at (2, 2)\r\n- The 3x3 square with top left corner at (1, 1)\r\n- The 2x2 square with top left corner at (2, 2)\r\n- The 1x1 square which contains only the cell (1, 1)\r\n- The 1x1 square which contains only the cell (2, 3)\r\n- The 1x1 square which contains only the cell (3, 2)\r\n- The 1x1 square which contains only the cell (4, 4)\r\n\r\n![fig1](https:\/\/s3.amazonaws.com\/codechef_shared\/uploads\/2020\/BS3.png =400x200)","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM","max_timelimit":"1","source_sizelimit":"50000","problem_author":"socho","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span class='m-username--link'>socho<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"17-02-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/socho'>socho<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/uwcoi20'>uwcoi20<\/a>","problem_difficulty_level":"Easy","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/UWCOI20D","time":{"view_start_date":1582655400,"submit_start_date":1582655400,"visible_start_date":1582655400,"end_date":1735669800,"current":1643797904},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=UWCOI20D","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
{"category_name":"easy","status":"success","problem_code":"TREDIFF","problem_name":"Tree difference","body":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/LTIME84\/hindi\/TREDIFF.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME84\/bengali\/TREDIFF.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/LTIME84\/mandarin\/TREDIFF.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME84\/russian\/TREDIFF.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME84\/vietnamese\/TREDIFF.pdf) as well.\r\n\r\nYou are given a tree with $N$ nodes (numbered $1$ through $N$). For each valid $i$, node $i$ has a value $A_i$.\r\n\r\nYou should answer $Q$ queries. In each query:\r\n- You are given two nodes $a$ and $b$.\r\n- Let $S$ denote the set of all nodes on the simple path between the nodes $a$ and $b$ (including these nodes).\r\n- Find the minimum value of $|A_x-A_y|$ over all pairs $x, y \\in S$ such that $x \\neq y$.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $Q$.\r\n- The second line contains $N$ space-separated integers $A_1, A_2, \\ldots, A_N$.\r\n- Each of the next $N-1$ lines contains two space-separated integers $u$ and $v$ denoting that nodes $u$ and $v$ are connected by an edge.\r\n- Each of the last $Q$ lines contains two space-separated integers $a$ and $b$ describing a query.\r\n\r\n### Output\r\nFor each query, print a single line containing one integer \u2015 the answer to the query.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 20$\r\n- $2 \\le N \\le 2 \\cdot 10^5$\r\n- $1 \\le Q \\le 2 \\cdot 10^5$\r\n- $1 \\le A_i \\le 100$ for each valid $i$\r\n- $1 \\le u, v, a, b \\le N$\r\n- $a \\neq b$\r\n- the sum of $N$ over all test cases does not exceed $5 \\cdot 10^5$\r\n- the sum of $Q$ over all test cases does not exceed $5 \\cdot 10^5$\r\n\r\n### Subtasks\r\n**Subtask #1 (30 points):** $N, Q \\le 1,000$\r\n\r\n**Subtask #2 (70 points):** original constraints\r\n\r\n### Example Input\r\n```\r\n1\r\n6 3\r\n10 2 5 6 5 6\r\n1 2\r\n2 3\r\n2 4\r\n1 5\r\n5 6\r\n5 6\r\n3 5\r\n1 4\r\n```\r\n\r\n### Example Output\r\n```\r\n1\r\n0\r\n4\r\n```\r\n\r\n### Explanation\r\n**Example case 1:**\r\n- For the first query, $S=\\{5, 6\\}$, so the answer is $|A_5-A_6|=1$.\r\n- For the second query, $S=\\{3, 2, 1, 5\\}$ and we can see that $|A_3-A_5|=0$.\r\n- For the third query, $S=\\{1, 2, 4\\}$.\r\n\n<aside style='background: #f8f8f8;padding: 10px 15px;'><div>All submissions for this problem are available.<\/div><\/aside>","problemComponents":{"constraints":"","constraintsState":false,"subtasks":"","subtasksState":false,"statement":"### Read problem statements in [Hindi](https:\/\/www.codechef.com\/download\/translated\/LTIME84\/hindi\/TREDIFF.pdf), [Bengali](https:\/\/www.codechef.com\/download\/translated\/LTIME84\/bengali\/TREDIFF.pdf), [Mandarin Chinese](https:\/\/www.codechef.com\/download\/translated\/LTIME84\/mandarin\/TREDIFF.pdf), [Russian](https:\/\/www.codechef.com\/download\/translated\/LTIME84\/russian\/TREDIFF.pdf), and [Vietnamese](https:\/\/www.codechef.com\/download\/translated\/LTIME84\/vietnamese\/TREDIFF.pdf) as well.\r\n\r\nYou are given a tree with $N$ nodes (numbered $1$ through $N$). For each valid $i$, node $i$ has a value $A_i$.\r\n\r\nYou should answer $Q$ queries. In each query:\r\n- You are given two nodes $a$ and $b$.\r\n- Let $S$ denote the set of all nodes on the simple path between the nodes $a$ and $b$ (including these nodes).\r\n- Find the minimum value of $|A_x-A_y|$ over all pairs $x, y \\in S$ such that $x \\neq y$.\r\n\r\n### Input\r\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\r\n- The first line of each test case contains two space-separated integers $N$ and $Q$.\r\n- The second line contains $N$ space-separated integers $A_1, A_2, \\ldots, A_N$.\r\n- Each of the next $N-1$ lines contains two space-separated integers $u$ and $v$ denoting that nodes $u$ and $v$ are connected by an edge.\r\n- Each of the last $Q$ lines contains two space-separated integers $a$ and $b$ describing a query.\r\n\r\n### Output\r\nFor each query, print a single line containing one integer \u2015 the answer to the query.\r\n\r\n### Constraints\r\n- $1 \\le T \\le 20$\r\n- $2 \\le N \\le 2 \\cdot 10^5$\r\n- $1 \\le Q \\le 2 \\cdot 10^5$\r\n- $1 \\le A_i \\le 100$ for each valid $i$\r\n- $1 \\le u, v, a, b \\le N$\r\n- $a \\neq b$\r\n- the sum of $N$ over all test cases does not exceed $5 \\cdot 10^5$\r\n- the sum of $Q$ over all test cases does not exceed $5 \\cdot 10^5$\r\n\r\n### Subtasks\r\n**Subtask #1 (30 points):** $N, Q \\le 1,000$\r\n\r\n**Subtask #2 (70 points):** original constraints","inputFormat":"","inputFormatState":false,"outputFormat":"","outputFormatState":false,"sampleTestCases":[{"id":"1","input":"1\r\n6 3\r\n10 2 5 6 5 6\r\n1 2\r\n2 3\r\n2 4\r\n1 5\r\n5 6\r\n5 6\r\n3 5\r\n1 4","output":"1\r\n0\r\n4","explanation":"**Example case 1:**\r\n- For the first query, $S=\\{5, 6\\}$, so the answer is $|A_5-A_6|=1$.\r\n- For the second query, $S=\\{3, 2, 1, 5\\}$ and we can see that $|A_3-A_5|=0$.\r\n- For the third query, $S=\\{1, 2, 4\\}$.","isDeleted":false}]},"video_editorial_url":"","languages_supported":"CPP14, C, JAVA, PYTH 3.6, CPP17, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, kotlin, BASH, JS, LISP sbcl, rust, PAS gpc, BF, CLOJ, R, D, CAML, FORT, ASM, swift, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, ICK, NICE, PRLG, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, SQLQ, NEM","max_timelimit":"2","source_sizelimit":"50000","problem_author":"vivek_1998299","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #D0011B;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>7&#9733;<\/span><span class='m-username--link'>vivek_1998299<\/span>","problem_tester":null,"problem_tester_html_handle":"","date_added":"26-05-2020","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/easy-medium'>easy-medium<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/ltime84'>ltime84<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/pigeonhole'>pigeonhole<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/taran_1407'>taran_1407<\/a>, <a class='problem-tag-small ' href='\/tags\/problems\/vivek_1998299'>vivek_1998299<\/a>","problem_difficulty_level":"Easy-Medium","user_zen_mode":false,"best_tag":"","editorial_url":"https:\/\/discuss.codechef.com\/problems\/TREDIFF","time":{"view_start_date":1590858002,"submit_start_date":1590858002,"visible_start_date":1590858002,"end_date":1735669800,"current":1643797897},"user":{"username":null,"access":"default"},"todo":false,"problem_status":"unattempted","is_direct_submittable":false,"problemDiscussURL":"https:\/\/discuss.codechef.com\/search?q=TREDIFF","is_proctored":false,"is_user_verified_for_proctoring":null,"visitedContests":[]}
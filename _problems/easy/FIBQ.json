{"category_name":"easy","status":"success","problem_code":"FIBQ","problem_name":"Fibonacci Queries","body":"<span class=\"solution-visible-txt\">All submissions for this problem are available.<\/span><h3> Read problems statements in <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/APRIL16\/mandarin\/FIBQ.pdf\">Mandarin Chinese<\/a>, <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/APRIL16\/russian\/FIBQ.pdf\">Russian<\/a> and <a target=\"_blank\" href=\"http:\/\/www.codechef.com\/download\/translated\/APRIL16\/vietnamese\/FIBQ.pdf\">Vietnamese<\/a> as well.<\/h3>\n<p>Chef's love for Fibonacci numbers helps him to design following interesting problem.<\/p>\n<p>He defines a function <b>F<\/b> for an array <b>S<\/b> as follows:<\/p>\n<p><img src=\"https:\/\/s3.amazonaws.com\/hr-challenge-images\/19693\/1459283019-4876ee08cd-image.JPG\" title=\"image.JPG\" \/><\/p>\n<p>\nwhere<\/p>\n<ul>\n<li><b>S<sub>i<\/sub><\/b> denotes a <b>non-empty<\/b> subset of multiset <b>S<\/b>.<\/li>\n<li><b>sum(S<sub>i<\/sub>)<\/b> denotes the sum of all element of multiset <b>S<sub>i<\/sub><\/b>.<\/li>\n<li><b>Fibonacci(x)<\/b> denotes the <b>x<sup>th<\/sup><\/b> Fibonacci number.<\/li>\n<\/ul>\n\n<p>Given an array <b>A<\/b> consisting of <b>N<\/b> elements. Chef asked you to process following two types of queries on this array accurately and efficiently.<\/p>\n<ul>\n<li><b>C X Y:<\/b> Change the value of <b>X<sup>th<\/sup><\/b> element of array to <b>Y<\/b> i.e <b>A<sub>X<\/sub> = Y<\/b>.<\/li>\n<li><b>Q L R:<\/b> Compute function <b>F<\/b> over the subarray defined by the elements of array <b>A<\/b> in the range <b>L<\/b> to <b>R<\/b>, both inclusive.<\/li>\n<\/ul>\n\n<p>\nPlease see the Note section if you need details regarding Fibonacci function.\n<\/p>\n<h3>Input<\/h3>\n<p>First line of input contains <b>2<\/b> space separated integer <b>N<\/b> and <b>M<\/b> denoting the size of array <b>A<\/b> and the number of queries to be performed. Next line of input contains <b>N<\/b> space separated integers denoting the elements of array <b>A<\/b>. Each of next <b>M<\/b> lines of input contains a query having one of the mentioned two types.<\/p>\n<h3>Output<\/h3>\n<p>For each query of type <b>Q<\/b>, output the value of function <b>F<\/b> for the given range of array <b>A<\/b>.<\/p>\n<h3>Constraints<\/h3>\n<ul>\n<li><b>1 \u2264 N, M \u2264 10<sup>5<\/sup><\/b><\/li>\n<li><b>1 \u2264 A<sub>i<\/sub>, Y \u2264 10<sup>9<\/sup><\/b><\/li>\n<li><b>1 \u2264 L, R, X \u2264 N<\/b><\/li>\n<li> type = <b>{'C', 'Q'} <\/b><\/li>\n<\/ul>\n<h3>Subtasks<\/h3>\n<ul>\n<li>Subtask 1 (20 points) : <b>1 \u2264 N, M \u2264 1000, 1 \u2264 A<sub>i<\/sub>, Y \u2264 10<sup>6<\/sup>, type = { 'Q' }<\/b> <\/li>\n<li>Subtask 2 (20 points) : <b>1 \u2264 N, M \u2264 50000, 1 \u2264 A<sub>i<\/sub>, Y \u2264 10<sup>9<\/sup>, type = { 'C', Q' }<\/b> <\/li>\n<li>Subtask 3 (30 points) : <b>1 \u2264 N, M \u2264 10<sup>5<\/sup>, 1 \u2264 A<sub>i<\/sub>, Y \u2264 10<sup>9<\/sup>, type = { 'Q' } <\/b><\/li>\n<li>Subtask 4 (30 points) : <b>1 \u2264 N, M \u2264 10<sup>5<\/sup>, 1 \u2264 A<sub>i<\/sub>, Y \u2264 10<sup>9<\/sup>, type = { 'C', Q' }<\/b><\/li>\n<\/ul>\n<h3>Example<\/h3>\n<p><b>Input<\/b><\/p>\n<pre>\n3 5\n1 2 3\nQ 1 2\nQ 2 3\nC 1 2\nQ 1 2\nQ 1 3\n\n<\/pre><p><b>Output<\/b><\/p>\n<pre>\n4\n8\n5\n30\n<\/pre><h3>Explanation:<\/h3>\n<ul>\n<li><b>Q<sub>1<\/sub><\/b> : F = Fibonacci(1) + Fibonacci(2) + Fibonacci(1+2) = 4 % 1000000007 = 4<\/li>\n<li><b>Q<sub>2<\/sub><\/b> : F = Fibonacci(2) + Fibonacci(3) + Fibonacci(2+3) = 8 % 1000000007 = 8<\/li>\n<li><b>Q<sub>3<\/sub><\/b> : A = {2, 2, 3}<\/li>\n<li><b>Q<sub>4<\/sub><\/b> : F = Fibonacci(2) + Fibonacci(2) + Fibonacci(2+2) = 5 % 1000000007 = 5<\/li>\n<li><b>Q<sub>5<\/sub><\/b> : F = Fibonacci(2) + Fibonacci(2) + Fibonacci(3) + Fibonacci(2+2) + Fibonacci(2+3) + Fibonacci(2+3) + Fibonacci(2+2+3) = 30 % 1000000007 = 30<\/li>\n<\/ul>\n<h3>Note<\/h3>\n<p><b>Fibonacci<sub>K<\/sub><\/b> denotes the <b>K<sup>th<\/sup><\/b> Fibonacci number. Fibonacci series is defined as follows:<\/p>\n<ul>\n<li>For <b>1 \u2264 K \u2264 2<\/b>, <b>Fibonacci<sub>K<\/sub> = 1<\/b><\/li>\n<li>Otherwise, <b>Fibonacci<sub>K<\/sub> = Fibonacci<sub>K-1<\/sub> + Fibonacci<sub>K-2<\/sub><\/b><\/li>\n<p>Please check this <a href=\"https:\/\/en.wikipedia.org\/wiki\/Fibonacci_number\">link<\/a> for more details about Fibonacci numbers.\n<\/p><\/ul>\n","languages_supported":"ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC","max_timelimit":"3","source_sizelimit":"50000","problem_author":"ma5termind","problem_author_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #3366CC;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>3&#9733;<\/span><span>ma5termind<\/span>","problem_tester":"xcwgf666","problem_tester_html_handle":"<span \n            class='rating' \n            style='display: inline-block; \n                    font-size: 10px; \n                    background: #FF7F00;\n                    padding: 0 3px; \n                    line-height: 1.3; \n                    color: white;\n                    margin-right: 2px;'>6&#9733;<\/span><span>xcwgf666<\/span>","date_added":"12-01-2016","tags":"<a class='problem-tag-small ' href='\/tags\/problems\/april16'>\n                    april16\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/fibonacci'>\n                    fibonacci\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/ma5termind'>\n                    ma5termind\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/medium'>\n                    medium\n                <\/a><a class='problem-tag-small ' href='\/tags\/problems\/segment-tree'>\n                    segment-tree\n                <\/a>","editorial_url":"http:\/\/discuss.codechef.com\/problems\/FIBQ","user":{"username":null},"time":{"view_start_date":1460374200,"submit_start_date":1460374200,"visible_start_date":1460374200,"end_date":1735669800,"current":1493558145},"todo":false,"problem_status":"unattempted"}